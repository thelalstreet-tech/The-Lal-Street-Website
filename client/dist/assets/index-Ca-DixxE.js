const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bucketLiveReturnsService-Bf6y6YtO.js","assets/react-vendor-Dazix4UH.js","assets/bucketRecalculationService-CGfwf2iq.js","assets/index.es-vwAsDn0p.js"])))=>i.map(i=>d[i]);
import{r as uN,g as mr,a as qk,c as Fi}from"./react-vendor-Dazix4UH.js";function $B(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Vv={exports:{}},pf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3;function qB(){if(S3)return pf;S3=1;var t=uN(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(o,l,c){var d,f={},p=null,h=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(h=l.ref);for(d in l)n.call(l,d)&&!i.hasOwnProperty(d)&&(f[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:e,type:o,key:p,ref:h,props:f,_owner:a.current}}return pf.Fragment=r,pf.jsx=s,pf.jsxs=s,pf}var A3;function zB(){return A3||(A3=1,Vv.exports=qB()),Vv.exports}var u=zB(),j=uN();const ve=mr(j),dN=$B({__proto__:null,default:ve},[j]);var qp={},j3;function UB(){if(j3)return qp;j3=1;var t=qk();return qp.createRoot=t.createRoot,qp.hydrateRoot=t.hydrateRoot,qp}var WB=UB();const HB=mr(WB);var VB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KB=(t,e)=>{const r=j.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:o,...l},c)=>j.createElement("svg",{ref:c,...VB,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:`lucide lucide-${GB(t)}`,...l},[...e.map(([d,f])=>j.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var $t=KB;const YB=$t("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Yf=$t("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),qm=$t("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),fN=$t("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Fu=$t("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),zk=$t("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Uk=$t("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Wk=$t("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),f0=$t("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Hk=$t("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Vk=$t("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),h0=$t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Gk=$t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),XB=$t("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Kk=$t("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ec=$t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),hN=$t("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Yk=$t("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ZB=$t("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_3=$t("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),JB=$t("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),QB=$t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),e$=$t("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Sa=$t("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Xk=$t("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),G2=$t("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),K2=$t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Zk=$t("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),t$=$t("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Jk=$t("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Qk=$t("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),r$=$t("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),n$=$t("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),p0=$t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),eL=$t("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),pN=$t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ll=$t("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Y2=$t("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),tL=$t("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),zm=$t("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Um=$t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),m0=$t("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),oa=$t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),mN=$t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_o=$t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rL=$t("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function P3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hh(...t){return e=>{let r=!1;const n=t.map(a=>{const i=P3(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():P3(t[a],null)}}}}function lr(...t){return j.useCallback(Hh(...t),t)}function Tc(t){const e=i$(t),r=j.forwardRef((n,a)=>{const{children:i,...s}=n,o=j.Children.toArray(i),l=o.find(o$);if(l){const c=l.props.children,d=o.map(f=>f===l?j.Children.count(c)>1?j.Children.only(null):j.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...s,ref:a,children:j.isValidElement(c)?j.cloneElement(c,void 0,d):null})}return u.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var a$=Tc("Slot");function i$(t){const e=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const s=c$(a),o=l$(i,a.props);return a.type!==j.Fragment&&(o.ref=n?Hh(n,s):s),j.cloneElement(a,o)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nL=Symbol("radix.slottable");function s$(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=nL,e}function o$(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nL}function l$(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function c$(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function aL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=aL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ir(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=aL(t))&&(n&&(n+=" "),n+=e);return n}const C3=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,E3=ir,g0=(t,e)=>r=>{var n;if(e?.variants==null)return E3(t,r?.class,r?.className);const{variants:a,defaultVariants:i}=e,s=Object.keys(a).map(c=>{const d=r?.[c],f=i?.[c];if(d===null)return null;const p=C3(d)||C3(f);return a[c][p]}),o=r&&Object.entries(r).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...i,...o}[m]):{...i,...o}[m]===g})?[...c,f,p]:c},[]);return E3(t,s,l,r?.class,r?.className)},gN="-",u$=t=>{const e=f$(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(gN);return o[0]===""&&o.length!==1&&o.shift(),iL(o,e)||d$(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},iL=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?iL(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(gN);return e.validators.find(({validator:s})=>s(i))?.classGroupId},T3=/^\[(.+)\]$/,d$=t=>{if(T3.test(t)){const e=T3.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},f$=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return p$(Object.entries(t.classGroups),r).forEach(([i,s])=>{X2(s,n,i,e)}),n},X2=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:O3(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(h$(a)){X2(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{X2(s,O3(e,i),r,n)})})},O3=(t,e)=>{let r=t;return e.split(gN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},h$=t=>t.isThemeGetter,p$=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[e+s,o])):i);return[r,a]}):t,m$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},sL="!",g$=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,s=o=>{const l=[];let c=0,d=0,f;for(let g=0;g<o.length;g++){let b=o[g];if(c===0){if(b===a&&(n||o.slice(g,g+i)===e)){l.push(o.slice(d,g)),d=g+i;continue}if(b==="/"){f=g;continue}}b==="["?c++:b==="]"&&c--}const p=l.length===0?o:o.substring(d),h=p.startsWith(sL),v=h?p.substring(1):p,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:s}):s},v$=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},y$=t=>({cache:m$(t.cacheSize),parseClassName:g$(t),...u$(t)}),b$=/\s+/,x$=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],s=t.trim().split(b$);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=r(c);let v=!!h,m=n(v?p.substring(0,h):p);if(!m){if(!v){o=c+(o.length>0?" "+o:o);continue}if(m=n(p),!m){o=c+(o.length>0?" "+o:o);continue}v=!1}const g=v$(d).join(":"),b=f?g+sL:g,w=b+m;if(i.includes(w))continue;i.push(w);const N=a(m,v);for(let _=0;_<N.length;++_){const A=N[_];i.push(b+A)}o=c+(o.length>0?" "+o:o)}return o};function w$(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=oL(e))&&(n&&(n+=" "),n+=r);return n}const oL=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=oL(t[n]))&&(r&&(r+=" "),r+=e);return r};function N$(t,...e){let r,n,a,i=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return r=y$(c),n=r.cache.get,a=r.cache.set,i=o,o(l)}function o(l){const c=n(l);if(c)return c;const d=x$(l,r);return a(l,d),d}return function(){return i(w$.apply(null,arguments))}}const zr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},lL=/^\[(?:([a-z-]+):)?(.+)\]$/i,S$=/^\d+\/\d+$/,A$=new Set(["px","full","screen"]),j$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xo=t=>Bu(t)||A$.has(t)||S$.test(t),bl=t=>Td(t,"length",D$),Bu=t=>!!t&&!Number.isNaN(Number(t)),Gv=t=>Td(t,"number",Bu),mf=t=>!!t&&Number.isInteger(Number(t)),T$=t=>t.endsWith("%")&&Bu(t.slice(0,-1)),Kt=t=>lL.test(t),xl=t=>j$.test(t),O$=new Set(["length","size","percentage"]),k$=t=>Td(t,O$,cL),L$=t=>Td(t,"position",cL),I$=new Set(["image","url"]),R$=t=>Td(t,I$,B$),M$=t=>Td(t,"",F$),gf=()=>!0,Td=(t,e,r)=>{const n=lL.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},D$=t=>_$.test(t)&&!P$.test(t),cL=()=>!1,F$=t=>C$.test(t),B$=t=>E$.test(t),$$=()=>{const t=zr("colors"),e=zr("spacing"),r=zr("blur"),n=zr("brightness"),a=zr("borderColor"),i=zr("borderRadius"),s=zr("borderSpacing"),o=zr("borderWidth"),l=zr("contrast"),c=zr("grayscale"),d=zr("hueRotate"),f=zr("invert"),p=zr("gap"),h=zr("gradientColorStops"),v=zr("gradientColorStopPositions"),m=zr("inset"),g=zr("margin"),b=zr("opacity"),w=zr("padding"),N=zr("saturate"),_=zr("scale"),A=zr("sepia"),C=zr("skew"),E=zr("space"),R=zr("translate"),L=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",Kt,e],O=()=>[Kt,e],k=()=>["",xo,bl],M=()=>["auto",Bu,Kt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Kt],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Bu,Kt];return{cacheSize:500,separator:":",theme:{colors:[gf],spacing:[xo,bl],blur:["none","",xl,Kt],brightness:de(),borderColor:[t],borderRadius:["none","","full",xl,Kt],borderSpacing:O(),borderWidth:k(),contrast:de(),grayscale:q(),hueRotate:de(),invert:q(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[T$,bl],inset:S(),margin:S(),opacity:de(),padding:O(),saturate:de(),scale:de(),sepia:q(),skew:de(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Kt]}],container:["container"],columns:[{columns:[xl]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Kt]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mf,Kt]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Kt]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",mf,Kt]}],"grid-cols":[{"grid-cols":[gf]}],"col-start-end":[{col:["auto",{span:["full",mf,Kt]},Kt]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[gf]}],"row-start-end":[{row:["auto",{span:[mf,Kt]},Kt]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Kt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Kt,e]}],"min-w":[{"min-w":[Kt,e,"min","max","fit"]}],"max-w":[{"max-w":[Kt,e,"none","full","min","max","fit","prose",{screen:[xl]},xl]}],h:[{h:[Kt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Kt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Kt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Kt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xl,bl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gv]}],"font-family":[{font:[gf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Kt]}],"line-clamp":[{"line-clamp":["none",Bu,Gv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xo,Kt]}],"list-image":[{"list-image":["none",Kt]}],"list-style-type":[{list:["none","disc","decimal",Kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xo,bl]}],"underline-offset":[{"underline-offset":["auto",xo,Kt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),L$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",k$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[xo,Kt]}],"outline-w":[{outline:[xo,bl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[xo,bl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xl,M$]}],"shadow-color":[{shadow:[gf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xl,Kt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Kt]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Kt]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[mf,Kt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Kt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Kt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Kt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xo,bl,Gv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},q$=N$($$);function Et(...t){return q$(ir(t))}const z$=g0("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ct=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const s=n?a$:"button";return u.jsx(s,{className:Et(z$({variant:e,size:r,className:t})),ref:i,...a})});Ct.displayName="Button";const Ua="https://the-lal-street-website.onrender.com",Ha={FUNDS_SEARCH:`${Ua}/api/funds/search`,FUNDS_NAV:`${Ua}/api/funds/get-nav-bucket`,SUGGESTED_BUCKETS:`${Ua}/api/suggested-buckets`,BLOGS:`${Ua}/api/blogs`,HEALTH_CHECK:`${Ua}/api/health`,BUCKET_LIVE_RETURNS:`${Ua}/api/bucket-live-returns`},v0="accessToken",vN="refreshToken",yN="user",uL=(t,e)=>{localStorage.setItem(v0,t),localStorage.setItem(vN,e)},bN=()=>{const t=localStorage.getItem(v0);return t||null},U$=()=>localStorage.getItem(vN),Wm=()=>{localStorage.removeItem(v0),localStorage.removeItem(vN),localStorage.removeItem(yN)},Hm=t=>{localStorage.setItem(yN,JSON.stringify(t))},dL=()=>{const t=localStorage.getItem(yN);if(!t)return null;try{return JSON.parse(t)}catch{return null}},W$=async(t,e,r)=>{const a=await(await fetch(`${Ua}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e,name:r})})).json();return a.success&&a.data&&(uL(a.data.accessToken,a.data.refreshToken),Hm(a.data.user)),a},H$=async(t,e)=>{const n=await(await fetch(`${Ua}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})})).json();return n.success&&n.data&&(uL(n.data.accessToken,n.data.refreshToken),Hm(n.data.user)),n},V$=()=>{window.location.href=`${Ua}/api/auth/google`},fL=async()=>{const t=U$();try{const e={"Content-Type":"application/json"},r={};t&&(r.refreshToken=t);const a=await(await Z2(`${Ua}/api/auth/refresh`,{method:"POST",headers:e,credentials:"include",body:Object.keys(r).length>0?JSON.stringify(r):void 0},3,2e3)).json();return a.success&&a.data?.accessToken&&a.data.accessToken?(localStorage.setItem(v0,a.data.accessToken),a.data.accessToken):null}catch(e){return console.error("Error refreshing token:",e),null}},Z2=async(t,e,r=3,n=1e3)=>{for(let a=0;a<r;a++)try{const i=await fetch(t,e);if(i.ok||i.status!==0&&i.status<500||a===r-1)return i;const s=n*Math.pow(2,a);await new Promise(o=>setTimeout(o,s))}catch(i){if(a===r-1)throw i;const s=n*Math.pow(2,a);await new Promise(o=>setTimeout(o,s))}return fetch(t,e)},zp=async(t=0)=>{try{const e=bN(),r={};e&&(r.Authorization=`Bearer ${e}`);const n=await Z2(`${Ua}/api/auth/me`,{headers:r,credentials:"include"},3,2e3);if(n.status===401){const i=await fL();if(i){const s=await Z2(`${Ua}/api/auth/me`,{headers:{Authorization:`Bearer ${i}`},credentials:"include"},2,1e3);if(s.ok){const o=await s.json();if(o.success&&o.data?.user)return Hm(o.data.user),o.data.user}}return t>1&&Wm(),null}if(!n.ok)return null;const a=await n.json();return a.success&&a.data?.user?(Hm(a.data.user),a.data.user):null}catch(e){return console.error("Error fetching current user:",e),null}},G$=async()=>{const t=bN();try{const e={};t&&(e.Authorization=`Bearer ${t}`),await fetch(`${Ua}/api/auth/logout`,{method:"POST",headers:e,credentials:"include"})}catch(e){console.error("Error logging out:",e)}finally{Wm()}},K$=()=>!!bN()&&!!dL(),Dt={log:(...t)=>{},warn:(...t)=>{},info:(...t)=>{},debug:(...t)=>{},error:(...t)=>{console.error(...t)}},hL=j.createContext(void 0),y0=()=>{const t=j.useContext(hL);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Y$=({children:t})=>{const[e,r]=j.useState(null),[n,a]=j.useState(!0);j.useEffect(()=>{let d=!0;return(async()=>{try{await new Promise(h=>setTimeout(h,500));try{const h=await zp(0);if(h&&d){r(h),a(!1);return}}catch(h){Dt.log("Error getting user from server:",h)}const p=dL();if(p&&K$()){r(p);try{const h=await zp(1);if(h)r(h);else if(await fL()){const m=await zp(2);m?r(m):(Wm(),r(null))}else r(null)}catch(h){Dt.log("Error verifying user:",h),r(null)}}else d&&r(null)}catch{d&&(Wm(),r(null))}finally{d&&a(!1)}})(),()=>{d=!1}},[]),j.useEffect(()=>{const f=new URLSearchParams(window.location.search).get("error");if(f){console.error("OAuth error:",f),window.history.replaceState({},document.title,window.location.pathname);return}window.location.search&&!f&&window.history.replaceState({},document.title,window.location.pathname)},[]);const i=j.useCallback(async(d,f,p)=>{const h=await W$(d,f,p);if(h.success&&h.data)r(h.data.user);else throw new Error(h.message||"Registration failed")},[]),s=j.useCallback(async(d,f)=>{const p=await H$(d,f);if(p.success&&p.data)r(p.data.user);else throw new Error(p.message||"Login failed")},[]),o=j.useCallback(async()=>{await G$(),r(null)},[]),l=j.useCallback(async()=>{const d=await zp(0);d&&r(d)},[]),c={user:e,isAuthenticated:!!e,isLoading:n,register:i,login:s,loginWithGoogle:V$,logout:o,refreshUser:l};return u.jsx(hL.Provider,{value:c,children:t})};function it(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return e?.(a)}}function X$(t,e){const r=j.createContext(e),n=i=>{const{children:s,...o}=i,l=j.useMemo(()=>o,Object.values(o));return u.jsx(r.Provider,{value:l,children:s})};n.displayName=t+"Provider";function a(i){const s=j.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Vi(t,e=[]){let r=[];function n(i,s){const o=j.createContext(s),l=r.length;r=[...r,s];const c=f=>{const{scope:p,children:h,...v}=f,m=p?.[t]?.[l]||o,g=j.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:g,children:h})};c.displayName=i+"Provider";function d(f,p){const h=p?.[t]?.[l]||o,v=j.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const a=()=>{const i=r.map(s=>j.createContext(s));return function(o){const l=o?.[t]||i;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,Z$(a,...e)]}function Z$(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...o,...f}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var Fn=globalThis?.document?j.useLayoutEffect:()=>{},J$=dN[" useInsertionEffect ".trim().toString()]||Fn;function Fo({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,s]=Q$({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:a;{const d=j.useRef(t!==void 0);j.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=j.useCallback(d=>{if(o){const f=eq(d)?d(t):d;f!==t&&s.current?.(f)}else i(d)},[o,t,i,s]);return[l,c]}function Q$({defaultProp:t,onChange:e}){const[r,n]=j.useState(t),a=j.useRef(r),i=j.useRef(e);return J$(()=>{i.current=e},[e]),j.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function eq(t){return typeof t=="function"}var Vh=qk();const tq=mr(Vh);var rq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=rq.reduce((t,e)=>{const r=Tc(`Primitive.${e}`),n=j.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function pL(t,e){t&&Vh.flushSync(()=>t.dispatchEvent(e))}function xN(t){const e=t+"CollectionProvider",[r,n]=Vi(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:g,children:b}=m,w=ve.useRef(null),N=ve.useRef(new Map).current;return u.jsx(a,{scope:g,itemMap:N,collectionRef:w,children:b})};s.displayName=e;const o=t+"CollectionSlot",l=Tc(o),c=ve.forwardRef((m,g)=>{const{scope:b,children:w}=m,N=i(o,b),_=lr(g,N.collectionRef);return u.jsx(l,{ref:_,children:w})});c.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Tc(d),h=ve.forwardRef((m,g)=>{const{scope:b,children:w,...N}=m,_=ve.useRef(null),A=lr(g,_),C=i(d,b);return ve.useEffect(()=>(C.itemMap.set(_,{ref:_,...N}),()=>void C.itemMap.delete(_))),u.jsx(p,{[f]:"",ref:A,children:w})});h.displayName=d;function v(m){const g=i(t+"CollectionConsumer",m);return ve.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((C,E)=>N.indexOf(C.ref.current)-N.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:c,ItemSlot:h},v,n]}var nq=j.createContext(void 0);function Gh(t){const e=j.useContext(nq);return t||e||"ltr"}function bs(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>e.current?.(...r),[])}function aq(t,e=globalThis?.document){const r=bs(t);j.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var iq="DismissableLayer",J2="dismissableLayer.update",sq="dismissableLayer.pointerDownOutside",oq="dismissableLayer.focusOutside",k3,mL=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kh=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...l}=t,c=j.useContext(mL),[d,f]=j.useState(null),p=d?.ownerDocument??globalThis?.document,[,h]=j.useState({}),v=lr(e,E=>f(E)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(g),w=d?m.indexOf(d):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,_=w>=b,A=uq(E=>{const R=E.target,L=[...c.branches].some(U=>U.contains(R));!_||L||(a?.(E),s?.(E),E.defaultPrevented||o?.())},p),C=dq(E=>{const R=E.target;[...c.branches].some(U=>U.contains(R))||(i?.(E),s?.(E),E.defaultPrevented||o?.())},p);return aq(E=>{w===c.layers.size-1&&(n?.(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},p),j.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(k3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),L3(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=k3)}},[d,p,r,c]),j.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),L3())},[d,c]),j.useEffect(()=>{const E=()=>h({});return document.addEventListener(J2,E),()=>document.removeEventListener(J2,E)},[]),u.jsx(qt.div,{...l,ref:v,style:{pointerEvents:N?_?"auto":"none":void 0,...t.style},onFocusCapture:it(t.onFocusCapture,C.onFocusCapture),onBlurCapture:it(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:it(t.onPointerDownCapture,A.onPointerDownCapture)})});Kh.displayName=iq;var lq="DismissableLayerBranch",cq=j.forwardRef((t,e)=>{const r=j.useContext(mL),n=j.useRef(null),a=lr(e,n);return j.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),u.jsx(qt.div,{...t,ref:a})});cq.displayName=lq;function uq(t,e=globalThis?.document){const r=bs(t),n=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let l=function(){gL(sq,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=l,e.addEventListener("click",a.current,{once:!0})):l()}else e.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function dq(t,e=globalThis?.document){const r=bs(t),n=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!n.current&&gL(oq,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function L3(){const t=new CustomEvent(J2);document.dispatchEvent(t)}function gL(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?pL(a,i):a.dispatchEvent(i)}var Kv=0;function wN(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??I3()),document.body.insertAdjacentElement("beforeend",t[1]??I3()),Kv++,()=>{Kv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kv--}},[])}function I3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Yv="focusScope.autoFocusOnMount",Xv="focusScope.autoFocusOnUnmount",R3={bubbles:!1,cancelable:!0},fq="FocusScope",b0=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=t,[o,l]=j.useState(null),c=bs(a),d=bs(i),f=j.useRef(null),p=lr(e,m=>l(m)),h=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let m=function(N){if(h.paused||!o)return;const _=N.target;o.contains(_)?f.current=_:Sl(f.current,{select:!0})},g=function(N){if(h.paused||!o)return;const _=N.relatedTarget;_!==null&&(o.contains(_)||Sl(f.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const A of N)A.removedNodes.length>0&&Sl(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const w=new MutationObserver(b);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),w.disconnect()}}},[n,o,h.paused]),j.useEffect(()=>{if(o){D3.add(h);const m=document.activeElement;if(!o.contains(m)){const b=new CustomEvent(Yv,R3);o.addEventListener(Yv,c),o.dispatchEvent(b),b.defaultPrevented||(hq(yq(vL(o)),{select:!0}),document.activeElement===m&&Sl(o))}return()=>{o.removeEventListener(Yv,c),setTimeout(()=>{const b=new CustomEvent(Xv,R3);o.addEventListener(Xv,d),o.dispatchEvent(b),b.defaultPrevented||Sl(m??document.body,{select:!0}),o.removeEventListener(Xv,d),D3.remove(h)},0)}}},[o,c,d,h]);const v=j.useCallback(m=>{if(!r&&!n||h.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(g&&b){const w=m.currentTarget,[N,_]=pq(w);N&&_?!m.shiftKey&&b===_?(m.preventDefault(),r&&Sl(N,{select:!0})):m.shiftKey&&b===N&&(m.preventDefault(),r&&Sl(_,{select:!0})):b===w&&m.preventDefault()}},[r,n,h.paused]);return u.jsx(qt.div,{tabIndex:-1,...s,ref:p,onKeyDown:v})});b0.displayName=fq;function hq(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Sl(n,{select:e}),document.activeElement!==r)return}function pq(t){const e=vL(t),r=M3(e,t),n=M3(e.reverse(),t);return[r,n]}function vL(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function M3(t,e){for(const r of t)if(!mq(r,{upTo:e}))return r}function mq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gq(t){return t instanceof HTMLInputElement&&"select"in t}function Sl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&gq(t)&&e&&t.select()}}var D3=vq();function vq(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=F3(t,e),t.unshift(e)},remove(e){t=F3(t,e),t[0]?.resume()}}}function F3(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function yq(t){return t.filter(e=>e.tagName!=="A")}var bq=dN[" useId ".trim().toString()]||(()=>{}),xq=0;function vs(t){const[e,r]=j.useState(bq());return Fn(()=>{r(n=>n??String(xq++))},[t]),e?`radix-${e}`:""}const wq=["top","right","bottom","left"],Bl=Math.min,pi=Math.max,Vm=Math.round,Up=Math.floor,Hs=t=>({x:t,y:t}),Nq={left:"right",right:"left",bottom:"top",top:"bottom"},Sq={start:"end",end:"start"};function Q2(t,e,r){return pi(t,Bl(e,r))}function Bo(t,e){return typeof t=="function"?t(e):t}function $o(t){return t.split("-")[0]}function Od(t){return t.split("-")[1]}function NN(t){return t==="x"?"y":"x"}function SN(t){return t==="y"?"height":"width"}const Aq=new Set(["top","bottom"]);function zs(t){return Aq.has($o(t))?"y":"x"}function AN(t){return NN(zs(t))}function jq(t,e,r){r===void 0&&(r=!1);const n=Od(t),a=AN(t),i=SN(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Gm(s)),[s,Gm(s)]}function _q(t){const e=Gm(t);return[ew(t),e,ew(e)]}function ew(t){return t.replace(/start|end/g,e=>Sq[e])}const B3=["left","right"],$3=["right","left"],Pq=["top","bottom"],Cq=["bottom","top"];function Eq(t,e,r){switch(t){case"top":case"bottom":return r?e?$3:B3:e?B3:$3;case"left":case"right":return e?Pq:Cq;default:return[]}}function Tq(t,e,r,n){const a=Od(t);let i=Eq($o(t),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),e&&(i=i.concat(i.map(ew)))),i}function Gm(t){return t.replace(/left|right|bottom|top/g,e=>Nq[e])}function Oq(t){return{top:0,right:0,bottom:0,left:0,...t}}function yL(t){return typeof t!="number"?Oq(t):{top:t,right:t,bottom:t,left:t}}function Km(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function q3(t,e,r){let{reference:n,floating:a}=t;const i=zs(e),s=AN(e),o=SN(s),l=$o(e),c=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[o]/2-a[o]/2;let h;switch(l){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Od(e)){case"start":h[s]-=p*(r&&c?-1:1);break;case"end":h[s]+=p*(r&&c?-1:1);break}return h}const kq=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=q3(c,n,l),p=n,h={},v=0;for(let m=0;m<o.length;m++){const{name:g,fn:b}=o[m],{x:w,y:N,data:_,reset:A}=await b({x:d,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});d=w??d,f=N??f,h={...h,[g]:{...h[g],..._}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(c=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):A.rects),{x:d,y:f}=q3(c,p,l)),m=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:h}};async function Xf(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Bo(e,t),v=yL(h),g=o[p?f==="floating"?"reference":"floating":f],b=Km(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),w=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),_=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},A=Km(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:N,strategy:l}):w);return{top:(b.top-A.top+v.top)/_.y,bottom:(A.bottom-b.bottom+v.bottom)/_.y,left:(b.left-A.left+v.left)/_.x,right:(A.right-b.right+v.right)/_.x}}const Lq=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Bo(t,e)||{};if(c==null)return{};const f=yL(d),p={x:r,y:n},h=AN(a),v=SN(h),m=await s.getDimensions(c),g=h==="y",b=g?"top":"left",w=g?"bottom":"right",N=g?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[h]-p[h]-i.floating[v],A=p[h]-i.reference[h],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let E=C?C[N]:0;(!E||!await(s.isElement==null?void 0:s.isElement(C)))&&(E=o.floating[N]||i.floating[v]);const R=_/2-A/2,L=E/2-m[v]/2-1,U=Bl(f[b],L),S=Bl(f[w],L),O=U,k=E-m[v]-S,M=E/2-m[v]/2+R,$=Q2(O,M,k),F=!l.arrow&&Od(a)!=null&&M!==$&&i.reference[v]/2-(M<O?U:S)-m[v]/2<0,z=F?M<O?M-O:M-k:0;return{[h]:p[h]+z,data:{[h]:$,centerOffset:M-$-z,...F&&{alignmentOffset:z}},reset:F}}}),Iq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Bo(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=$o(a),w=zs(o),N=$o(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(N||!m?[Gm(o)]:_q(o)),C=v!=="none";!p&&C&&A.push(...Tq(o,m,v,_));const E=[o,...A],R=await Xf(e,g),L=[];let U=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&L.push(R[b]),f){const M=jq(a,s,_);L.push(R[M[0]],R[M[1]])}if(U=[...U,{placement:a,overflows:L}],!L.every(M=>M<=0)){var S,O;const M=(((S=i.flip)==null?void 0:S.index)||0)+1,$=E[M];if($&&(!(f==="alignment"?w!==zs($):!1)||U.every(W=>zs(W.placement)===w?W.overflows[0]>0:!0)))return{data:{index:M,overflows:U},reset:{placement:$}};let F=(O=U.filter(z=>z.overflows[0]<=0).sort((z,W)=>z.overflows[1]-W.overflows[1])[0])==null?void 0:O.placement;if(!F)switch(h){case"bestFit":{var k;const z=(k=U.filter(W=>{if(C){const q=zs(W.placement);return q===w||q==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(q=>q>0).reduce((q,ee)=>q+ee,0)]).sort((W,q)=>W[1]-q[1])[0])==null?void 0:k[0];z&&(F=z);break}case"initialPlacement":F=o;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function z3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function U3(t){return wq.some(e=>t[e]>=0)}const Rq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=Bo(t,e);switch(n){case"referenceHidden":{const i=await Xf(e,{...a,elementContext:"reference"}),s=z3(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:U3(s)}}}case"escaped":{const i=await Xf(e,{...a,altBoundary:!0}),s=z3(i,r.floating);return{data:{escapedOffsets:s,escaped:U3(s)}}}default:return{}}}}},bL=new Set(["left","top"]);async function Mq(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=$o(r),o=Od(r),l=zs(r)==="y",c=bL.has(s)?-1:1,d=i&&l?-1:1,f=Bo(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(h=o==="end"?v*-1:v),l?{x:h*d,y:p*c}:{x:p*c,y:h*d}}const Dq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=e,l=await Mq(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}},Fq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:g=>{let{x:b,y:w}=g;return{x:b,y:w}}},...l}=Bo(t,e),c={x:r,y:n},d=await Xf(e,l),f=zs($o(a)),p=NN(f);let h=c[p],v=c[f];if(i){const g=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=h+d[g],N=h-d[b];h=Q2(w,h,N)}if(s){const g=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=v+d[g],N=v-d[b];v=Q2(w,v,N)}const m=o.fn({...e,[p]:h,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[f]:s}}}}}},Bq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Bo(t,e),d={x:r,y:n},f=zs(a),p=NN(f);let h=d[p],v=d[f];const m=Bo(o,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const N=p==="y"?"height":"width",_=i.reference[p]-i.floating[N]+g.mainAxis,A=i.reference[p]+i.reference[N]-g.mainAxis;h<_?h=_:h>A&&(h=A)}if(c){var b,w;const N=p==="y"?"width":"height",_=bL.has($o(a)),A=i.reference[f]-i.floating[N]+(_&&((b=s.offset)==null?void 0:b[f])||0)+(_?0:g.crossAxis),C=i.reference[f]+i.reference[N]+(_?0:((w=s.offset)==null?void 0:w[f])||0)-(_?g.crossAxis:0);v<A?v=A:v>C&&(v=C)}return{[p]:h,[f]:v}}}},$q=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Bo(t,e),d=await Xf(e,c),f=$o(a),p=Od(a),h=zs(a)==="y",{width:v,height:m}=i.floating;let g,b;f==="top"||f==="bottom"?(g=f,b=p===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(b=f,g=p==="end"?"top":"bottom");const w=m-d.top-d.bottom,N=v-d.left-d.right,_=Bl(m-d[g],w),A=Bl(v-d[b],N),C=!e.middlewareData.shift;let E=_,R=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=N),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=w),C&&!p){const U=pi(d.left,0),S=pi(d.right,0),O=pi(d.top,0),k=pi(d.bottom,0);h?R=v-2*(U!==0||S!==0?U+S:pi(d.left,d.right)):E=m-2*(O!==0||k!==0?O+k:pi(d.top,d.bottom))}await l({...e,availableWidth:R,availableHeight:E});const L=await s.getDimensions(o.floating);return v!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function x0(){return typeof window<"u"}function kd(t){return xL(t)?(t.nodeName||"").toLowerCase():"#document"}function yi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ro(t){var e;return(e=(xL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xL(t){return x0()?t instanceof Node||t instanceof yi(t).Node:!1}function xs(t){return x0()?t instanceof Element||t instanceof yi(t).Element:!1}function Xs(t){return x0()?t instanceof HTMLElement||t instanceof yi(t).HTMLElement:!1}function W3(t){return!x0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yi(t).ShadowRoot}const qq=new Set(["inline","contents"]);function Yh(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=ws(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!qq.has(a)}const zq=new Set(["table","td","th"]);function Uq(t){return zq.has(kd(t))}const Wq=[":popover-open",":modal"];function w0(t){return Wq.some(e=>{try{return t.matches(e)}catch{return!1}})}const Hq=["transform","translate","scale","rotate","perspective"],Vq=["transform","translate","scale","rotate","perspective","filter"],Gq=["paint","layout","strict","content"];function jN(t){const e=_N(),r=xs(t)?ws(t):t;return Hq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Vq.some(n=>(r.willChange||"").includes(n))||Gq.some(n=>(r.contain||"").includes(n))}function Kq(t){let e=$l(t);for(;Xs(e)&&!td(e);){if(jN(e))return e;if(w0(e))return null;e=$l(e)}return null}function _N(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Yq=new Set(["html","body","#document"]);function td(t){return Yq.has(kd(t))}function ws(t){return yi(t).getComputedStyle(t)}function N0(t){return xs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $l(t){if(kd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||W3(t)&&t.host||ro(t);return W3(e)?e.host:e}function wL(t){const e=$l(t);return td(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xs(e)&&Yh(e)?e:wL(e)}function Zf(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=wL(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),s=yi(a);if(i){const o=tw(s);return e.concat(s,s.visualViewport||[],Yh(a)?a:[],o&&r?Zf(o):[])}return e.concat(a,Zf(a,[],r))}function tw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NL(t){const e=ws(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Xs(t),i=a?t.offsetWidth:r,s=a?t.offsetHeight:n,o=Vm(r)!==i||Vm(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function PN(t){return xs(t)?t:t.contextElement}function $u(t){const e=PN(t);if(!Xs(e))return Hs(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=NL(e);let s=(i?Vm(r.width):r.width)/n,o=(i?Vm(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Xq=Hs(0);function SL(t){const e=yi(t);return!_N()||!e.visualViewport?Xq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zq(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==yi(t)?!1:e}function Oc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=PN(t);let s=Hs(1);e&&(n?xs(n)&&(s=$u(n)):s=$u(t));const o=Zq(i,r,n)?SL(i):Hs(0);let l=(a.left+o.x)/s.x,c=(a.top+o.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const p=yi(i),h=n&&xs(n)?yi(n):n;let v=p,m=tw(v);for(;m&&n&&h!==v;){const g=$u(m),b=m.getBoundingClientRect(),w=ws(m),N=b.left+(m.clientLeft+parseFloat(w.paddingLeft))*g.x,_=b.top+(m.clientTop+parseFloat(w.paddingTop))*g.y;l*=g.x,c*=g.y,d*=g.x,f*=g.y,l+=N,c+=_,v=yi(m),m=tw(v)}}return Km({width:d,height:f,x:l,y:c})}function S0(t,e){const r=N0(t).scrollLeft;return e?e.left+r:Oc(ro(t)).left+r}function AL(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-S0(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function Jq(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",s=ro(n),o=e?w0(e.floating):!1;if(n===s||o&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Hs(1);const d=Hs(0),f=Xs(n);if((f||!f&&!i)&&((kd(n)!=="body"||Yh(s))&&(l=N0(n)),Xs(n))){const h=Oc(n);c=$u(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=s&&!f&&!i?AL(s,l):Hs(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:r.y*c.y-l.scrollTop*c.y+d.y+p.y}}function Qq(t){return Array.from(t.getClientRects())}function ez(t){const e=ro(t),r=N0(t),n=t.ownerDocument.body,a=pi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=pi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+S0(t);const o=-r.scrollTop;return ws(n).direction==="rtl"&&(s+=pi(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}const H3=25;function tz(t,e){const r=yi(t),n=ro(t),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const d=_N();(!d||d&&e==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}const c=S0(n);if(c<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-h);v<=H3&&(i-=v)}else c<=H3&&(i+=c);return{width:i,height:s,x:o,y:l}}const rz=new Set(["absolute","fixed"]);function nz(t,e){const r=Oc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Xs(t)?$u(t):Hs(1),s=t.clientWidth*i.x,o=t.clientHeight*i.y,l=a*i.x,c=n*i.y;return{width:s,height:o,x:l,y:c}}function V3(t,e,r){let n;if(e==="viewport")n=tz(t,r);else if(e==="document")n=ez(ro(t));else if(xs(e))n=nz(e,r);else{const a=SL(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Km(n)}function jL(t,e){const r=$l(t);return r===e||!xs(r)||td(r)?!1:ws(r).position==="fixed"||jL(r,e)}function az(t,e){const r=e.get(t);if(r)return r;let n=Zf(t,[],!1).filter(o=>xs(o)&&kd(o)!=="body"),a=null;const i=ws(t).position==="fixed";let s=i?$l(t):t;for(;xs(s)&&!td(s);){const o=ws(s),l=jN(s);!l&&o.position==="fixed"&&(a=null),(i?!l&&!a:!l&&o.position==="static"&&!!a&&rz.has(a.position)||Yh(s)&&!l&&jL(t,s))?n=n.filter(d=>d!==s):a=o,s=$l(s)}return e.set(t,n),n}function iz(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const s=[...r==="clippingAncestors"?w0(e)?[]:az(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((c,d)=>{const f=V3(e,d,a);return c.top=pi(f.top,c.top),c.right=Bl(f.right,c.right),c.bottom=Bl(f.bottom,c.bottom),c.left=pi(f.left,c.left),c},V3(e,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sz(t){const{width:e,height:r}=NL(t);return{width:e,height:r}}function oz(t,e,r){const n=Xs(e),a=ro(e),i=r==="fixed",s=Oc(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=Hs(0);function c(){l.x=S0(a)}if(n||!n&&!i)if((kd(e)!=="body"||Yh(a))&&(o=N0(e)),n){const h=Oc(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else a&&c();i&&!n&&a&&c();const d=a&&!n&&!i?AL(a,o):Hs(0),f=s.left+o.scrollLeft-l.x-d.x,p=s.top+o.scrollTop-l.y-d.y;return{x:f,y:p,width:s.width,height:s.height}}function Zv(t){return ws(t).position==="static"}function G3(t,e){if(!Xs(t)||ws(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ro(t)===r&&(r=r.ownerDocument.body),r}function _L(t,e){const r=yi(t);if(w0(t))return r;if(!Xs(t)){let a=$l(t);for(;a&&!td(a);){if(xs(a)&&!Zv(a))return a;a=$l(a)}return r}let n=G3(t,e);for(;n&&Uq(n)&&Zv(n);)n=G3(n,e);return n&&td(n)&&Zv(n)&&!jN(n)?r:n||Kq(t)||r}const lz=async function(t){const e=this.getOffsetParent||_L,r=this.getDimensions,n=await r(t.floating);return{reference:oz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cz(t){return ws(t).direction==="rtl"}const uz={convertOffsetParentRelativeRectToViewportRelativeRect:Jq,getDocumentElement:ro,getClippingRect:iz,getOffsetParent:_L,getElementRects:lz,getClientRects:Qq,getDimensions:sz,getScale:$u,isElement:xs,isRTL:cz};function PL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function dz(t,e){let r=null,n;const a=ro(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=c;if(o||e(),!p||!h)return;const v=Up(f),m=Up(a.clientWidth-(d+p)),g=Up(a.clientHeight-(f+h)),b=Up(d),N={rootMargin:-v+"px "+-m+"px "+-g+"px "+-b+"px",threshold:pi(0,Bl(1,l))||1};let _=!0;function A(C){const E=C[0].intersectionRatio;if(E!==l){if(!_)return s();E?s(!1,E):n=setTimeout(()=>{s(!1,1e-7)},1e3)}E===1&&!PL(c,t.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(A,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(A,N)}r.observe(t)}return s(!0),i}function fz(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=PN(t),d=a||i?[...c?Zf(c):[],...Zf(e)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=c&&o?dz(c,r):null;let p=-1,h=null;s&&(h=new ResizeObserver(b=>{let[w]=b;w&&w.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=h)==null||N.observe(e)})),r()}),c&&!l&&h.observe(c),h.observe(e));let v,m=l?Oc(t):null;l&&g();function g(){const b=Oc(t);m&&!PL(m,b)&&r(),m=b,v=requestAnimationFrame(g)}return r(),()=>{var b;d.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f?.(),(b=h)==null||b.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const hz=Dq,pz=Fq,mz=Iq,gz=$q,vz=Rq,K3=Lq,yz=Bq,bz=(t,e,r)=>{const n=new Map,a={platform:uz,...r},i={...a.platform,_c:n};return kq(t,e,{...a,platform:i})};var xz=typeof document<"u",wz=function(){},Om=xz?j.useLayoutEffect:wz;function Ym(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Ym(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Ym(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function CL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Y3(t,e){const r=CL(t);return Math.round(e*r)/r}function Jv(t){const e=j.useRef(t);return Om(()=>{e.current=t}),e}function Nz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=j.useState(n);Ym(p,n)||h(n);const[v,m]=j.useState(null),[g,b]=j.useState(null),w=j.useCallback(W=>{W!==C.current&&(C.current=W,m(W))},[]),N=j.useCallback(W=>{W!==E.current&&(E.current=W,b(W))},[]),_=i||v,A=s||g,C=j.useRef(null),E=j.useRef(null),R=j.useRef(d),L=l!=null,U=Jv(l),S=Jv(a),O=Jv(c),k=j.useCallback(()=>{if(!C.current||!E.current)return;const W={placement:e,strategy:r,middleware:p};S.current&&(W.platform=S.current),bz(C.current,E.current,W).then(q=>{const ee={...q,isPositioned:O.current!==!1};M.current&&!Ym(R.current,ee)&&(R.current=ee,Vh.flushSync(()=>{f(ee)}))})},[p,e,r,S,O]);Om(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[c]);const M=j.useRef(!1);Om(()=>(M.current=!0,()=>{M.current=!1}),[]),Om(()=>{if(_&&(C.current=_),A&&(E.current=A),_&&A){if(U.current)return U.current(_,A,k);k()}},[_,A,k,U,L]);const $=j.useMemo(()=>({reference:C,floating:E,setReference:w,setFloating:N}),[w,N]),F=j.useMemo(()=>({reference:_,floating:A}),[_,A]),z=j.useMemo(()=>{const W={position:r,left:0,top:0};if(!F.floating)return W;const q=Y3(F.floating,d.x),ee=Y3(F.floating,d.y);return o?{...W,transform:"translate("+q+"px, "+ee+"px)",...CL(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:ee}},[r,o,F.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:k,refs:$,elements:F,floatingStyles:z}),[d,k,$,F,z])}const Sz=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?K3({element:n.current,padding:a}).fn(r):{}:n?K3({element:n,padding:a}).fn(r):{}}}},Az=(t,e)=>({...hz(t),options:[t,e]}),jz=(t,e)=>({...pz(t),options:[t,e]}),_z=(t,e)=>({...yz(t),options:[t,e]}),Pz=(t,e)=>({...mz(t),options:[t,e]}),Cz=(t,e)=>({...gz(t),options:[t,e]}),Ez=(t,e)=>({...vz(t),options:[t,e]}),Tz=(t,e)=>({...Sz(t),options:[t,e]});var Oz="Arrow",EL=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return u.jsx(qt.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});EL.displayName=Oz;var kz=EL;function CN(t){const[e,r]=j.useState(void 0);return Fn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var EN="Popper",[TL,Ld]=Vi(EN),[Lz,OL]=TL(EN),kL=t=>{const{__scopePopper:e,children:r}=t,[n,a]=j.useState(null);return u.jsx(Lz,{scope:e,anchor:n,onAnchorChange:a,children:r})};kL.displayName=EN;var LL="PopperAnchor",IL=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=OL(LL,r),s=j.useRef(null),o=lr(e,s),l=j.useRef(null);return j.useEffect(()=>{const c=l.current;l.current=n?.current||s.current,c!==l.current&&i.onAnchorChange(l.current)}),n?null:u.jsx(qt.div,{...a,ref:o})});IL.displayName=LL;var TN="PopperContent",[Iz,Rz]=TL(TN),RL=j.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:v,...m}=t,g=OL(TN,r),[b,w]=j.useState(null),N=lr(e,ie=>w(ie)),[_,A]=j.useState(null),C=CN(_),E=C?.width??0,R=C?.height??0,L=n+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},S=Array.isArray(c)?c:[c],O=S.length>0,k={padding:U,boundary:S.filter(Dz),altBoundary:O},{refs:M,floatingStyles:$,placement:F,isPositioned:z,middlewareData:W}=Nz({strategy:"fixed",placement:L,whileElementsMounted:(...ie)=>fz(...ie,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Az({mainAxis:a+R,alignmentAxis:s}),l&&jz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_z():void 0,...k}),l&&Pz({...k}),Cz({...k,apply:({elements:ie,rects:fe,availableWidth:se,availableHeight:he})=>{const{width:oe,height:ae}=fe.reference,xe=ie.floating.style;xe.setProperty("--radix-popper-available-width",`${se}px`),xe.setProperty("--radix-popper-available-height",`${he}px`),xe.setProperty("--radix-popper-anchor-width",`${oe}px`),xe.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),_&&Tz({element:_,padding:o}),Fz({arrowWidth:E,arrowHeight:R}),p&&Ez({strategy:"referenceHidden",...k})]}),[q,ee]=FL(F),de=bs(v);Fn(()=>{z&&de?.()},[z,de]);const B=W.arrow?.x,G=W.arrow?.y,Z=W.arrow?.centerOffset!==0,[te,ne]=j.useState();return Fn(()=>{b&&ne(window.getComputedStyle(b).zIndex)},[b]),u.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Iz,{scope:r,placedSide:q,onArrowChange:A,arrowX:B,arrowY:G,shouldHideArrow:Z,children:u.jsx(qt.div,{"data-side":q,"data-align":ee,...m,ref:N,style:{...m.style,animation:z?void 0:"none"}})})})});RL.displayName=TN;var ML="PopperArrow",Mz={top:"bottom",right:"left",bottom:"top",left:"right"},DL=j.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=Rz(ML,n),s=Mz[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(kz,{...a,ref:r,style:{...a.style,display:"block"}})})});DL.displayName=ML;function Dz(t){return t!==null}var Fz=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:a}=e,s=a.arrow?.centerOffset!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=FL(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(a.arrow?.x??0)+o/2,h=(a.arrow?.y??0)+l/2;let v="",m="";return c==="bottom"?(v=s?f:`${p}px`,m=`${-l}px`):c==="top"?(v=s?f:`${p}px`,m=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=s?f:`${h}px`):c==="left"&&(v=`${n.floating.width+l}px`,m=s?f:`${h}px`),{data:{x:v,y:m}}}});function FL(t){const[e,r="center"]=t.split("-");return[e,r]}var ON=kL,kN=IL,LN=RL,IN=DL,Bz="Portal",Xh=j.forwardRef((t,e)=>{const{container:r,...n}=t,[a,i]=j.useState(!1);Fn(()=>i(!0),[]);const s=r||a&&globalThis?.document?.body;return s?tq.createPortal(u.jsx(qt.div,{...n,ref:e}),s):null});Xh.displayName=Bz;function $z(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var Gi=t=>{const{present:e,children:r}=t,n=qz(e),a=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),i=lr(n.ref,zz(a));return typeof r=="function"||n.isPresent?j.cloneElement(a,{ref:i}):null};Gi.displayName="Presence";function qz(t){const[e,r]=j.useState(),n=j.useRef(null),a=j.useRef(t),i=j.useRef("none"),s=t?"mounted":"unmounted",[o,l]=$z(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const c=Wp(n.current);i.current=o==="mounted"?c:"none"},[o]),Fn(()=>{const c=n.current,d=a.current;if(d!==t){const p=i.current,h=Wp(c);t?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,l]),Fn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=h=>{const m=Wp(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(l("ANIMATION_END"),!a.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=h=>{h.target===e&&(i.current=Wp(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:j.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Wp(t){return t?.animationName||"none"}function zz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Qv="rovingFocusGroup.onEntryFocus",Uz={bubbles:!1,cancelable:!0},Zh="RovingFocusGroup",[rw,BL,Wz]=xN(Zh),[Hz,Id]=Vi(Zh,[Wz]),[Vz,Gz]=Hz(Zh),$L=j.forwardRef((t,e)=>u.jsx(rw.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(rw.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Kz,{...t,ref:e})})}));$L.displayName=Zh;var Kz=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=j.useRef(null),h=lr(e,p),v=Gh(i),[m,g]=Fo({prop:s,defaultProp:o??null,onChange:l,caller:Zh}),[b,w]=j.useState(!1),N=bs(c),_=BL(r),A=j.useRef(!1),[C,E]=j.useState(0);return j.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(Qv,N),()=>R.removeEventListener(Qv,N)},[N]),u.jsx(Vz,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:m,onItemFocus:j.useCallback(R=>g(R),[g]),onItemShiftTab:j.useCallback(()=>w(!0),[]),onFocusableItemAdd:j.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:j.useCallback(()=>E(R=>R-1),[]),children:u.jsx(qt.div,{tabIndex:b||C===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:it(t.onMouseDown,()=>{A.current=!0}),onFocus:it(t.onFocus,R=>{const L=!A.current;if(R.target===R.currentTarget&&L&&!b){const U=new CustomEvent(Qv,Uz);if(R.currentTarget.dispatchEvent(U),!U.defaultPrevented){const S=_().filter(F=>F.focusable),O=S.find(F=>F.active),k=S.find(F=>F.id===m),$=[O,k,...S].filter(Boolean).map(F=>F.ref.current);UL($,d)}}A.current=!1}),onBlur:it(t.onBlur,()=>w(!1))})})}),qL="RovingFocusGroupItem",zL=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...o}=t,l=vs(),c=i||l,d=Gz(qL,r),f=d.currentTabStopId===c,p=BL(r),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:m}=d;return j.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),u.jsx(rw.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:u.jsx(qt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:it(t.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:it(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:it(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const b=Zz(g,d.orientation,d.dir);if(b!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let N=p().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const _=N.indexOf(g.currentTarget);N=d.loop?Jz(N,_+1):N.slice(_+1)}setTimeout(()=>UL(N))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});zL.displayName=qL;var Yz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Zz(t,e,r){const n=Xz(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Yz[n]}function UL(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Jz(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var RN=$L,MN=zL,Qz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pu=new WeakMap,Hp=new WeakMap,Vp={},e1=0,WL=function(t){return t&&(t.host||WL(t.parentNode))},eU=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=WL(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},tU=function(t,e,r,n){var a=eU(e,Array.isArray(t)?t:[t]);Vp[r]||(Vp[r]=new WeakMap);var i=Vp[r],s=[],o=new Set,l=new Set(a),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};a.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(o.has(p))d(p);else try{var h=p.getAttribute(n),v=h!==null&&h!=="false",m=(pu.get(p)||0)+1,g=(i.get(p)||0)+1;pu.set(p,m),i.set(p,g),s.push(p),m===1&&v&&Hp.set(p,!0),g===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return d(e),o.clear(),e1++,function(){s.forEach(function(f){var p=pu.get(f)-1,h=i.get(f)-1;pu.set(f,p),i.set(f,h),p||(Hp.has(f)||f.removeAttribute(n),Hp.delete(f)),h||f.removeAttribute(r)}),e1--,e1||(pu=new WeakMap,pu=new WeakMap,Hp=new WeakMap,Vp={})}},DN=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=Qz(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),tU(n,a,r,"aria-hidden")):function(){return null}},qs=function(){return qs=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},qs.apply(this,arguments)};function HL(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function rU(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var km="right-scroll-bar-position",Lm="width-before-scroll-bar",nU="with-scroll-bars-hidden",aU="--removed-body-scroll-bar-size";function t1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iU(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var sU=typeof window<"u"?j.useLayoutEffect:j.useEffect,X3=new WeakMap;function oU(t,e){var r=iU(null,function(n){return t.forEach(function(a){return t1(a,n)})});return sU(function(){var n=X3.get(r);if(n){var a=new Set(n),i=new Set(t),s=r.current;a.forEach(function(o){i.has(o)||t1(o,null)}),i.forEach(function(o){a.has(o)||t1(o,s)})}X3.set(r,t)},[t]),r}function lU(t){return t}function cU(t,e){e===void 0&&(e=lU);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var s=e(i,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(i),s=r}var l=function(){var d=s;s=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),r}}}};return a}function uU(t){t===void 0&&(t={});var e=cU(null);return e.options=qs({async:!0,ssr:!1},t),e}var VL=function(t){var e=t.sideCar,r=HL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,qs({},r))};VL.isSideCarExport=!0;function dU(t,e){return t.useMedium(e),VL}var GL=uU(),r1=function(){},A0=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:r1,onWheelCapture:r1,onTouchMoveCapture:r1}),a=n[0],i=n[1],s=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noRelative,v=t.noIsolation,m=t.inert,g=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,N=t.gapMode,_=HL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,C=oU([r,e]),E=qs(qs({},_),a);return j.createElement(j.Fragment,null,d&&j.createElement(A,{sideCar:GL,removeScrollBar:c,shards:f,noRelative:h,noIsolation:v,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:N}),s?j.cloneElement(j.Children.only(o),qs(qs({},E),{ref:C})):j.createElement(w,qs({},E,{className:l,ref:C}),o))});A0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A0.classNames={fullWidth:Lm,zeroRight:km};var fU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fU();return e&&t.setAttribute("nonce",e),t}function pU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gU=function(){var t=0,e=null;return{add:function(r){t==0&&(e=hU())&&(pU(e,r),mU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vU=function(){var t=gU();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},KL=function(){var t=vU(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},yU={left:0,top:0,right:0,gap:0},n1=function(t){return parseInt(t||"",10)||0},bU=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[n1(r),n1(n),n1(a)]},xU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yU;var e=bU(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},wU=KL(),qu="data-scroll-locked",NU=function(t,e,r,n){var a=t.left,i=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(nU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(qu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(km,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Lm,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(km," .").concat(km,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Lm," .").concat(Lm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(qu,`] {
    `).concat(aU,": ").concat(o,`px;
  }
`)},Z3=function(){var t=parseInt(document.body.getAttribute(qu)||"0",10);return isFinite(t)?t:0},SU=function(){j.useEffect(function(){return document.body.setAttribute(qu,(Z3()+1).toString()),function(){var t=Z3()-1;t<=0?document.body.removeAttribute(qu):document.body.setAttribute(qu,t.toString())}},[])},AU=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;SU();var i=j.useMemo(function(){return xU(a)},[a]);return j.createElement(wU,{styles:NU(i,!e,a,r?"":"!important")})},nw=!1;if(typeof window<"u")try{var Gp=Object.defineProperty({},"passive",{get:function(){return nw=!0,!0}});window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{nw=!1}var mu=nw?{passive:!1}:!1,jU=function(t){return t.tagName==="TEXTAREA"},YL=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!jU(t)&&r[e]==="visible")},_U=function(t){return YL(t,"overflowY")},PU=function(t){return YL(t,"overflowX")},J3=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=XL(t,n);if(a){var i=ZL(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},CU=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},EU=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},XL=function(t,e){return t==="v"?_U(e):PU(e)},ZL=function(t,e){return t==="v"?CU(e):EU(e)},TU=function(t,e){return t==="h"&&e==="rtl"?-1:1},OU=function(t,e,r,n,a){var i=TU(t,window.getComputedStyle(e).direction),s=i*n,o=r.target,l=e.contains(o),c=!1,d=s>0,f=0,p=0;do{if(!o)break;var h=ZL(t,o),v=h[0],m=h[1],g=h[2],b=m-g-i*v;(v||b)&&XL(t,o)&&(f+=b,p+=v);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},Kp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Q3=function(t){return[t.deltaX,t.deltaY]},ej=function(t){return t&&"current"in t?t.current:t},kU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},LU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IU=0,gu=[];function RU(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),a=j.useState(IU++)[0],i=j.useState(KL)[0],s=j.useRef(t);j.useEffect(function(){s.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=rU([t.lockRef.current],(t.shards||[]).map(ej),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=j.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var b=Kp(m),w=r.current,N="deltaX"in m?m.deltaX:w[0]-b[0],_="deltaY"in m?m.deltaY:w[1]-b[1],A,C=m.target,E=Math.abs(N)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&C.type==="range")return!1;var R=J3(E,C);if(!R)return!0;if(R?A=E:(A=E==="v"?"h":"v",R=J3(E,C)),!R)return!1;if(!n.current&&"changedTouches"in m&&(N||_)&&(n.current=A),!A)return!0;var L=n.current||A;return OU(L,g,m,L==="h"?N:_)},[]),l=j.useCallback(function(m){var g=m;if(!(!gu.length||gu[gu.length-1]!==i)){var b="deltaY"in g?Q3(g):Kp(g),w=e.current.filter(function(A){return A.name===g.type&&(A.target===g.target||g.target===A.shadowParent)&&kU(A.delta,b)})[0];if(w&&w.should){g.cancelable&&g.preventDefault();return}if(!w){var N=(s.current.shards||[]).map(ej).filter(Boolean).filter(function(A){return A.contains(g.target)}),_=N.length>0?o(g,N[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),c=j.useCallback(function(m,g,b,w){var N={name:m,delta:g,target:b,should:w,shadowParent:MU(b)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(_){return _!==N})},1)},[]),d=j.useCallback(function(m){r.current=Kp(m),n.current=void 0},[]),f=j.useCallback(function(m){c(m.type,Q3(m),m.target,o(m,t.lockRef.current))},[]),p=j.useCallback(function(m){c(m.type,Kp(m),m.target,o(m,t.lockRef.current))},[]);j.useEffect(function(){return gu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,mu),document.addEventListener("touchmove",l,mu),document.addEventListener("touchstart",d,mu),function(){gu=gu.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,mu),document.removeEventListener("touchmove",l,mu),document.removeEventListener("touchstart",d,mu)}},[]);var h=t.removeScrollBar,v=t.inert;return j.createElement(j.Fragment,null,v?j.createElement(i,{styles:LU(a)}):null,h?j.createElement(AU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const DU=dU(GL,RU);var j0=j.forwardRef(function(t,e){return j.createElement(A0,qs({},t,{ref:e,sideCar:DU}))});j0.classNames=A0.classNames;var aw=["Enter"," "],FU=["ArrowDown","PageUp","Home"],JL=["ArrowUp","PageDown","End"],BU=[...FU,...JL],$U={ltr:[...aw,"ArrowRight"],rtl:[...aw,"ArrowLeft"]},qU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Jh="Menu",[Jf,zU,UU]=xN(Jh),[Yc,QL]=Vi(Jh,[UU,Ld,Id]),_0=Ld(),eI=Id(),[WU,Xc]=Yc(Jh),[HU,Qh]=Yc(Jh),tI=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=t,o=_0(e),[l,c]=j.useState(null),d=j.useRef(!1),f=bs(i),p=Gh(a);return j.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),u.jsx(ON,{...o,children:u.jsx(WU,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(HU,{scope:e,onClose:j.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:s,children:n})})})};tI.displayName=Jh;var VU="MenuAnchor",FN=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=_0(r);return u.jsx(kN,{...a,...n,ref:e})});FN.displayName=VU;var BN="MenuPortal",[GU,rI]=Yc(BN,{forceMount:void 0}),nI=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,i=Xc(BN,e);return u.jsx(GU,{scope:e,forceMount:r,children:u.jsx(Gi,{present:r||i.open,children:u.jsx(Xh,{asChild:!0,container:a,children:n})})})};nI.displayName=BN;var qi="MenuContent",[KU,$N]=Yc(qi),aI=j.forwardRef((t,e)=>{const r=rI(qi,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Xc(qi,t.__scopeMenu),s=Qh(qi,t.__scopeMenu);return u.jsx(Jf.Provider,{scope:t.__scopeMenu,children:u.jsx(Gi,{present:n||i.open,children:u.jsx(Jf.Slot,{scope:t.__scopeMenu,children:s.modal?u.jsx(YU,{...a,ref:e}):u.jsx(XU,{...a,ref:e})})})})}),YU=j.forwardRef((t,e)=>{const r=Xc(qi,t.__scopeMenu),n=j.useRef(null),a=lr(e,n);return j.useEffect(()=>{const i=n.current;if(i)return DN(i)},[]),u.jsx(qN,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:it(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),XU=j.forwardRef((t,e)=>{const r=Xc(qi,t.__scopeMenu);return u.jsx(qN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ZU=Tc("MenuContent.ScrollLock"),qN=j.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:v,...m}=t,g=Xc(qi,r),b=Qh(qi,r),w=_0(r),N=eI(r),_=zU(r),[A,C]=j.useState(null),E=j.useRef(null),R=lr(e,E,g.onContentChange),L=j.useRef(0),U=j.useRef(""),S=j.useRef(0),O=j.useRef(null),k=j.useRef("right"),M=j.useRef(0),$=v?j0:j.Fragment,F=v?{as:ZU,allowPinchZoom:!0}:void 0,z=q=>{const ee=U.current+q,de=_().filter(ie=>!ie.disabled),B=document.activeElement,G=de.find(ie=>ie.ref.current===B)?.textValue,Z=de.map(ie=>ie.textValue),te=cW(Z,ee,G),ne=de.find(ie=>ie.textValue===te)?.ref.current;(function ie(fe){U.current=fe,window.clearTimeout(L.current),fe!==""&&(L.current=window.setTimeout(()=>ie(""),1e3))})(ee),ne&&setTimeout(()=>ne.focus())};j.useEffect(()=>()=>window.clearTimeout(L.current),[]),wN();const W=j.useCallback(q=>k.current===O.current?.side&&dW(q,O.current?.area),[]);return u.jsx(KU,{scope:r,searchRef:U,onItemEnter:j.useCallback(q=>{W(q)&&q.preventDefault()},[W]),onItemLeave:j.useCallback(q=>{W(q)||(E.current?.focus(),C(null))},[W]),onTriggerLeave:j.useCallback(q=>{W(q)&&q.preventDefault()},[W]),pointerGraceTimerRef:S,onPointerGraceIntentChange:j.useCallback(q=>{O.current=q},[]),children:u.jsx($,{...F,children:u.jsx(b0,{asChild:!0,trapped:a,onMountAutoFocus:it(i,q=>{q.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(Kh,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:u.jsx(RN,{asChild:!0,...N,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:C,onEntryFocus:it(l,q=>{b.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(LN,{role:"menu","aria-orientation":"vertical","data-state":xI(g.open),"data-radix-menu-content":"",dir:b.dir,...w,...m,ref:R,style:{outline:"none",...m.style},onKeyDown:it(m.onKeyDown,q=>{const de=q.target.closest("[data-radix-menu-content]")===q.currentTarget,B=q.ctrlKey||q.altKey||q.metaKey,G=q.key.length===1;de&&(q.key==="Tab"&&q.preventDefault(),!B&&G&&z(q.key));const Z=E.current;if(q.target!==Z||!BU.includes(q.key))return;q.preventDefault();const ne=_().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);JL.includes(q.key)&&ne.reverse(),oW(ne)}),onBlur:it(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(L.current),U.current="")}),onPointerMove:it(t.onPointerMove,Qf(q=>{const ee=q.target,de=M.current!==q.clientX;if(q.currentTarget.contains(ee)&&de){const B=q.clientX>M.current?"right":"left";k.current=B,M.current=q.clientX}}))})})})})})})});aI.displayName=qi;var JU="MenuGroup",zN=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(qt.div,{role:"group",...n,ref:e})});zN.displayName=JU;var QU="MenuLabel",iI=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(qt.div,{...n,ref:e})});iI.displayName=QU;var Xm="MenuItem",tj="menu.itemSelect",P0=j.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=j.useRef(null),s=Qh(Xm,t.__scopeMenu),o=$N(Xm,t.__scopeMenu),l=lr(e,i),c=j.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const p=new CustomEvent(tj,{bubbles:!0,cancelable:!0});f.addEventListener(tj,h=>n?.(h),{once:!0}),pL(f,p),p.defaultPrevented?c.current=!1:s.onClose()}};return u.jsx(sI,{...a,ref:l,disabled:r,onClick:it(t.onClick,d),onPointerDown:f=>{t.onPointerDown?.(f),c.current=!0},onPointerUp:it(t.onPointerUp,f=>{c.current||f.currentTarget?.click()}),onKeyDown:it(t.onKeyDown,f=>{const p=o.searchRef.current!=="";r||p&&f.key===" "||aw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});P0.displayName=Xm;var sI=j.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,s=$N(Xm,r),o=eI(r),l=j.useRef(null),c=lr(e,l),[d,f]=j.useState(!1),[p,h]=j.useState("");return j.useEffect(()=>{const v=l.current;v&&h((v.textContent??"").trim())},[i.children]),u.jsx(Jf.ItemSlot,{scope:r,disabled:n,textValue:a??p,children:u.jsx(MN,{asChild:!0,...o,focusable:!n,children:u.jsx(qt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:c,onPointerMove:it(t.onPointerMove,Qf(v=>{n?s.onItemLeave(v):(s.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:it(t.onPointerLeave,Qf(v=>s.onItemLeave(v))),onFocus:it(t.onFocus,()=>f(!0)),onBlur:it(t.onBlur,()=>f(!1))})})})}),eW="MenuCheckboxItem",oI=j.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return u.jsx(fI,{scope:t.__scopeMenu,checked:r,children:u.jsx(P0,{role:"menuitemcheckbox","aria-checked":Zm(r)?"mixed":r,...a,ref:e,"data-state":WN(r),onSelect:it(a.onSelect,()=>n?.(Zm(r)?!0:!r),{checkForDefaultPrevented:!1})})})});oI.displayName=eW;var lI="MenuRadioGroup",[tW,rW]=Yc(lI,{value:void 0,onValueChange:()=>{}}),cI=j.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,i=bs(n);return u.jsx(tW,{scope:t.__scopeMenu,value:r,onValueChange:i,children:u.jsx(zN,{...a,ref:e})})});cI.displayName=lI;var uI="MenuRadioItem",dI=j.forwardRef((t,e)=>{const{value:r,...n}=t,a=rW(uI,t.__scopeMenu),i=r===a.value;return u.jsx(fI,{scope:t.__scopeMenu,checked:i,children:u.jsx(P0,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":WN(i),onSelect:it(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});dI.displayName=uI;var UN="MenuItemIndicator",[fI,nW]=Yc(UN,{checked:!1}),hI=j.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=nW(UN,r);return u.jsx(Gi,{present:n||Zm(i.checked)||i.checked===!0,children:u.jsx(qt.span,{...a,ref:e,"data-state":WN(i.checked)})})});hI.displayName=UN;var aW="MenuSeparator",pI=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(qt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});pI.displayName=aW;var iW="MenuArrow",mI=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=_0(r);return u.jsx(IN,{...a,...n,ref:e})});mI.displayName=iW;var sW="MenuSub",[_xe,gI]=Yc(sW),Tf="MenuSubTrigger",vI=j.forwardRef((t,e)=>{const r=Xc(Tf,t.__scopeMenu),n=Qh(Tf,t.__scopeMenu),a=gI(Tf,t.__scopeMenu),i=$N(Tf,t.__scopeMenu),s=j.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=j.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return j.useEffect(()=>d,[d]),j.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),u.jsx(FN,{asChild:!0,...c,children:u.jsx(sI,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":xI(r.open),...t,ref:Hh(e,a.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:it(t.onPointerMove,Qf(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:it(t.onPointerLeave,Qf(f=>{d();const p=r.content?.getBoundingClientRect();if(p){const h=r.content?.dataset.side,v=h==="right",m=v?-5:5,g=p[v?"left":"right"],b=p[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+m,y:f.clientY},{x:g,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:g,y:p.bottom}],side:h}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:it(t.onKeyDown,f=>{const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||$U[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});vI.displayName=Tf;var yI="MenuSubContent",bI=j.forwardRef((t,e)=>{const r=rI(qi,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Xc(qi,t.__scopeMenu),s=Qh(qi,t.__scopeMenu),o=gI(yI,t.__scopeMenu),l=j.useRef(null),c=lr(e,l);return u.jsx(Jf.Provider,{scope:t.__scopeMenu,children:u.jsx(Gi,{present:n||i.open,children:u.jsx(Jf.Slot,{scope:t.__scopeMenu,children:u.jsx(qN,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{s.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:it(t.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:it(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:it(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),p=qU[s.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),o.trigger?.focus(),d.preventDefault())})})})})})});bI.displayName=yI;function xI(t){return t?"open":"closed"}function Zm(t){return t==="indeterminate"}function WN(t){return Zm(t)?"indeterminate":t?"checked":"unchecked"}function oW(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function lW(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function cW(t,e,r){const a=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=lW(t,Math.max(i,0));a.length===1&&(s=s.filter(c=>c!==r));const l=s.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function uW(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const o=e[i],l=e[s],c=o.x,d=o.y,f=l.x,p=l.y;d>n!=p>n&&r<(f-c)*(n-d)/(p-d)+c&&(a=!a)}return a}function dW(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return uW(r,e)}function Qf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var fW=tI,hW=FN,pW=nI,mW=aI,gW=zN,vW=iI,yW=P0,bW=oI,xW=cI,wW=dI,NW=hI,SW=pI,AW=mI,jW=vI,_W=bI,C0="DropdownMenu",[PW]=Vi(C0,[QL]),La=QL(),[CW,wI]=PW(C0),NI=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=La(e),c=j.useRef(null),[d,f]=Fo({prop:a,defaultProp:i??!1,onChange:s,caller:C0});return u.jsx(CW,{scope:e,triggerId:vs(),triggerRef:c,contentId:vs(),open:d,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(p=>!p),[f]),modal:o,children:u.jsx(fW,{...l,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};NI.displayName=C0;var SI="DropdownMenuTrigger",AI=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=wI(SI,r),s=La(r);return u.jsx(hW,{asChild:!0,...s,children:u.jsx(qt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Hh(e,i.triggerRef),onPointerDown:it(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:it(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});AI.displayName=SI;var EW="DropdownMenuPortal",jI=t=>{const{__scopeDropdownMenu:e,...r}=t,n=La(e);return u.jsx(pW,{...n,...r})};jI.displayName=EW;var _I="DropdownMenuContent",PI=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=wI(_I,r),i=La(r),s=j.useRef(!1);return u.jsx(mW,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:e,onCloseAutoFocus:it(t.onCloseAutoFocus,o=>{s.current||a.triggerRef.current?.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:it(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!a.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PI.displayName=_I;var TW="DropdownMenuGroup",OW=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(gW,{...a,...n,ref:e})});OW.displayName=TW;var kW="DropdownMenuLabel",CI=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(vW,{...a,...n,ref:e})});CI.displayName=kW;var LW="DropdownMenuItem",EI=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(yW,{...a,...n,ref:e})});EI.displayName=LW;var IW="DropdownMenuCheckboxItem",RW=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(bW,{...a,...n,ref:e})});RW.displayName=IW;var MW="DropdownMenuRadioGroup",DW=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(xW,{...a,...n,ref:e})});DW.displayName=MW;var FW="DropdownMenuRadioItem",BW=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(wW,{...a,...n,ref:e})});BW.displayName=FW;var $W="DropdownMenuItemIndicator",qW=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(NW,{...a,...n,ref:e})});qW.displayName=$W;var zW="DropdownMenuSeparator",TI=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(SW,{...a,...n,ref:e})});TI.displayName=zW;var UW="DropdownMenuArrow",WW=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(AW,{...a,...n,ref:e})});WW.displayName=UW;var HW="DropdownMenuSubTrigger",VW=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(jW,{...a,...n,ref:e})});VW.displayName=HW;var GW="DropdownMenuSubContent",KW=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=La(r);return u.jsx(_W,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KW.displayName=GW;var YW=NI,XW=AI,ZW=jI,JW=PI,QW=CI,eH=EI,tH=TI;function rj({...t}){return u.jsx(YW,{"data-slot":"dropdown-menu",...t})}function nj({...t}){return u.jsx(XW,{"data-slot":"dropdown-menu-trigger",...t})}function aj({className:t,sideOffset:e=4,...r}){return u.jsx(ZW,{children:u.jsx(JW,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Et("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function ij({className:t,inset:e,variant:r="default",...n}){return u.jsx(eH,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:Et("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function sj({className:t,inset:e,...r}){return u.jsx(QW,{"data-slot":"dropdown-menu-label","data-inset":e,className:Et("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function oj({className:t,...e}){return u.jsx(tH,{"data-slot":"dropdown-menu-separator",className:Et("bg-border -mx-1 my-1 h-px",t),...e})}function rH(t,e=[]){let r=[];function n(i,s){const o=j.createContext(s);o.displayName=i+"Context";const l=r.length;r=[...r,s];const c=f=>{const{scope:p,children:h,...v}=f,m=p?.[t]?.[l]||o,g=j.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:g,children:h})};c.displayName=i+"Provider";function d(f,p){const h=p?.[t]?.[l]||o,v=j.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const a=()=>{const i=r.map(s=>j.createContext(s));return function(o){const l=o?.[t]||i;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return a.scopeName=t,[n,nH(a,...e)]}function nH(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...o,...f}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var aH=Symbol.for("react.lazy"),Jm=dN[" use ".trim().toString()];function iH(t){return typeof t=="object"&&t!==null&&"then"in t}function OI(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===aH&&"_payload"in t&&iH(t._payload)}function sH(t){const e=oH(t),r=j.forwardRef((n,a)=>{let{children:i,...s}=n;OI(i)&&typeof Jm=="function"&&(i=Jm(i._payload));const o=j.Children.toArray(i),l=o.find(cH);if(l){const c=l.props.children,d=o.map(f=>f===l?j.Children.count(c)>1?j.Children.only(null):j.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...s,ref:a,children:j.isValidElement(c)?j.cloneElement(c,void 0,d):null})}return u.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function oH(t){const e=j.forwardRef((r,n)=>{let{children:a,...i}=r;if(OI(a)&&typeof Jm=="function"&&(a=Jm(a._payload)),j.isValidElement(a)){const s=dH(a),o=uH(i,a.props);return a.type!==j.Fragment&&(o.ref=n?Hh(n,s):s),j.cloneElement(a,o)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lH=Symbol("radix.slottable");function cH(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lH}function uH(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function dH(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var fH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HN=fH.reduce((t,e)=>{const r=sH(`Primitive.${e}`),n=j.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),a1={exports:{}},i1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj;function hH(){if(lj)return i1;lj=1;var t=uN();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function o(f,p){var h=p(),v=n({inst:{value:h,getSnapshot:p}}),m=v[0].inst,g=v[1];return i(function(){m.value=h,m.getSnapshot=p,l(m)&&g({inst:m})},[f,h,p]),a(function(){return l(m)&&g({inst:m}),f(function(){l(m)&&g({inst:m})})},[f]),s(h),h}function l(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!r(f,h)}catch{return!0}}function c(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return i1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,i1}var cj;function pH(){return cj||(cj=1,a1.exports=hH()),a1.exports}var mH=pH();function gH(){return mH.useSyncExternalStore(vH,()=>!0,()=>!1)}function vH(){return()=>{}}var VN="Avatar",[yH]=rH(VN),[bH,kI]=yH(VN),LI=j.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=j.useState("idle");return u.jsx(bH,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:u.jsx(HN.span,{...n,ref:e})})});LI.displayName=VN;var II="AvatarImage",RI=j.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,s=kI(II,r),o=xH(n,i),l=bs(c=>{a(c),s.onImageLoadingStatusChange(c)});return Fn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?u.jsx(HN.img,{...i,ref:e,src:n}):null});RI.displayName=II;var MI="AvatarFallback",DI=j.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=kI(MI,r),[s,o]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(l)}},[n]),s&&i.imageLoadingStatus!=="loaded"?u.jsx(HN.span,{...a,ref:e}):null});DI.displayName=MI;function uj(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xH(t,{referrerPolicy:e,crossOrigin:r}){const n=gH(),a=j.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,o]=j.useState(()=>uj(i,t));return Fn(()=>{o(uj(i,t))},[i,t]),Fn(()=>{const l=f=>()=>{o(f)};if(!i)return;const c=l("loaded"),d=l("error");return i.addEventListener("load",c),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",c),i.removeEventListener("error",d)}},[i,r,e]),s}var wH=LI,NH=RI,SH=DI;function dj({className:t,...e}){return u.jsx(wH,{"data-slot":"avatar",className:Et("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function fj({className:t,...e}){return u.jsx(NH,{"data-slot":"avatar-image",className:Et("aspect-square size-full",t),...e})}function hj({className:t,...e}){return u.jsx(SH,{"data-slot":"avatar-fallback",className:Et("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const Tt=j.forwardRef(({className:t,type:e,prefix:r,...n},a)=>r?u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("span",{className:"absolute left-3 text-muted-foreground",children:r}),u.jsx("input",{type:e,className:Et("flex h-10 w-full rounded-md border border-input bg-background pl-8 pr-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n})]}):u.jsx("input",{type:e,className:Et("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));Tt.displayName="Input";var AH="Label",FI=j.forwardRef((t,e)=>u.jsx(qt.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));FI.displayName=AH;var BI=FI;const jH=g0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nt=j.forwardRef(({className:t,...e},r)=>u.jsx(BI,{ref:r,className:Et(jH(),t),...e}));nt.displayName=BI.displayName;var E0="Dialog",[$I]=Vi(E0),[_H,As]=$I(E0),qI=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=t,o=j.useRef(null),l=j.useRef(null),[c,d]=Fo({prop:n,defaultProp:a??!1,onChange:i,caller:E0});return u.jsx(_H,{scope:e,triggerRef:o,contentRef:l,contentId:vs(),titleId:vs(),descriptionId:vs(),open:c,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};qI.displayName=E0;var zI="DialogTrigger",UI=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=As(zI,r),i=lr(e,a.triggerRef);return u.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":YN(a.open),...n,ref:i,onClick:it(t.onClick,a.onOpenToggle)})});UI.displayName=zI;var GN="DialogPortal",[PH,WI]=$I(GN,{forceMount:void 0}),HI=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=As(GN,e);return u.jsx(PH,{scope:e,forceMount:r,children:j.Children.map(n,s=>u.jsx(Gi,{present:r||i.open,children:u.jsx(Xh,{asChild:!0,container:a,children:s})}))})};HI.displayName=GN;var Qm="DialogOverlay",VI=j.forwardRef((t,e)=>{const r=WI(Qm,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=As(Qm,t.__scopeDialog);return i.modal?u.jsx(Gi,{present:n||i.open,children:u.jsx(EH,{...a,ref:e})}):null});VI.displayName=Qm;var CH=Tc("DialogOverlay.RemoveScroll"),EH=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=As(Qm,r);return u.jsx(j0,{as:CH,allowPinchZoom:!0,shards:[a.contentRef],children:u.jsx(qt.div,{"data-state":YN(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),kc="DialogContent",GI=j.forwardRef((t,e)=>{const r=WI(kc,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=As(kc,t.__scopeDialog);return u.jsx(Gi,{present:n||i.open,children:i.modal?u.jsx(TH,{...a,ref:e}):u.jsx(OH,{...a,ref:e})})});GI.displayName=kc;var TH=j.forwardRef((t,e)=>{const r=As(kc,t.__scopeDialog),n=j.useRef(null),a=lr(e,r.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return DN(i)},[]),u.jsx(KI,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:it(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&i.preventDefault()}),onFocusOutside:it(t.onFocusOutside,i=>i.preventDefault())})}),OH=j.forwardRef((t,e)=>{const r=As(kc,t.__scopeDialog),n=j.useRef(!1),a=j.useRef(!1);return u.jsx(KI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;r.triggerRef.current?.contains(s)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),KI=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=t,o=As(kc,r),l=j.useRef(null),c=lr(e,l);return wN(),u.jsxs(u.Fragment,{children:[u.jsx(b0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:u.jsx(Kh,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":YN(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(kH,{titleId:o.titleId}),u.jsx(IH,{contentRef:l,descriptionId:o.descriptionId})]})]})}),KN="DialogTitle",YI=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=As(KN,r);return u.jsx(qt.h2,{id:a.titleId,...n,ref:e})});YI.displayName=KN;var XI="DialogDescription",ZI=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=As(XI,r);return u.jsx(qt.p,{id:a.descriptionId,...n,ref:e})});ZI.displayName=XI;var JI="DialogClose",QI=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=As(JI,r);return u.jsx(qt.button,{type:"button",...n,ref:e,onClick:it(t.onClick,()=>a.onOpenChange(!1))})});QI.displayName=JI;function YN(t){return t?"open":"closed"}var e8="DialogTitleWarning",[Pxe,t8]=X$(e8,{contentName:kc,titleName:KN,docsSlug:"dialog"}),kH=({titleId:t})=>{const e=t8(e8),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},LH="DialogDescriptionWarning",IH=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t8(LH).contentName}}.`;return j.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},RH=qI,MH=UI,DH=HI,FH=VI,BH=GI,$H=YI,qH=ZI,zH=QI;function ep({...t}){return u.jsx(RH,{"data-slot":"dialog",...t})}function UH({...t}){return u.jsx(MH,{"data-slot":"dialog-trigger",...t})}function WH({...t}){return u.jsx(DH,{"data-slot":"dialog-portal",...t})}const r8=j.forwardRef(({className:t,...e},r)=>u.jsx(FH,{ref:r,"data-slot":"dialog-overlay",className:Et("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));r8.displayName="DialogOverlay";function tp({className:t,children:e,...r}){return u.jsxs(WH,{"data-slot":"dialog-portal",children:[u.jsx(r8,{}),u.jsxs(BH,{"data-slot":"dialog-content",className:Et("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-1rem)] sm:max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-3 sm:gap-4 rounded-lg border p-4 sm:p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,u.jsxs(zH,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(_o,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function rp({className:t,...e}){return u.jsx("div",{"data-slot":"dialog-header",className:Et("flex flex-col gap-2 text-center sm:text-left",t),...e})}function np({className:t,...e}){return u.jsx($H,{"data-slot":"dialog-title",className:Et("text-lg leading-none font-semibold",t),...e})}function ap({className:t,...e}){return u.jsx(qH,{"data-slot":"dialog-description",className:Et("text-muted-foreground text-sm",t),...e})}const XN=({open:t,onClose:e,onDismiss:r})=>{const{login:n,register:a,loginWithGoogle:i}=y0(),[s,o]=j.useState(!0),[l,c]=j.useState(!1),[d,f]=j.useState(null),[p,h]=j.useState(""),[v,m]=j.useState(""),[g,b]=j.useState("");j.useEffect(()=>{t&&(f(null),h(""),m(""),b(""))},[t,s]);const w=async A=>{A.preventDefault(),f(null),c(!0);try{if(s)await n(p,v),e();else{if(!g.trim()){f("Name is required"),c(!1);return}await a(p,v,g),e()}}catch(C){f(C.message||"An error occurred. Please try again.")}finally{c(!1)}},N=()=>{i()},_=()=>{r&&r(),e()};return u.jsx(ep,{open:t,onOpenChange:A=>!A&&_(),children:u.jsxs(tp,{className:"sm:max-w-md",children:[u.jsxs(rp,{children:[u.jsx(np,{className:"text-2xl font-bold text-center",children:s?"Welcome Back":"Create Account"}),u.jsx(ap,{className:"text-center",children:s?"Sign in to continue to The Lal Street":"Create an account to get started"})]}),u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsxs(Ct,{type:"button",onClick:N,className:"w-full bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",disabled:l,children:[u.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t"})}),u.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:u.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),d&&u.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d}),u.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!s&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(nt,{htmlFor:"name",children:"Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(mN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx(Tt,{id:"name",type:"text",placeholder:"Enter your name",value:g,onChange:A=>b(A.target.value),className:"pl-10",required:!0,disabled:l})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(nt,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Zk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx(Tt,{id:"email",type:"email",placeholder:"Enter your email",value:p,onChange:A=>h(A.target.value),className:"pl-10",required:!0,disabled:l})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(nt,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx(Tt,{id:"password",type:"password",placeholder:"Enter your password",value:v,onChange:A=>m(A.target.value),className:"pl-10",required:!0,minLength:6,disabled:l})]})]}),u.jsx(Ct,{type:"submit",className:"w-full",disabled:l,children:l?u.jsxs(u.Fragment,{children:[u.jsx(Sa,{className:"w-4 h-4 mr-2 animate-spin"}),s?"Signing in...":"Creating account..."]}):s?"Sign In":"Create Account"})]}),u.jsx("div",{className:"text-center text-sm",children:s?u.jsxs(u.Fragment,{children:["Don't have an account?"," ",u.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-blue-600 hover:underline font-medium",disabled:l,children:"Sign up"})]}):u.jsxs(u.Fragment,{children:["Already have an account?"," ",u.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-blue-600 hover:underline font-medium",disabled:l,children:"Sign in"})]})}),r&&u.jsx("div",{className:"text-center",children:u.jsx("button",{type:"button",onClick:_,className:"text-sm text-gray-500 hover:text-gray-700",disabled:l,children:"Maybe later"})})]})]})})};function HH({activePage:t,onNavigate:e,selectedFundsCount:r=0}){const{user:n,isAuthenticated:a,logout:i,isLoading:s}=y0(),[o,l]=j.useState(!1),c=[{id:"home",label:"Home",icon:JB},{id:"investment-plan",label:"Investment Plan",icon:Fu},{id:"retirement-plan",label:"Retirement Plan",icon:zm},{id:"financial-planning",label:"Financial Planning",icon:Yk},{id:"ai-stock-analysis",label:"AI Stock Analysis",icon:Uk},{id:"blogs",label:"Blogs",icon:zk}],d=h=>{e(h)},f=async()=>{await i()},p=h=>h.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2);return u.jsxs("nav",{className:"bg-white border-b border-slate-300 shadow-sm sticky top-0 z-50",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex items-center justify-between h-14",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5",children:[u.jsx("img",{src:"/logo.png",alt:"The Lal Street",className:"h-14 sm:h-16 md:h-20 w-auto object-contain"}),u.jsx("div",{className:"hidden sm:block",children:u.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 leading-tight",children:"Portfolio Analysis & Investment Calculator"})})]}),u.jsx("div",{className:"hidden lg:flex items-center gap-1.5",children:c.map(h=>{const v=h.icon,m=t===h.id;return u.jsxs(Ct,{variant:"ghost",size:"sm",onClick:()=>d(h.id),className:Et("flex items-center gap-1.5 px-3 py-1.5 h-8 text-xs font-medium transition-all duration-200",m?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md hover:from-blue-700 hover:to-indigo-700":"text-slate-600 hover:text-blue-600 hover:bg-slate-50 hover:scale-105"),children:[u.jsx(v,{className:"w-3.5 h-3.5"}),u.jsx("span",{className:"whitespace-nowrap",children:h.label})]},h.id)})}),u.jsx("div",{className:"hidden md:flex lg:hidden items-center gap-1",children:c.slice(0,4).map(h=>{const v=h.icon,m=t===h.id;return u.jsxs(Ct,{variant:"ghost",size:"sm",onClick:()=>d(h.id),className:Et("flex items-center gap-1 px-2 py-1 h-7 text-[10px] font-medium transition-all duration-200",m?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md":"text-slate-600 hover:text-blue-600 hover:bg-slate-50"),children:[u.jsx(v,{className:"w-3 h-3"}),u.jsx("span",{className:"whitespace-nowrap",children:h.label})]},h.id)})}),r>0&&u.jsxs("div",{className:"hidden lg:flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-50 border border-blue-100",children:[u.jsx(Fu,{className:"w-4 h-4 text-blue-600"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-xs text-slate-500",children:"Portfolio"}),u.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[r," ",r===1?"Fund":"Funds"]})]})]}),u.jsx("div",{className:"hidden md:flex items-center gap-2",children:!s&&u.jsx(u.Fragment,{children:a?u.jsxs(rj,{children:[u.jsx(nj,{asChild:!0,children:u.jsx("button",{className:"flex items-center gap-2 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:u.jsxs(dj,{className:"h-9 w-9 border-2 border-blue-500",children:[n?.picture&&u.jsx(fj,{src:n.picture,alt:n.name}),u.jsx(hj,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-semibold",children:n?.name?p(n.name):"U"})]})})}),u.jsxs(aj,{align:"end",className:"w-56",children:[u.jsx(sj,{className:"font-normal",children:u.jsxs("div",{className:"flex flex-col space-y-1",children:[u.jsx("p",{className:"text-sm font-medium leading-none",children:n?.name}),u.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n?.email})]})}),u.jsx(oj,{}),u.jsxs(ij,{onClick:f,className:"text-red-600 focus:text-red-600 cursor-pointer",children:[u.jsx(K2,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Logout"})]})]})]}):u.jsxs(Ct,{onClick:()=>l(!0),size:"sm",className:"flex items-center gap-1.5 px-3 py-1.5 h-8 text-xs font-medium bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105",children:[u.jsx(G2,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:"Login"})]})})}),u.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[r>0&&u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-blue-50 border border-blue-100",children:[u.jsx(Fu,{className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-xs font-semibold text-slate-900",children:r})]}),!s&&u.jsx(u.Fragment,{children:a?u.jsxs(rj,{children:[u.jsx(nj,{asChild:!0,children:u.jsx("button",{className:"flex items-center gap-2 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:u.jsxs(dj,{className:"h-8 w-8 border-2 border-blue-500",children:[n?.picture&&u.jsx(fj,{src:n.picture,alt:n.name}),u.jsx(hj,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-xs font-semibold",children:n?.name?p(n.name):"U"})]})})}),u.jsxs(aj,{align:"end",className:"w-56",children:[u.jsx(sj,{className:"font-normal",children:u.jsxs("div",{className:"flex flex-col space-y-1",children:[u.jsx("p",{className:"text-sm font-medium leading-none",children:n?.name}),u.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n?.email})]})}),u.jsx(oj,{}),u.jsxs(ij,{onClick:f,className:"text-red-600 focus:text-red-600 cursor-pointer",children:[u.jsx(K2,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Logout"})]})]})]}):u.jsxs(Ct,{onClick:()=>l(!0),size:"sm",className:"flex items-center gap-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:[u.jsx(G2,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Login"})]})})]})]}),u.jsx("div",{className:"md:hidden border-t border-slate-200 bg-white",children:u.jsx("div",{className:"flex items-center justify-around py-1.5 px-1",children:c.map(h=>{const v=h.icon,m=t===h.id;return u.jsxs("button",{onClick:()=>d(h.id),className:Et("flex flex-col items-center gap-0.5 px-2 py-1.5 rounded-md transition-all duration-200 flex-1 max-w-[80px]",m?"text-blue-600 bg-blue-50 scale-105":"text-slate-600 hover:text-blue-600 hover:bg-slate-50 active:scale-95"),children:[u.jsx(v,{className:"w-4 h-4"}),u.jsx("span",{className:"text-[10px] font-medium leading-tight text-center",children:h.label})]},h.id)})})})]}),u.jsx(XN,{open:o,onClose:()=>l(!1)})]})}const VH="modulepreload",GH=function(t){return"/"+t},pj={},jc=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");a=l(r.map(c=>{if(c=GH(c),c in pj)return;pj[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":VH,d||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((h,v)=>{p.addEventListener("load",h),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Ve=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Et("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ve.displayName="Card";const KH=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Et("flex flex-col space-y-1.5 p-6",t),...e}));KH.displayName="CardHeader";const YH=j.forwardRef(({className:t,...e},r)=>u.jsx("h3",{ref:r,className:Et("text-2xl font-semibold leading-none tracking-tight",t),...e}));YH.displayName="CardTitle";const XH=j.forwardRef(({className:t,...e},r)=>u.jsx("p",{ref:r,className:Et("text-sm text-muted-foreground",t),...e}));XH.displayName="CardDescription";const ZH=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Et("p-6 pt-0",t),...e}));ZH.displayName="CardContent";const JH=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Et("flex items-center p-6 pt-0",t),...e}));JH.displayName="CardFooter";const QH=g0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tr({className:t,variant:e,...r}){return u.jsx("div",{className:Et(QH({variant:e}),t),...r})}const Zs=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:r,className:Et("w-full caption-bottom text-sm",t),...e})}));Zs.displayName="Table";const Js=j.forwardRef(({className:t,...e},r)=>u.jsx("thead",{ref:r,className:Et("[&_tr]:border-b",t),...e}));Js.displayName="TableHeader";const Qs=j.forwardRef(({className:t,...e},r)=>u.jsx("tbody",{ref:r,className:Et("[&_tr:last-child]:border-0",t),...e}));Qs.displayName="TableBody";const eV=j.forwardRef(({className:t,...e},r)=>u.jsx("tfoot",{ref:r,className:Et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));eV.displayName="TableFooter";const ln=j.forwardRef(({className:t,...e},r)=>u.jsx("tr",{ref:r,className:Et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ln.displayName="TableRow";const at=j.forwardRef(({className:t,...e},r)=>u.jsx("th",{ref:r,className:Et("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));at.displayName="TableHead";const Ke=j.forwardRef(({className:t,...e},r)=>u.jsx("td",{ref:r,className:Et("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ke.displayName="TableCell";const tV=j.forwardRef(({className:t,...e},r)=>u.jsx("caption",{ref:r,className:Et("mt-4 text-sm text-muted-foreground",t),...e}));tV.displayName="TableCaption";const rV=360*60*1e3,mj=new Map;async function Rd(t,e,r){const n=`${t.join(",")}-${e}-${r}`,a=mj.get(n);if(a&&Date.now()<a.expiresAt)return a.data;try{Dt.log("[navService] Fetching NAV data for:",t);const i=await fetch(Ha.FUNDS_NAV,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schemeCodes:t})});if(!i.ok)throw new Error(`Failed to fetch NAV data: ${i.statusText}`);const s=await i.json();Dt.log("[navService] Raw data received:",s);const o=s.map(c=>({schemeCode:c.schemeCode||c.scheme_code,schemeName:c.schemeName||c.scheme_name,navData:c.navData||c.nav_data||[],meta:{scheme_start_date:c.meta?.scheme_start_date||c.scheme_start_date,scheme_end_date:c.meta?.scheme_end_date||c.scheme_end_date}}));Dt.log("[navService] Parsed data before filtering:",o.map(c=>({code:c.schemeCode,navCount:c.navData.length,firstDate:c.navData[0]?.date,lastDate:c.navData[c.navData.length-1]?.date})));const l=o.map(c=>({...c,navData:c.navData.filter(d=>{const f=new Date(d.date),p=new Date(e),h=new Date(r),v=new Date(h.getTime()+336*60*60*1e3);return f>=p&&f<=v})}));return Dt.log("[navService] Filtered data:",l.map(c=>({code:c.schemeCode,navCount:c.navData.length}))),mj.set(n,{data:l,timestamp:Date.now(),expiresAt:Date.now()+rV}),l}catch(i){if(console.error("Error fetching NAV data:",i),a)return a.data;throw i}}async function nV(t){try{const e=await fetch(`${Ha.FUNDS_SEARCH}?q=${t}`);if(!e.ok)throw new Error(`Failed to search funds: ${e.statusText}`);return e.json()}catch(e){throw console.error("Error searching funds:",e),e}}function Br(){return new Date().toISOString().split("T")[0]}function eh(t,e){const r=new Date(t);return r.setMonth(r.getMonth()+e),r.toISOString().split("T")[0]}function Wn(t,e){if(!t||t.length===0)return null;const r=new Date(e),n=[...t].sort((a,i)=>new Date(a.date).getTime()-new Date(i.date).getTime());for(const a of n)if(new Date(a.date)>=r)return a;return null}function ms(t,e){if(!t||t.length===0)return null;const r=new Date(e),n=[...t].sort((a,i)=>new Date(i.date).getTime()-new Date(a.date).getTime());for(const a of n)if(new Date(a.date)<=r)return a;return null}function aV(t,e){const r=new Date(t),n=new Date(e),a=Math.abs(n.getTime()-r.getTime());return Math.ceil(a/(1e3*60*60*24))}function eg(t,e){return aV(t,e)/365.25}const iV=365.25,sV=12,Lc=t=>new Date(`${t}T00:00:00`);function n8(t){return[...t].sort((e,r)=>Lc(e.date).getTime()-Lc(r.date).getTime())}function iw(t){if(!t||t.length<2)return null;const e=n8(t),r=e[0],n=e[e.length-1];if(r.nav<=0||n.nav<=0)return null;const s=(Lc(n.date).getTime()-Lc(r.date).getTime())/(1e3*60*60*24)/iV;return s<=0?null:(Math.pow(n.nav/r.nav,1/s)-1)*100}function oV(t){const e=new Map;for(const r of t){const n=Lc(r.date),a=`${n.getUTCFullYear()}-${String(n.getUTCMonth()+1).padStart(2,"0")}`;e.set(a,r)}return e}function lV(t){if(!t||t.length<3)return null;const e=n8(t),r=oV(e),n=Array.from(r.values()).sort((c,d)=>Lc(c.date).getTime()-Lc(d.date).getTime());if(n.length<3)return null;const a=[];for(let c=1;c<n.length;c+=1){const d=n[c-1],f=n[c];if(d.nav<=0||f.nav<=0)continue;const p=f.nav/d.nav-1;a.push(p)}if(a.length<2)return null;const i=a.reduce((c,d)=>c+d,0)/a.length,s=a.reduce((c,d)=>c+Math.pow(d-i,2),0)/(a.length-1);return Math.sqrt(s)*Math.sqrt(sV)*100}function tg(t,e){let r=0,n=0;for(const[a,i]of Object.entries(e)){const s=t[a];s!=null&&(r+=i*s,n+=i)}return n<=0?null:r/n}function Ic(t){if(t.length<2)return 0;const e=[...t].sort((i,s)=>i.date.getTime()-s.date.getTime());let r=.1;const n=1e-6,a=100;for(let i=0;i<a;i++){let s=0,o=0;for(const l of e){const d=(l.date.getTime()-e[0].date.getTime())/864e5/365,f=l.amount/Math.pow(1+r,d);s+=f,d!==0&&(o-=l.amount*d/Math.pow(1+r,d+1))}if(Math.abs(s)<n||Math.abs(o)<n)break;r=r-s/o,r<-.99&&(r=-.99)}return r*100}function rd(t,e,r){return t<=0||e<=0||r<=0?0:(Math.pow(e/t,1/r)-1)*100}const a8="bucket_perf_report_",i8=1440*60*1e3,gj=t=>{const e=t.map(n=>`${n.id}:${n.weightage}`).sort().join("|");let r=0;for(let n=0;n<e.length;n++){const a=e.charCodeAt(n);r=(r<<5)-r+a,r=r&r}return r.toString(36)},sw=(t,e)=>`${a8}${t}_${e}`,cV=(t,e)=>{try{const r=sw(t,e),n=localStorage.getItem(r);if(!n)return null;const a=JSON.parse(n);return Date.now()-a.timestamp>i8||a.bucketId!==t||a.fundHash!==e?(localStorage.removeItem(r),null):a}catch(r){return console.warn("Error loading from cache:",r),null}},uV=(t,e,r,n)=>{const a={fundLiveReturns:r,bucketLiveReturns:n,timestamp:Date.now(),bucketId:t,fundHash:e};try{const i=sw(t,e);localStorage.setItem(i,JSON.stringify(a))}catch(i){if(i instanceof DOMException&&i.name==="QuotaExceededError"){console.warn("localStorage quota exceeded, clearing old cache entries..."),dV();try{const s=sw(t,e);localStorage.setItem(s,JSON.stringify(a))}catch(s){console.warn("Failed to save to cache after cleanup:",s)}}else console.warn("Error saving to cache:",i)}},dV=()=>{try{const t=Date.now(),e=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n&&n.startsWith(a8))try{const a=localStorage.getItem(n);if(a){const i=JSON.parse(a);t-i.timestamp>i8&&e.push(n)}}catch{e.push(n)}}e.forEach(r=>localStorage.removeItem(r))}catch(t){console.warn("Error clearing old cache entries:",t)}},Au=()=>new Promise(t=>setTimeout(t,0)),fV=async(t,e,r=10,n)=>{for(let a=0;a<t.length;a+=r){const i=t.slice(a,a+r);for(let s=0;s<i.length;s++)await e(i[s],a+s);n&&await n(Math.min(a+r,t.length),t.length),await Au()}};function hV({bucket:t}){const[e,r]=j.useState(!1),[n,a]=j.useState({current:0,total:0,message:""}),[i,s]=j.useState([]),[o,l]=j.useState(null),[c,d]=j.useState(null),[f,p]=j.useState(!1),{rollingReturns:h}=t.performance;j.useEffect(()=>{v()},[t]),j.useEffect(()=>{gj(t.funds.map(b=>({id:b.id,weightage:b.weightage})))},[t.id,t.funds]);const v=async()=>{r(!0),d(null),a({current:0,total:0,message:"Loading live returns..."});try{const{getBucketLiveReturns:b,isDataStale:w}=await jc(async()=>{const{getBucketLiveReturns:ae,isDataStale:xe}=await import("./bucketLiveReturnsService-Bf6y6YtO.js");return{getBucketLiveReturns:ae,isDataStale:xe}},__vite__mapDeps([0,1])),N=await b(t.id);if(N&&!w(N.calculationDate)){s(N.fundLiveReturns||[]),l({bucketCagr3Y:N.bucketCagr3Y,bucketCagr5Y:N.bucketCagr5Y,lumpsumInvestment:N.lumpsumInvestment,lumpsumCurrentValue:N.lumpsumCurrentValue,lumpsumReturns:N.lumpsumReturns,lumpsumReturnsPercent:N.lumpsumReturnsPercent,sipTotalInvested:N.sipTotalInvested,sipCurrentValue:N.sipCurrentValue,sipXIRR:N.sipXIRR,sipProfitPercentage:N.sipProfitPercentage}),p(!1),r(!1);return}const _=gj(t.funds.map(ae=>({id:ae.id,weightage:ae.weightage}))),A=cV(t.id,_);if(A){s(A.fundLiveReturns),l(A.bucketLiveReturns),p(!0),r(!1);return}p(!1),a({current:0,total:0,message:"Initializing..."});const C=Br(),E=new Date;E.setFullYear(E.getFullYear()-3);const R=E.toISOString().split("T")[0],L=new Date;L.setFullYear(L.getFullYear()-5);const U=L.toISOString().split("T")[0],S=t.funds.map(ae=>ae.id),O=t.funds.reduce((ae,xe)=>{const we=new Date(xe.launchDate);return we<ae?we:ae},new Date(U)),k=O<new Date(U)?O.toISOString().split("T")[0]:U;a({current:0,total:100,message:"Fetching NAV data..."}),await Au();const M=await Rd(S,k,C),$=[];let F=0,z=0,W=0,q=0;const ee=[],de=1e5,B=1e3,G=t.funds.length;a({current:0,total:G,message:"Calculating fund metrics..."}),await Au();for(let ae=0;ae<t.funds.length;ae++){const xe=t.funds[ae];a({current:ae+1,total:G,message:`Processing ${xe.name}...`}),await Au();const we=M.find(et=>et.schemeCode===xe.id);if(!we||we.navData.length===0){$.push({fundId:xe.id,fundName:xe.name,currentNAV:null,cagr3Y:null,cagr5Y:null,lumpsumInvestment:0,lumpsumCurrentValue:null,lumpsumReturns:null,lumpsumReturnsPercent:null,sipTotalInvested:0,sipCurrentValue:null,sipXIRR:null,positivePercentageFromLaunch:null});continue}const Y=ms(we.navData,C),ge=Y?.nav||null,De=Wn(we.navData,R),Fe=De&&Y?iw([{date:De.date,nav:De.nav},{date:Y.date,nav:Y.nav}]):null,Pe=Wn(we.navData,U),Ge=Pe&&Y?iw([{date:Pe.date,nav:Pe.nav},{date:Y.date,nav:Y.nav}]):null;let Te=null;const ze=new Date(xe.launchDate),Ue=new Date(ze);if(Ue.setFullYear(Ue.getFullYear()+3),Ue<=new Date(C)&&we.navData.length>0){const et=we.navData.filter(zt=>new Date(zt.date)>=ze).sort((zt,tt)=>new Date(zt.date).getTime()-new Date(tt.date).getTime());if(et.length>0){const tt=[];await fV(et,async(ut,Xt)=>{const _t=new Date(ut.date),ot=new Date(_t);ot.setDate(ot.getDate()+1095-1);const Lt=ms(et,ot.toISOString().split("T")[0]);if(Lt&&ut.nav>0&&Lt.nav>0){const en=(new Date(Lt.date).getTime()-_t.getTime())/864e5;if(en>=1065&&en<=1125){const Ar=en/365.25,tn=((Lt.nav/ut.nav)**(1/Ar)-1)*100;tt.push(tn)}}},50,async(ut,Xt)=>{(ut%100===0||ut===Xt)&&(a({current:ae+1,total:G,message:`Calculating rolling returns for ${xe.name} (${Math.round(ut/Xt*100)}%)...`}),await Au())}),tt.length>0&&(Te=tt.filter(Xt=>Xt>0).length/tt.length*100)}}const Ye=de*xe.weightage/100;let Ze=null,wt=null,Pt=null;De&&Y&&De.nav>0&&(Ze=Ye/De.nav*Y.nav,wt=Ze-Ye,Pt=wt/Ye*100,F+=Ye,z+=Ze);const Ce=B*xe.weightage/100;let Ae=0,We=0;const qe=[],rt=new Date(R);let mt=new Date(rt.getFullYear(),rt.getMonth(),1).toISOString().split("T")[0];for(let et=0;et<36;et++){const zt=eh(mt,et),tt=Wn(we.navData,zt);if(tt&&tt.nav>0){const ut=Ce/tt.nav;We+=ut,Ae+=Ce,qe.push({date:new Date(tt.date),amount:-Ce})}}let Nt=null,Yt=null;if(Y&&We>0){Nt=We*Y.nav;const et=[...qe,{date:new Date(Y.date),amount:Nt}];Yt=Ic(et),W+=Ae,q+=Nt,ee.push(...qe)}$.push({fundId:xe.id,fundName:xe.name,currentNAV:ge,cagr3Y:Fe,cagr5Y:Ge,lumpsumInvestment:Ye,lumpsumCurrentValue:Ze,lumpsumReturns:wt,lumpsumReturnsPercent:Pt,sipTotalInvested:Ae,sipCurrentValue:Nt,sipXIRR:Yt,positivePercentageFromLaunch:Te})}const Z={};t.funds.forEach(ae=>{Z[ae.id]=ae.weightage/100});const te={},ne={};$.forEach(ae=>{te[ae.fundId]=ae.cagr3Y,ne[ae.fundId]=ae.cagr5Y});const ie=tg(te,Z),fe=tg(ne,Z);q>0&&ee.push({date:new Date(C),amount:q});const se=ee.length>=2?Ic(ee):null,he=W>0&&q>0?(q-W)/W*100:null,oe={bucketCagr3Y:ie,bucketCagr5Y:fe,lumpsumInvestment:F,lumpsumCurrentValue:z>0?z:null,lumpsumReturns:z>0?z-F:null,lumpsumReturnsPercent:F>0&&z>0?(z-F)/F*100:null,sipTotalInvested:W,sipCurrentValue:q>0?q:null,sipXIRR:se,sipProfitPercentage:he};a({current:G,total:G,message:"Finalizing calculations..."}),await Au(),uV(t.id,_,$,oe),s($),l(oe)}catch(b){console.error("Error loading live returns:",b),d(b instanceof Error?b.message:"Failed to load live returns")}finally{r(!1),a({current:0,total:0,message:""})}},m=(b,w=2)=>b===null||isNaN(b)?"N/A":b.toFixed(w),g=b=>b===null||isNaN(b)?"N/A":`${b.toLocaleString("en-IN",{maximumFractionDigits:2,minimumFractionDigits:2})}`;return u.jsxs("div",{className:"space-y-4 sm:space-y-6 mt-2 sm:mt-4 relative",children:[e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:u.jsx(Ve,{className:"p-6 sm:p-8 max-w-md w-full mx-4 bg-white shadow-2xl",children:u.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[u.jsx(Sa,{className:"h-12 w-12 animate-spin text-emerald-600"}),u.jsxs("div",{className:"text-center w-full",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Calculating Performance Report"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:n.message||"Please wait..."}),n.total>0&&u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[n.current," / ",n.total]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:u.jsx("div",{className:"bg-emerald-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${n.current/n.total*100}%`}})}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[Math.round(n.current/n.total*100),"% complete"]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"This may take a few moments..."})]})]})})}),u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Portfolio Performance (3-Year Rolling Window)"}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 md:gap-4",children:[u.jsxs("div",{className:"p-2 sm:p-3 md:p-4 bg-blue-50 rounded-lg",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 sm:mb-1",children:"Net Returns"}),u.jsx("p",{className:`text-base sm:text-lg md:text-xl font-bold ${o&&o.lumpsumReturnsPercent!==null&&o.lumpsumReturnsPercent>=0?"text-green-700":"text-red-700"}`,children:o&&o.lumpsumReturnsPercent!==null?`${o.lumpsumReturnsPercent>=0?"+":""}${m(o.lumpsumReturnsPercent)}%`:e?"...":"N/A"})]}),u.jsxs("div",{className:"p-2 sm:p-3 md:p-4 bg-purple-50 rounded-lg",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 sm:mb-1",children:"CAGR - 3 Yr"}),u.jsx("p",{className:`text-base sm:text-lg font-bold mb-1 ${o&&o.bucketCagr3Y!==null&&o.bucketCagr3Y>=0?"text-green-700":"text-red-700"}`,children:o&&o.bucketCagr3Y!==null?`${m(o.bucketCagr3Y)}%`:e?"...":"N/A"}),u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 sm:mb-1",children:"CAGR - 5 Yr"}),u.jsx("p",{className:`text-base sm:text-lg font-bold ${o&&o.bucketCagr5Y!==null&&o.bucketCagr5Y>=0?"text-green-700":"text-red-700"}`,children:o&&o.bucketCagr5Y!==null?`${m(o.bucketCagr5Y)}%`:e?"...":"N/A"})]}),u.jsxs("div",{className:"p-2 sm:p-3 md:p-4 bg-emerald-50 rounded-lg",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 sm:mb-1",children:"Maximum Return"}),u.jsxs("p",{className:"text-base sm:text-lg font-bold mb-1 text-emerald-700",children:[m(h.bucket.max),"%"]}),u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 sm:mb-1",children:"Minimum Return"}),u.jsxs("p",{className:"text-base sm:text-lg font-bold text-red-700",children:[m(h.bucket.min),"%"]})]}),u.jsxs("div",{className:"p-2 sm:p-3 md:p-4 bg-blue-50 rounded-lg",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5 sm:mb-1",children:"Positive Periods"}),u.jsxs("p",{className:"text-base sm:text-lg md:text-xl font-bold text-blue-700",children:[m(h.bucket.positivePercentage),"%"]})]})]})]}),u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Individual Fund Performance"}),u.jsx("div",{className:"overflow-x-auto -mx-4 sm:-mx-5 md:-mx-6 px-4 sm:px-5 md:px-6",children:u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{children:[u.jsx(at,{children:"Fund Name"}),u.jsx(at,{children:"NAV"}),u.jsx(at,{children:"CAGR - 3 Yr"}),u.jsx(at,{className:"hidden md:table-cell",children:"CAGR - 5 Yr"}),u.jsx(at,{className:"hidden lg:table-cell",children:"Positive Periods"}),u.jsx(at,{className:"hidden sm:table-cell",children:"Max Return"}),u.jsx(at,{className:"hidden sm:table-cell",children:"Min Return"})]})}),u.jsx(Qs,{children:h.funds.map(b=>{t.funds.find(N=>N.id===b.fundId);const w=i.find(N=>N.fundId===b.fundId);return u.jsxs(ln,{children:[u.jsx(Ke,{className:"font-medium min-w-[140px] sm:min-w-[200px] text-xs sm:text-sm",children:u.jsx("span",{className:"block whitespace-normal break-words",children:b.fundName})}),u.jsx(Ke,{className:"text-xs sm:text-sm",children:w&&w.currentNAV!==null?g(w.currentNAV):e?"...":"N/A"}),u.jsx(Ke,{className:`text-xs sm:text-sm ${w&&w.cagr3Y!==null&&w.cagr3Y>=0?"text-green-700 font-semibold":"text-red-700 font-semibold"}`,children:w&&w.cagr3Y!==null?`${m(w.cagr3Y)}%`:e?"...":"N/A"}),u.jsx(Ke,{className:`hidden md:table-cell text-xs sm:text-sm ${w&&w.cagr5Y!==null&&w.cagr5Y>=0?"text-green-700 font-semibold":"text-red-700 font-semibold"}`,children:w&&w.cagr5Y!==null?`${m(w.cagr5Y)}%`:e?"...":"N/A"}),u.jsx(Ke,{className:"hidden lg:table-cell text-xs sm:text-sm",children:u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[u.jsxs("span",{className:w&&w.positivePercentageFromLaunch!==null?w.positivePercentageFromLaunch>=70?"text-green-700":w.positivePercentageFromLaunch>=50?"text-yellow-700":"text-red-700":b.positivePercentage>=70?"text-green-700":b.positivePercentage>=50?"text-yellow-700":"text-red-700",children:[w&&w.positivePercentageFromLaunch!==null?m(w.positivePercentageFromLaunch):m(b.positivePercentage),"%"]}),(w&&w.positivePercentageFromLaunch!==null&&w.positivePercentageFromLaunch>=70||w&&w.positivePercentageFromLaunch===null&&b.positivePercentage>=70)&&u.jsx(Hk,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"})]})}),u.jsxs(Ke,{className:"hidden sm:table-cell text-green-700 text-xs sm:text-sm",children:[m(b.max),"%"]}),u.jsxs(Ke,{className:"hidden sm:table-cell text-red-700 text-xs sm:text-sm",children:[m(b.min),"%"]})]},b.fundId)})})]})})]}),u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6 bg-gradient-to-r from-emerald-50 to-teal-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[u.jsxs("h3",{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[u.jsx(oa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-emerald-600 flex-shrink-0"}),u.jsx("span",{children:"Live Returns"})]}),f&&o&&u.jsx(tr,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:"Cached"})]}),c&&u.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mb-4",children:[u.jsx("p",{className:"text-sm text-red-700",children:c}),u.jsx(Ct,{variant:"outline",size:"sm",onClick:v,className:"mt-2",children:"Retry"})]}),!e&&!c&&o&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-white rounded-lg border border-emerald-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Kk,{className:"h-4 w-4 text-emerald-600"}),u.jsx("h4",{className:"font-semibold text-sm sm:text-base",children:"Lumpsum Investment"})]}),u.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:["You would have made ",u.jsx("strong",{className:"text-emerald-700",children:o.bucketCagr3Y!==null?`${m(o.bucketCagr3Y)}%`:"N/A"})," annualised returns on ",g(o.lumpsumInvestment)," invested 3 years ago."]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Investment"}),u.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-900",children:g(o.lumpsumInvestment)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Current Value"}),u.jsx("p",{className:"text-sm sm:text-base font-bold text-emerald-700",children:g(o.lumpsumCurrentValue)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Returns"}),u.jsxs("p",{className:`text-sm sm:text-base font-bold ${o.lumpsumReturnsPercent!==null&&o.lumpsumReturnsPercent>=0?"text-emerald-700":"text-red-700"}`,children:[g(o.lumpsumReturns)," (",m(o.lumpsumReturnsPercent),"%)"]})]})]})]}),u.jsxs("div",{className:"p-4 bg-white rounded-lg border border-teal-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(f0,{className:"h-4 w-4 text-teal-600"}),u.jsx("h4",{className:"font-semibold text-sm sm:text-base",children:"SIP Investment"})]}),u.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:["You would have made ",u.jsx("strong",{className:"text-teal-700",children:o.sipXIRR!==null?`${m(o.sipXIRR)}%`:"N/A"})," annualized returns on 1,000 invested every month for 3 years."]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total investment"}),u.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-900",children:g(o.sipTotalInvested)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Current Value"}),u.jsx("p",{className:"text-sm sm:text-base font-bold text-teal-700",children:g(o.sipCurrentValue)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Returns"}),u.jsx("p",{className:`text-sm sm:text-base font-bold ${o.sipProfitPercentage!==null&&o.sipProfitPercentage>=0?"text-teal-700":"text-red-700"}`,children:o.sipCurrentValue!==null&&o.sipTotalInvested>0&&o.sipProfitPercentage!==null?`${g(o.sipCurrentValue-o.sipTotalInvested)} (${o.sipProfitPercentage>=0?"+":""}${m(o.sipProfitPercentage)}%)`:"N/A"})]})]})]})]})]})]})}function pV({bucket:t,onViewPerformance:e,onImportBucket:r}){const[n,a]=j.useState("3Y"),[i,s]=j.useState(null),o=1e5;j.useEffect(()=>{const m=t.performance.rollingReturns.bucket.mean/100,b=o*Math.pow(1+m,3),w=b-o,N=w/o*100;s({investment:o,value:b,returns:w,returnsPercent:N})},[t]);const l=m=>{switch(m){case"low":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"moderate":return"bg-amber-100 text-amber-700 border-amber-200";case"high":return"bg-rose-100 text-rose-700 border-rose-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},c=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0,minimumFractionDigits:0}).format(m),d=(m,g=1)=>m.toFixed(g),f=i?Math.max(i.investment,i.value,i.returns):o,p=i?i.investment/f*100:0,h=i?i.value/f*100:0,v=i?i.returns/f*100:0;return u.jsxs(Ve,{className:"group relative overflow-hidden border-2 border-slate-200 hover:border-blue-400 hover:shadow-2xl transition-all duration-300 bg-white",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),u.jsxs("div",{className:"p-5 sm:p-6 flex flex-col h-full",children:[u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Y2,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}),u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors",children:t.name})]}),t.description&&u.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 mt-1",children:t.description})]}),u.jsx(tr,{className:`${l(t.riskLevel)} flex-shrink-0 text-xs font-semibold border`,children:t.riskLevel.toUpperCase()})]})}),i&&u.jsxs("div",{className:"mb-5 bg-gradient-to-br from-slate-50 to-blue-50/30 rounded-xl p-4 border border-blue-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Based on 3 years performance"}),u.jsx("div",{className:"flex items-center gap-1 bg-white rounded-lg px-2 py-1 border border-gray-200",children:u.jsx("button",{onClick:()=>a("3Y"),className:`text-xs font-medium px-2 py-0.5 rounded transition-colors ${n==="3Y"?"bg-blue-600 text-white":"text-gray-600 hover:text-blue-600"}`,children:"3Y"})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Total Investment"}),u.jsx("span",{className:"text-sm font-bold text-gray-900",children:c(i.investment)})]}),u.jsx("div",{className:"relative h-6 bg-gray-100 rounded-md overflow-hidden",children:u.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-slate-600 to-slate-700 rounded-md",style:{width:`${p}%`},children:u.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 4px, rgba(255,255,255,0.1) 4px, rgba(255,255,255,0.1) 8px)"}})})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Bucket Value"}),u.jsx("span",{className:"text-sm font-bold text-blue-700",children:c(i.value)})]}),u.jsx("div",{className:"relative h-6 bg-gray-100 rounded-md overflow-hidden",children:u.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-md",style:{width:`${h}%`},children:u.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 4px, rgba(255,255,255,0.15) 4px, rgba(255,255,255,0.15) 8px)"}})})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Returns"}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(oa,{className:"h-3 w-3 text-emerald-600"}),u.jsx("span",{className:"text-sm font-bold text-emerald-700",children:c(i.returns)}),u.jsxs("span",{className:"text-xs font-semibold text-emerald-600 bg-emerald-50 px-1.5 py-0.5 rounded",children:["+",d(i.returnsPercent),"%"]})]})]}),u.jsx("div",{className:"relative h-6 bg-gray-100 rounded-md overflow-hidden",children:u.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-md",style:{width:`${v}%`},children:u.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 4px, rgba(255,255,255,0.15) 4px, rgba(255,255,255,0.15) 8px)"}})})})]})]})]}),u.jsxs("div",{className:"mb-4 grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg border border-blue-100",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:"Avg Return"}),u.jsxs("p",{className:"text-sm font-bold text-blue-700",children:[t.performance.rollingReturns.bucket.mean.toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center p-2 bg-emerald-50 rounded-lg border border-emerald-100",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:"Positive"}),u.jsxs("p",{className:"text-sm font-bold text-emerald-700",children:[t.performance.rollingReturns.bucket.positivePercentage.toFixed(0),"%"]})]}),u.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg border border-purple-100",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:"Funds"}),u.jsx("p",{className:"text-sm font-bold text-purple-700",children:t.funds.length})]})]}),u.jsxs("div",{className:"mb-4 flex-1",children:[u.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Portfolio Composition"}),u.jsxs("div",{className:"space-y-1.5",children:[t.funds.slice(0,2).map(m=>u.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-50 rounded px-2 py-1",children:[u.jsx("span",{className:"text-gray-700 truncate flex-1 min-w-0",children:m.name}),u.jsxs(tr,{variant:"outline",className:"text-xs ml-2 flex-shrink-0",children:[m.weightage,"%"]})]},m.id)),t.funds.length>2&&u.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",t.funds.length-2," more funds"]})]})]}),u.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t border-gray-200 mt-auto",children:[u.jsxs(Ct,{variant:"outline",size:"sm",onClick:()=>e(t),className:"w-full text-xs sm:text-sm h-9 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300",children:[u.jsx(Fu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 sm:mr-2"}),u.jsx("span",{children:"View Performance"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.category==="investment"||t.category==="both"?u.jsxs(Ct,{size:"sm",onClick:()=>r(t,"investment"),className:"text-xs sm:text-sm h-9 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:[u.jsx(Ec,{className:"h-3 w-3 mr-1"}),u.jsx("span",{className:"truncate",children:"Investment"})]}):null,t.category==="retirement"||t.category==="both"?u.jsxs(Ct,{size:"sm",onClick:()=>r(t,"retirement"),className:"text-xs sm:text-sm h-9 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white",children:[u.jsx(Ec,{className:"h-3 w-3 mr-1"}),u.jsx("span",{className:"truncate",children:"Retirement"})]}):null]})]})]})]})}function mV({buckets:t,onImportBucket:e}){const[r,n]=j.useState(null),[a,i]=j.useState(!1),[s,o]=j.useState(null),l=d=>{n(d),i(!0)},c=(d,f)=>{e(d,f)};return t.length===0?null:u.jsxs(u.Fragment,{children:[u.jsx("section",{id:"recommended-portfolios",className:"py-8 sm:py-12 md:py-20 bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/30",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 mb-4 shadow-lg",children:u.jsx(Fu,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Recommended Portfolios"}),u.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto",children:["Expertly curated fund buckets with proven performance track records.",u.jsx("span",{className:"block mt-2 text-sm sm:text-base text-gray-500",children:"See projected returns based on 3-year historical performance"})]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 sm:gap-6 md:gap-8",children:t.map(d=>u.jsx(pV,{bucket:d,onViewPerformance:l,onImportBucket:c},d.id))})]})}),r&&u.jsx(ep,{open:a,onOpenChange:i,children:u.jsxs(tp,{className:"max-w-[95vw] sm:max-w-[90vw] md:max-w-4xl lg:max-w-6xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto p-3 sm:p-4 md:p-6 w-full",children:[u.jsxs(rp,{className:"pb-2 sm:pb-3",children:[u.jsxs(np,{className:"text-base sm:text-lg md:text-xl lg:text-2xl break-words pr-6",children:[r.name," - Performance Analysis"]}),u.jsxs(ap,{className:"text-xs sm:text-sm mt-1 sm:mt-2",children:["Detailed rolling returns analysis from ",new Date(r.performance.analysisStartDate).toLocaleDateString(),"to ",new Date(r.performance.analysisEndDate).toLocaleDateString()]})]}),u.jsx("div",{className:"overflow-x-hidden",children:u.jsx(hV,{bucket:r})})]})})]})}function za({className:t,...e}){return u.jsx("div",{"data-slot":"skeleton",className:Et("bg-accent animate-pulse rounded-md",t),...e})}const gV="Harsh@thelalstreet.2025",ku="admin_auth_token",Lu="admin_auth_expiry",vV=1440*60*1e3,Md=()=>{try{const t=localStorage.getItem(ku),e=localStorage.getItem(Lu);if(!t||!e)return null;const r=Date.now(),n=parseInt(e,10);return r>n?(localStorage.removeItem(ku),localStorage.removeItem(Lu),null):gV}catch{return null}};function s8(){const[t,e]=j.useState({isAuthenticated:!1,isLoading:!0}),r=j.useCallback(()=>{try{const i=localStorage.getItem(ku),s=localStorage.getItem(Lu);if(!i||!s)return e({isAuthenticated:!1,isLoading:!1}),!1;const o=Date.now(),l=parseInt(s,10);return o>l?(localStorage.removeItem(ku),localStorage.removeItem(Lu),e({isAuthenticated:!1,isLoading:!1}),!1):(e({isAuthenticated:!0,isLoading:!1}),!0)}catch(i){return console.error("Auth check error:",i),e({isAuthenticated:!1,isLoading:!1}),!1}},[]),n=j.useCallback(i=>{const s="Harsh@thelalstreet.2025";if(i===s){const o=Date.now()+vV;return localStorage.setItem(ku,s),localStorage.setItem(Lu,o.toString()),e({isAuthenticated:!0,isLoading:!1}),!0}return!1},[]),a=j.useCallback(()=>{localStorage.removeItem(ku),localStorage.removeItem(Lu),e({isAuthenticated:!1,isLoading:!1})},[]);return j.useEffect(()=>{r()},[r]),{...t,login:n,logout:a,checkAuth:r}}async function yV(t=!1){try{const e=`${Ha.SUGGESTED_BUCKETS}?activeOnly=${t}`,r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch suggested buckets: ${r.statusText}`);return(await r.json()).data||[]}catch(e){return console.error("Error fetching suggested buckets:",e),[]}}async function bV(t){const e=Md();if(!e)throw new Error("Admin authentication required");try{const r=await fetch(Ha.SUGGESTED_BUCKETS,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!r.ok){const a=await r.json();throw new Error(a.message||`Failed to create suggested bucket: ${r.statusText}`)}return(await r.json()).data}catch(r){throw console.error("Error creating suggested bucket:",r),r}}async function xV(t,e){const r=Md();if(!r)throw new Error("Admin authentication required");try{const n=await fetch(`${Ha.SUGGESTED_BUCKETS}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(e)});if(!n.ok){const i=await n.json();throw new Error(i.message||`Failed to update suggested bucket: ${n.statusText}`)}return(await n.json()).data}catch(n){throw console.error("Error updating suggested bucket:",n),n}}async function wV(t){const e=Md();if(!e)throw new Error("Admin authentication required");try{const r=await fetch(`${Ha.SUGGESTED_BUCKETS}/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Failed to delete suggested bucket: ${r.statusText}`)}}catch(r){throw console.error("Error deleting suggested bucket:",r),r}}let di=[],Rc=0;const o8=300*1e3;function NV(){return Rc}function SV(){const t=Date.now();return di.length>0&&t-Rc<o8}async function Ff(t=!1){const e=Date.now();if(di.length>0&&e-Rc<o8)return t?di.filter(r=>r.isActive):di;try{return di=await yV(!1),Rc=e,t?di.filter(r=>r.isActive):di}catch(r){return console.error("Error loading suggested buckets:",r),di.length>0?t?di.filter(n=>n.isActive):di:[]}}async function l8(t){try{await bV(t),di=[],Rc=0}catch(e){throw console.error("Error adding suggested bucket:",e),e}}async function ow(t,e){try{await xV(t,e),di=[],Rc=0}catch(r){throw console.error("Error updating suggested bucket:",r),r}}async function c8(t){try{await wV(t),di=[],Rc=0}catch(e){throw console.error("Error deleting suggested bucket:",e),e}}const vj=Object.freeze(Object.defineProperty({__proto__:null,addSuggestedBucket:l8,deleteSuggestedBucket:c8,getCacheTimestamp:NV,isCacheValid:SV,loadSuggestedBuckets:Ff,updateSuggestedBucket:ow},Symbol.toStringTag,{value:"Module"}));async function Cxe(){try{const t=new AbortController,e=setTimeout(()=>t.abort(),5e3),r=await fetch(`${Ua}/api/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:t.signal});if(clearTimeout(e),!r.ok)return{isHealthy:!1,isLoading:!0,error:`Server returned ${r.status}`};const n=await r.json();if(n.status!=="ok")return{isHealthy:!1,isLoading:!0,error:"Server status is not OK"};if(n.memory){const a=parseInt(n.memory.heapUsed.replace("MB","")),i=parseInt(n.memory.heapTotal.replace("MB",""));if(i>0)return{isHealthy:!0,isLoading:a/i*100>80,memoryUsage:n.memory,uptime:n.uptime}}return{isHealthy:!0,isLoading:!1,memoryUsage:n.memory,uptime:n.uptime}}catch(t){return{isHealthy:!1,isLoading:!0,error:t.name==="AbortError"?"Server health check timed out":t.message||"Failed to check server health"}}}function Exe(t,e=5){if(!t)return!0;const r=new Date(t);return(new Date().getTime()-r.getTime())/(1e3*60*60*24)>=e}async function AV(){try{const t=new AbortController,e=setTimeout(()=>t.abort(),1e4),r=await fetch(Ha.HEALTH_CHECK,{method:"GET",headers:{"Content-Type":"application/json"},signal:t.signal});clearTimeout(e),r.ok?Dt.log("Server warmed up successfully"):Dt.warn("Server warm-up received non-OK response:",r.status)}catch(t){t.name!=="AbortError"&&Dt.warn("Server warm-up failed (server may still be starting):",t.message)}}function yj({onNavigate:t,onImportBucket:e}){const[r,n]=j.useState([]),[a,i]=j.useState(!0),[s,o]=j.useState(!1);j.useEffect(()=>{let f=!0;(async()=>{try{const{isCacheValid:w}=await jc(async()=>{const{isCacheValid:A}=await Promise.resolve().then(()=>vj);return{isCacheValid:A}},void 0),N=w();N||i(!0);const _=await Ff(!0);if(f&&(n(_),i(!1)),N){const{getCacheTimestamp:A}=await jc(async()=>{const{getCacheTimestamp:R}=await Promise.resolve().then(()=>vj);return{getCacheTimestamp:R}},void 0),C=Date.now()-A(),E=3600*1e3;if(C>E){Dt.log("Cache is stale, refreshing buckets in background...");try{await AV(),await new Promise(L=>setTimeout(L,500));const R=await Ff(!0);f&&n(R)}catch(R){console.error("Error refreshing buckets:",R)}}}}catch(w){console.error("Error loading suggested buckets:",w),f&&(n([]),i(!1))}})();const h=async()=>{try{o(!0);const{checkAndRecalculateBuckets:w}=await jc(async()=>{const{checkAndRecalculateBuckets:_}=await import("./bucketRecalculationService-CGfwf2iq.js");return{checkAndRecalculateBuckets:_}},__vite__mapDeps([2,1])),N=await w();if(N.recalculated>0&&f){Dt.log(`Recalculated ${N.recalculated} buckets, refreshing...`);const _=await Ff(!0);n(_)}}catch(w){console.error("Error in auto-recalculation:",w)}finally{f&&o(!1)}},v="lastBucketRecalc",m=localStorage.getItem(v),g=Date.now(),b=1440*60*1e3;return(!m||g-parseInt(m)>b)&&(localStorage.setItem(v,g.toString()),h()),()=>{f=!1}},[]);const l=f=>{document.getElementById(f)?.scrollIntoView({behavior:"smooth"})},c=f=>{t?t(f):window.location.hash=f},d=(f,p)=>{e&&(e(f,p),c(p==="investment"?"investment-plan":"retirement-plan"))};return u.jsxs("div",{className:"min-h-screen",children:[u.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(rgba(34, 197, 94, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(34, 197, 94, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),u.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-emerald-500/20 rounded-full mix-blend-screen filter blur-3xl animate-blob opacity-30"}),u.jsx("div",{className:"absolute bottom-20 right-10 w-[500px] h-[500px] bg-cyan-500/20 rounded-full mix-blend-screen filter blur-3xl animate-blob animation-delay-2000 opacity-25"})]}),u.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 md:py-20",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[u.jsxs("div",{className:"text-left space-y-6 sm:space-y-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12",children:u.jsx("img",{src:"/favicon.png",alt:"The Lal Street Logo",className:"w-full h-full object-contain"})}),u.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white flex items-center gap-2",children:["The Lal Street",u.jsx(oa,{className:"w-6 h-6 sm:w-7 sm:h-7 text-emerald-400"})]})]}),u.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight",children:"Your Comprehensive Mutual Fund Portfolio Calculator"}),u.jsx("p",{className:"text-base sm:text-lg md:text-xl text-slate-300 max-w-2xl leading-relaxed",children:"Analyze your investments with real-time NAV data, industry-standard calculations, and powerful planning tools"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[u.jsx(Ct,{size:"lg",className:"group relative bg-emerald-500 hover:bg-emerald-400 text-white text-base sm:text-lg px-6 sm:px-8 py-6 sm:py-7 rounded-xl shadow-2xl shadow-emerald-500/50 hover:shadow-emerald-500/70 transition-all duration-300 hover:scale-105 border-0 font-semibold overflow-hidden w-full sm:w-auto",onClick:()=>l("features"),children:u.jsx("span",{className:"relative flex items-center justify-center",children:"Explore Features "})}),u.jsx(Ct,{size:"lg",className:"group relative bg-transparent border-2 border-white/40 text-white hover:bg-white/10 text-base sm:text-lg px-6 sm:px-8 py-6 sm:py-7 rounded-xl transition-all duration-300 hover:scale-105 font-semibold w-full sm:w-auto",onClick:()=>l("how-it-works"),children:"Learn More"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 pt-4",children:[u.jsx(Ll,{className:"w-4 h-4"}),u.jsx("span",{children:"Secure & Private. Calculations happen locally on your device."})]})]}),u.jsx("div",{className:"relative lg:block hidden",children:u.jsxs("div",{className:"relative",style:{transform:"perspective(1200px) rotateY(-12deg) rotateX(8deg)",transformStyle:"preserve-3d"},children:[u.jsx("div",{className:"absolute inset-0 bg-emerald-500/60 rounded-2xl blur-3xl opacity-70 animate-pulse"}),u.jsx("div",{className:"absolute inset-[1px] bg-emerald-400/40 rounded-2xl blur-xl opacity-50"}),u.jsxs("div",{className:"relative bg-slate-950/98 backdrop-blur-xl rounded-2xl border-2 border-emerald-500/60 shadow-2xl p-5 overflow-hidden",style:{boxShadow:"0 0 60px rgba(34, 197, 94, 0.6), 0 0 100px rgba(34, 197, 94, 0.3), inset 0 0 30px rgba(34, 197, 94, 0.15)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-5 pb-3 border-b border-slate-700/60",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex gap-1.5 mr-3",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/80"}),u.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/80"}),u.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500/80"})]}),u.jsx("span",{className:"text-white font-semibold text-xs",children:"The Lal Street"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_4px_rgba(34,197,94,0.8)]"}),u.jsx("span",{className:"text-xs text-emerald-400 font-medium",children:"Real-Time NAV: Active"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full shadow-[0_0_4px_rgba(34,197,94,0.8)]"}),u.jsx("span",{className:"text-xs text-emerald-400 font-medium",children:"Funds: 6/6"})]})]})]}),u.jsxs("div",{className:"relative h-56 mb-5 bg-slate-900/80 rounded-lg p-3 border border-slate-700/60 overflow-hidden",children:[u.jsx("div",{className:"absolute top-2 left-2 z-10 bg-slate-800/90 rounded border border-slate-600/60 p-1.5 shadow-lg",children:u.jsxs("svg",{width:"60",height:"24",viewBox:"0 0 60 24",className:"overflow-visible",children:[[0,1,2,3,4,5].map(f=>u.jsx("rect",{x:f*9+2,y:20-(f*2.5+3),width:"6",height:f*2.5+3,fill:"#3b82f6",opacity:"0.8",className:"transition-all"},f)),u.jsx("path",{d:"M 2 18 L 8 16 L 14 14 L 20 12 L 26 10 L 32 8",fill:"none",stroke:"#60a5fa",strokeWidth:"1.5",strokeLinecap:"round"})]})}),u.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 500 220",preserveAspectRatio:"xMidYMid meet",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"chartGradientPro",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(34, 197, 94, 0.4)",stopOpacity:"1"}),u.jsx("stop",{offset:"50%",stopColor:"rgba(34, 197, 94, 0.25)",stopOpacity:"1"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(59, 130, 246, 0.15)",stopOpacity:"1"})]}),u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),u.jsxs("filter",{id:"arrowGlow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),[0,1,2,3,4,5].map(f=>{const p=30+f*32;return u.jsxs("g",{children:[u.jsx("line",{x1:"50",y1:p,x2:"480",y2:p,stroke:"rgba(255, 255, 255, 0.08)",strokeWidth:"1"}),u.jsx("text",{x:"45",y:p+4,fill:"rgba(255, 255, 255, 0.4)",fontSize:"9",textAnchor:"end",fontFamily:"system-ui, -apple-system, sans-serif",children:(5-f)*500})]},f)}),[0,1,2,3,4,5,6,7,8,9].map(f=>{const p=50+f*47.5;return u.jsx("line",{x1:p,y1:"30",x2:p,y2:"190",stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:"1"},f)}),u.jsxs("g",{children:[u.jsx("path",{d:`M 50 150 
                             L 97.5 135 
                             L 145 120 
                             L 192.5 125 
                             L 240 90 
                             L 287.5 75 
                             L 335 80 
                             L 382.5 60 
                             L 430 45 
                             L 430 190 
                             L 50 190 Z`,fill:"url(#chartGradientPro)",opacity:"0.9"}),u.jsx("path",{d:`M 50 150 
                             Q 73.75 142.5, 97.5 135 
                             Q 121.25 127.5, 145 120 
                             Q 168.75 122.5, 192.5 125 
                             Q 216.25 107.5, 240 90 
                             Q 263.75 82.5, 287.5 75 
                             Q 311.25 77.5, 335 80 
                             Q 358.75 70, 382.5 60 
                             Q 406.25 52.5, 430 45`,fill:"none",stroke:"#22c55e",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",style:{filter:"drop-shadow(0 0 6px rgba(34, 197, 94, 0.8))"}}),[{x:50,y:150},{x:97.5,y:135},{x:145,y:120},{x:192.5,y:125},{x:240,y:90},{x:287.5,y:75},{x:335,y:80},{x:382.5,y:60},{x:430,y:45}].map((f,p)=>u.jsxs("g",{children:[u.jsx("circle",{cx:f.x,cy:f.y,r:"4",fill:"#22c55e",stroke:"#0f172a",strokeWidth:"2",style:{filter:"drop-shadow(0 0 4px rgba(34, 197, 94, 1))"}}),u.jsx("circle",{cx:f.x,cy:f.y,r:"2",fill:"#86efac"})]},p))]}),u.jsxs("g",{transform:"translate(430, 45)",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"arrowGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),u.jsx("stop",{offset:"100%",stopColor:"#10b981"})]})}),u.jsx("path",{d:"M 0 0 L 45 -35 L 35 -25 L 35 -15 L 0 0 Z",fill:"rgba(34, 197, 94, 0.3)",filter:"url(#arrowGlow)",style:{filter:"blur(8px)"}}),u.jsx("path",{d:"M 0 0 L 45 -35 L 35 -25 L 35 -15 L 0 0 Z",fill:"url(#arrowGradient)",style:{filter:"drop-shadow(0 0 12px rgba(34, 197, 94, 1))"}}),u.jsx("path",{d:"M 5 -5 L 30 -25 L 28 -23 L 28 -18 L 5 -5 Z",fill:"rgba(134, 239, 172, 0.6)"})]}),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"].map((f,p)=>{const h=50+p*47.5+0;return u.jsx("text",{x:h,y:205,fill:"rgba(255, 255, 255, 0.5)",fontSize:"10",textAnchor:"middle",fontFamily:"system-ui, -apple-system, sans-serif",fontWeight:"500",children:f},f)})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2.5",children:[u.jsxs("div",{className:"bg-slate-800/80 rounded-lg p-3 border border-slate-700/60 hover:border-emerald-500/40 transition-colors",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-1.5 font-medium",children:"XIRR"}),u.jsx("div",{className:"text-xl font-bold text-emerald-400",style:{textShadow:"0 0 10px rgba(34, 197, 94, 0.5)"},children:"14.2%"})]}),u.jsxs("div",{className:"bg-slate-800/80 rounded-lg p-3 border border-slate-700/60 hover:border-emerald-500/40 transition-colors",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-1.5 font-medium",children:"Total Value:"}),u.jsx("div",{className:"text-xl font-bold text-emerald-400",style:{textShadow:"0 0 10px rgba(34, 197, 94, 0.5)"},children:"15,40,000"})]}),u.jsxs("div",{className:"bg-slate-800/80 rounded-lg p-3 border border-slate-700/60 hover:border-emerald-500/40 transition-colors",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-1.5 font-medium",children:"Today's Gain:"}),u.jsx("div",{className:"text-xl font-bold text-emerald-400",style:{textShadow:"0 0 10px rgba(34, 197, 94, 0.5)"},children:"+12,500"}),u.jsx("div",{className:"text-xs text-emerald-400 mt-0.5",children:"(0.8%)"})]})]})]})]})})]})}),u.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce",children:u.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center",children:u.jsx("div",{className:"w-1 h-3 bg-white/50 rounded-full mt-2"})})})]}),u.jsx("section",{id:"features",className:"py-12 sm:py-16 md:py-20 bg-white",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-10 sm:mb-12 md:mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-4",children:"Why Choose The Lal Street?"}),u.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"We provide the most comprehensive and accurate portfolio analysis tools for your mutual fund investments"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[u.jsxs("div",{className:"p-6 sm:p-8 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100 hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mb-4 sm:mb-6",children:u.jsx(Fu,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Real-Time NAV Data"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Get accurate calculations with live NAV data directly from fund houses. No outdated information, no guesswork."})]}),u.jsxs("div",{className:"p-6 sm:p-8 rounded-2xl bg-gradient-to-br from-green-50 to-emerald-50 border border-green-100 hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center mb-4 sm:mb-6",children:u.jsx(Wk,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Industry-Standard Metrics"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"XIRR, CAGR, Rolling Returns, and more. All calculations follow financial industry standards for accuracy."})]}),u.jsxs("div",{className:"p-6 sm:p-8 rounded-2xl bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-100 hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center mb-4 sm:mb-6",children:u.jsx(n$,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Multi-Fund Portfolios"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Build and analyze portfolios with up to 5 funds. Custom weightage allocation and comprehensive analysis."})]}),u.jsxs("div",{className:"p-6 sm:p-8 rounded-2xl bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-100 hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center mb-4 sm:mb-6",children:u.jsx(oa,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Advanced Calculators"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"SIP, Lumpsum, Combined strategies, SWP - all the tools you need to plan your financial future."})]}),u.jsxs("div",{className:"p-6 sm:p-8 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-50 border border-teal-100 hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center mb-4 sm:mb-6",children:u.jsx(Ll,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Secure & Private"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"All calculations happen locally in your browser. Your data never leaves your device. Complete privacy."})]}),u.jsxs("div",{className:"p-6 sm:p-8 rounded-2xl bg-gradient-to-br from-rose-50 to-red-50 border border-rose-100 hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl bg-gradient-to-br from-rose-500 to-red-600 flex items-center justify-center mb-4 sm:mb-6",children:u.jsx(rL,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Lightning Fast"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Instant calculations, real-time updates, and smooth interactions. Built for speed and performance."})]})]})]})}),u.jsx("section",{id:"how-it-works",className:"py-12 sm:py-16 md:py-20 bg-gradient-to-br from-slate-50 to-blue-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-10 sm:mb-12 md:mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-4",children:"How It Works"}),u.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"Get started in three simple steps"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 sm:gap-10 relative",children:[u.jsx("div",{className:"hidden md:block absolute top-16 sm:top-20 md:top-24 left-1/3 right-1/3 h-0.5 bg-gradient-to-r from-blue-400 to-indigo-400"}),u.jsxs("div",{className:"relative text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-xl sm:text-2xl font-bold mb-4 sm:mb-6 shadow-lg",children:"1"}),u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Select Funds"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-4",children:"Search and add up to 5 mutual funds to create your portfolio. Allocate weightage as per your investment strategy."})]}),u.jsxs("div",{className:"relative text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 text-white text-xl sm:text-2xl font-bold mb-4 sm:mb-6 shadow-lg",children:"2"}),u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Choose Calculator"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-4",children:"Select from Investment Plan calculators (SIP, Lumpsum) or Retirement Plan tools (SWP, Yearly Returns)."})]}),u.jsxs("div",{className:"relative text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 text-white text-xl sm:text-2xl font-bold mb-4 sm:mb-6 shadow-lg",children:"3"}),u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Analyze Results"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-4",children:"View detailed metrics, interactive charts, and comprehensive reports to make informed investment decisions."})]})]})]})}),a?u.jsx("section",{id:"recommended-portfolios",className:"py-8 sm:py-12 md:py-20 bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-12",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 px-2",children:"Recommended Portfolios"}),u.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto px-2",children:"Expertly curated fund buckets with proven performance track records. Import these portfolios directly into your investment or retirement plans."})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 md:py-20",children:[u.jsx(Sa,{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 animate-spin text-emerald-600 mb-4 sm:mb-6"}),u.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-900 mb-2",children:"Loading Recommended Portfolios..."}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 max-w-md mx-auto px-4",children:"We're fetching the latest curated investment portfolios for you"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6 mt-8",children:[1,2,3].map(f=>u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6 border-2 flex flex-col",children:[u.jsxs("div",{className:"mb-3 sm:mb-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsx(za,{className:"h-5 sm:h-6 w-3/4"}),u.jsx(za,{className:"h-6 w-16 rounded-full"})]}),u.jsx(za,{className:"h-4 w-full mb-1"}),u.jsx(za,{className:"h-4 w-2/3"})]}),u.jsxs("div",{className:"mb-3 sm:mb-4 space-y-2",children:[u.jsx(za,{className:"h-12 sm:h-14 w-full rounded-lg"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx(za,{className:"h-16 sm:h-20 rounded"}),u.jsx(za,{className:"h-16 sm:h-20 rounded"})]})]}),u.jsxs("div",{className:"mb-3 sm:mb-4 flex-1",children:[u.jsx(za,{className:"h-4 w-20 mb-2"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(za,{className:"h-3 w-full"}),u.jsx(za,{className:"h-3 w-full"}),u.jsx(za,{className:"h-3 w-2/3"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:gap-2.5 pt-3 sm:pt-4 border-t mt-auto",children:[u.jsx(za,{className:"h-9 sm:h-10 w-full rounded-md"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx(za,{className:"h-9 sm:h-10 w-full rounded-md"}),u.jsx(za,{className:"h-9 sm:h-10 w-full rounded-md"})]})]})]},f))})]})}):r.length>0?u.jsx(mV,{buckets:r,onImportBucket:d}):null,u.jsxs("section",{className:"relative py-12 sm:py-16 md:py-20 lg:py-24 overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-cyan-500/10 via-purple-500/10 to-pink-500/10"}),u.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full filter blur-3xl animate-blob"}),u.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-gradient-to-br from-pink-400/20 to-rose-600/20 rounded-full filter blur-3xl animate-blob animation-delay-2000"})]}),u.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-white via-cyan-100 to-purple-100 mb-4 sm:mb-6 drop-shadow-lg px-4",children:"Ready to Plan Your Financial Future?"}),u.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-cyan-50 mb-8 sm:mb-10 max-w-2xl mx-auto px-4",children:"Start analyzing your portfolio today with real-time data and professional-grade calculations"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-5 justify-center px-4",children:[u.jsxs(Ct,{size:"lg",className:"group relative bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-400 text-white text-base sm:text-lg px-6 sm:px-8 md:px-10 py-5 sm:py-6 md:py-7 rounded-xl shadow-2xl shadow-emerald-500/50 hover:shadow-emerald-500/70 transition-all duration-300 hover:scale-105 border-0 font-semibold overflow-hidden w-full sm:w-auto",onClick:()=>c("investment-plan"),children:[u.jsx("span",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("span",{className:"relative flex items-center justify-center",children:[u.jsx(oa,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Investment Plan"]})]}),u.jsxs(Ct,{size:"lg",className:"group relative bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-400 hover:to-purple-500 text-white text-base sm:text-lg px-6 sm:px-8 md:px-10 py-5 sm:py-6 md:py-7 rounded-xl shadow-2xl shadow-purple-500/50 hover:shadow-purple-500/70 transition-all duration-300 hover:scale-105 border-0 font-semibold overflow-hidden w-full sm:w-auto",onClick:()=>c("retirement-plan"),children:[u.jsx("span",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("span",{className:"relative flex items-center justify-center",children:[u.jsx(zm,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Retirement Plan"]})]})]})]})]}),u.jsx("div",{className:"fixed bottom-3 right-3 z-50",children:u.jsx("button",{onClick:()=>c("admin"),className:"text-slate-300/5 hover:text-slate-400/15 transition-all duration-300 cursor-pointer select-none",title:"","aria-label":"Admin Access",style:{fontSize:"9px",fontFamily:"system-ui, sans-serif",padding:"8px",lineHeight:"0.5",opacity:.02,letterSpacing:"2px"},onMouseEnter:f=>{f.currentTarget.style.opacity="0.15"},onMouseLeave:f=>{f.currentTarget.style.opacity="0.02"},children:""})})]})}function jV(t,e){const[r,n]=j.useState(t);return j.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const _V=["Equity","Debt","Hybrid","ELSS","Index","ETF","Money Market","Gilt","Arbitrage","Others"],PV=["Large Cap","Mid Cap","Small Cap","Flexi Cap","Multi Cap","Large & Mid Cap","Sectoral","Thematic","Value","Contra","Focused","Others"];function ZN({onSelectFund:t}){const[e,r]=j.useState(""),[n,a]=j.useState([]),[i,s]=j.useState([]),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[f,p]=j.useState(!1),[h,v]=j.useState({planType:"all",optionType:"all",category:"all",assetClass:"all"}),m=jV(e,300);j.useEffect(()=>{if(m.length<2){a([]),s([]),d(!1);return}(async()=>{l(!0);try{const C=await nV(m);s(C),d(!0)}catch(C){console.error("Search error:",C),a([]),s([])}finally{l(!1)}})()},[m]),j.useEffect(()=>{if(i.length===0){a([]);return}let A=[...i];h.planType!=="all"&&(A=A.filter(C=>{const E=(C.schemeName||C.scheme_name||"").toLowerCase();return h.planType==="direct"?E.includes("direct"):!E.includes("direct")})),h.optionType!=="all"&&(A=A.filter(C=>(C.schemeName||C.scheme_name||"").toLowerCase().includes(h.optionType))),h.category!=="all"&&(A=A.filter(C=>{const E=(C.category||"Unknown").toLowerCase();return E===h.category.toLowerCase()||E.includes(h.category.toLowerCase())})),h.assetClass!=="all"&&(A=A.filter(C=>{const E=(C.schemeName||C.scheme_name||"").toLowerCase(),R=h.assetClass.toLowerCase();return({"large cap":["large cap","large-cap","largecap"],"mid cap":["mid cap","mid-cap","midcap"],"small cap":["small cap","small-cap","smallcap"],"flexi cap":["flexi cap","flexi-cap","flexicap"],"multi cap":["multi cap","multi-cap","multicap"],"large & mid cap":["large & mid cap","large and mid cap","large-mid cap"],sectoral:["sectoral","sector"],thematic:["thematic","theme"],value:["value"],contra:["contra"],focused:["focused"]}[R]||[R]).some(S=>E.includes(S))})),a(A.slice(0,15))},[i,h]);const g=h.planType!=="all"||h.optionType!=="all"||h.category!=="all"||h.assetClass!=="all",b=()=>{v({planType:"all",optionType:"all",category:"all",assetClass:"all"})},w=(A,C)=>{v(E=>({...E,[A]:E[A]===C?"all":C}))},N=A=>{const C={id:A.schemeCode||A.scheme_code,name:A.schemeName||A.scheme_name,launchDate:A.launchDate||A.launch_date||new Date().toISOString().split("T")[0],category:A.category||"Unknown"};t(C),r(""),d(!1),p(!1)},_=j.useMemo(()=>{const A=new Set;return i.forEach(C=>{const E=C.category||"Unknown";E!=="Unknown"&&A.add(E)}),Array.from(A).sort()},[i]);return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx(pN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),u.jsx(Tt,{type:"text",placeholder:"Search mutual funds by name...",value:e,onChange:A=>r(A.target.value),className:"pl-10 pr-4 py-2 w-full",onFocus:()=>{i.length>0&&d(!0)}}),o&&u.jsx(Sa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 animate-spin"})]}),i.length>0&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Ct,{variant:"outline",size:"sm",onClick:()=>p(!f),className:"text-xs",children:[u.jsx(ZB,{className:"h-3 w-3 mr-1"}),"Filters",g&&u.jsx(tr,{variant:"secondary",className:"ml-2 h-4 px-1.5 text-xs",children:[h.planType!=="all"?1:0,h.optionType!=="all"?1:0,h.category!=="all"?1:0,h.assetClass!=="all"?1:0].reduce((A,C)=>A+C,0)}),f?u.jsx(Gk,{className:"h-3 w-3 ml-1"}):u.jsx(h0,{className:"h-3 w-3 ml-1"})]}),g&&u.jsxs(Ct,{variant:"ghost",size:"sm",onClick:b,className:"text-xs text-red-600 hover:text-red-700",children:[u.jsx(_o,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),g&&u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.planType!=="all"&&u.jsxs(tr,{variant:"secondary",className:"cursor-pointer hover:bg-gray-300 text-xs",onClick:()=>w("planType",h.planType),children:[h.planType==="direct"?"Direct":"Regular",u.jsx(_o,{className:"h-3 w-3 ml-1 inline"})]}),h.optionType!=="all"&&u.jsxs(tr,{variant:"secondary",className:"cursor-pointer hover:bg-gray-300 text-xs",onClick:()=>w("optionType",h.optionType),children:[h.optionType==="growth"?"Growth":"Dividend",u.jsx(_o,{className:"h-3 w-3 ml-1 inline"})]}),h.category!=="all"&&u.jsxs(tr,{variant:"secondary",className:"cursor-pointer hover:bg-gray-300 text-xs",onClick:()=>w("category",h.category),children:[h.category,u.jsx(_o,{className:"h-3 w-3 ml-1 inline"})]}),h.assetClass!=="all"&&u.jsxs(tr,{variant:"secondary",className:"cursor-pointer hover:bg-gray-300 text-xs",onClick:()=>w("assetClass",h.assetClass),children:[h.assetClass,u.jsx(_o,{className:"h-3 w-3 ml-1 inline"})]})]}),f&&i.length>0&&u.jsx(Ve,{className:"p-4 border-2",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Yp,{className:"text-xs font-semibold text-gray-700 mb-2 block",children:"Plan Type"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(Ds,{label:"All Plans",isActive:h.planType==="all",onClick:()=>w("planType","all")}),u.jsx(Ds,{label:"Direct",isActive:h.planType==="direct",onClick:()=>w("planType","direct")}),u.jsx(Ds,{label:"Regular",isActive:h.planType==="regular",onClick:()=>w("planType","regular")})]})]}),u.jsxs("div",{children:[u.jsx(Yp,{className:"text-xs font-semibold text-gray-700 mb-2 block",children:"Option Type"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(Ds,{label:"All Options",isActive:h.optionType==="all",onClick:()=>w("optionType","all")}),u.jsx(Ds,{label:"Growth",isActive:h.optionType==="growth",onClick:()=>w("optionType","growth")}),u.jsx(Ds,{label:"Dividend",isActive:h.optionType==="dividend",onClick:()=>w("optionType","dividend")})]})]}),u.jsxs("div",{children:[u.jsx(Yp,{className:"text-xs font-semibold text-gray-700 mb-2 block",children:"Fund Category"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(Ds,{label:"All Categories",isActive:h.category==="all",onClick:()=>w("category","all")}),(_.length>0?_:_V).map(A=>u.jsx(Ds,{label:A,isActive:h.category.toLowerCase()===A.toLowerCase(),onClick:()=>w("category",A)},A))]})]}),(h.category==="all"||h.category.toLowerCase().includes("equity"))&&u.jsxs("div",{children:[u.jsxs(Yp,{className:"text-xs font-semibold text-gray-700 mb-2 block",children:["Asset Class ",u.jsx("span",{className:"text-gray-500 font-normal",children:"(for Equity)"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(Ds,{label:"All Asset Classes",isActive:h.assetClass==="all",onClick:()=>w("assetClass","all")}),PV.map(A=>u.jsx(Ds,{label:A,isActive:h.assetClass.toLowerCase()===A.toLowerCase(),onClick:()=>w("assetClass",A)},A))]})]})]})})]}),c&&n.length>0&&u.jsx(Ve,{className:"absolute top-full left-0 right-0 mt-1 max-h-96 overflow-y-auto z-50 shadow-lg border-2",children:u.jsxs("div",{className:"p-2",children:[u.jsxs("div",{className:"text-xs text-gray-600 px-2 py-1 mb-1 border-b",children:["Found ",n.length," of ",i.length," funds"]}),n.map((A,C)=>u.jsx("div",{className:"p-3 hover:bg-blue-50 cursor-pointer border-b last:border-b-0 transition-colors",onClick:()=>N(A),children:u.jsxs("div",{className:"flex justify-between items-start gap-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:A.schemeName||A.scheme_name}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",A.schemeCode||A.scheme_code]})]}),u.jsx(tr,{variant:"secondary",className:"text-xs flex-shrink-0",children:A.category||"Unknown"})]})},C))]})}),c&&n.length===0&&!o&&m.length>=2&&u.jsx(Ve,{className:"absolute top-full left-0 right-0 mt-1 z-50 shadow-lg border-2",children:u.jsx("div",{className:"p-4 text-center text-gray-500",children:g?`No funds found matching your filters for "${m}"`:`No funds found for "${m}"`})})]})}function Ds({label:t,isActive:e,onClick:r}){return u.jsx("button",{type:"button",onClick:r,className:`
        px-3 py-1.5 rounded-full text-xs font-medium transition-all
        ${e?"bg-blue-600 text-white shadow-md hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"}
      `,children:t})}function Yp({className:t,children:e,...r}){return u.jsx("label",{className:t,...r,children:e})}function JN({funds:t,onRemoveFund:e,onWeightageChange:r}){const n=t||[],a=n.reduce((o,l)=>o+l.weightage,0),i=a===100,s=o=>{try{return new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return o}};return u.jsxs(Ve,{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Fund Bucket"}),u.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Manage your selected funds and weightage allocation",u.jsxs("span",{className:`ml-2 font-medium ${n.length>=5?"text-red-600":"text-blue-600"}`,children:["(",n.length,"/5 funds)"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Total Weightage"}),u.jsxs("span",{className:`text-xl sm:text-2xl font-bold ${i?"text-green-600":"text-red-600"}`,children:[a.toFixed(0),"%"]})]})]}),n.length===0?u.jsxs("div",{className:"text-center py-12 text-gray-500",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),u.jsx("p",{className:"font-medium",children:"No funds selected"}),u.jsx("p",{className:"text-sm mt-1",children:"Search and add funds to create your portfolio."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{children:[u.jsx(at,{children:"Fund Name"}),u.jsx(at,{children:"Category"}),u.jsx(at,{children:"Launch Date"}),u.jsx(at,{className:"text-center",children:"Weightage (%)"}),u.jsx(at,{className:"text-center",children:"Action"})]})}),u.jsx(Qs,{children:n.map(o=>u.jsxs(ln,{children:[u.jsxs(Ke,{className:"font-medium",children:[o.name,u.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",o.id]})]}),u.jsx(Ke,{children:u.jsx(tr,{variant:"secondary",className:"capitalize",children:o.category||"Unknown"})}),u.jsx(Ke,{className:"text-gray-600",children:s(o.launchDate)}),u.jsx(Ke,{children:u.jsx(Tt,{type:"number",min:"0",max:"100",step:"0.1",value:o.weightage,onChange:l=>{const c=parseFloat(l.target.value)||0,d=Math.max(0,Math.min(100,c));r(o.id,d)},className:"w-24 text-center mx-auto"})}),u.jsx(Ke,{className:"text-center",children:u.jsx(Ct,{variant:"ghost",size:"sm",onClick:()=>e(o.id),className:"text-gray-400 hover:text-red-600 hover:bg-red-50",children:u.jsx(Um,{className:"h-4 w-4"})})})]},o.id))})]})}),u.jsx("div",{className:"md:hidden space-y-3",children:n.map(o=>u.jsxs(Ve,{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:o.name}),u.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["Code: ",o.id]})]}),u.jsx(Ct,{variant:"ghost",size:"sm",onClick:()=>e(o.id),className:"text-gray-400 hover:text-red-600 hover:bg-red-50 flex-shrink-0 ml-2",children:u.jsx(Um,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Category"}),u.jsx(tr,{variant:"secondary",className:"capitalize text-xs",children:o.category||"Unknown"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Launch Date"}),u.jsx("p",{className:"text-xs text-gray-600",children:s(o.launchDate)})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Weightage (%)"}),u.jsx(Tt,{type:"number",min:"0",max:"100",step:"0.1",value:o.weightage,onChange:l=>r(o.id,parseFloat(l.target.value)||0),className:"w-full text-center"})]})]})]},o.id))}),!i&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[" Portfolio allocation must total exactly 100%. Current total: ",u.jsxs("strong",{children:[a,"%"]})]})})]})]})}function QN(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var eS="Radio",[CV,u8]=Vi(eS),[EV,TV]=CV(eS),d8=j.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:o="on",onCheck:l,form:c,...d}=t,[f,p]=j.useState(null),h=lr(e,g=>p(g)),v=j.useRef(!1),m=f?c||!!f.closest("form"):!0;return u.jsxs(EV,{scope:r,checked:a,disabled:s,children:[u.jsx(qt.button,{type:"button",role:"radio","aria-checked":a,"data-state":m8(a),"data-disabled":s?"":void 0,disabled:s,value:o,...d,ref:h,onClick:it(t.onClick,g=>{a||l?.(),m&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),m&&u.jsx(p8,{control:f,bubbles:!v.current,name:n,value:o,checked:a,required:i,disabled:s,form:c,style:{transform:"translateX(-100%)"}})]})});d8.displayName=eS;var f8="RadioIndicator",h8=j.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=TV(f8,r);return u.jsx(Gi,{present:n||i.checked,children:u.jsx(qt.span,{"data-state":m8(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});h8.displayName=f8;var OV="RadioBubbleInput",p8=j.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=j.useRef(null),o=lr(s,i),l=QN(r),c=CN(e);return j.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const v=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(v)}},[l,r,n]),u.jsx(qt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});p8.displayName=OV;function m8(t){return t?"checked":"unchecked"}var kV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T0="RadioGroup",[LV]=Vi(T0,[Id,u8]),g8=Id(),v8=u8(),[IV,RV]=LV(T0),y8=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...p}=t,h=g8(r),v=Gh(c),[m,g]=Fo({prop:i,defaultProp:a??null,onChange:f,caller:T0});return u.jsx(IV,{scope:r,name:n,required:s,disabled:o,value:m,onValueChange:g,children:u.jsx(RN,{asChild:!0,...h,orientation:l,dir:v,loop:d,children:u.jsx(qt.div,{role:"radiogroup","aria-required":s,"aria-orientation":l,"data-disabled":o?"":void 0,dir:v,...p,ref:e})})})});y8.displayName=T0;var b8="RadioGroupItem",x8=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=RV(b8,r),s=i.disabled||n,o=g8(r),l=v8(r),c=j.useRef(null),d=lr(e,c),f=i.value===a.value,p=j.useRef(!1);return j.useEffect(()=>{const h=m=>{kV.includes(m.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",v)}},[]),u.jsx(MN,{asChild:!0,...o,focusable:!s,active:f,children:u.jsx(d8,{disabled:s,required:i.required,checked:f,...l,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:it(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:it(a.onFocus,()=>{p.current&&c.current?.click()})})})});x8.displayName=b8;var MV="RadioGroupIndicator",w8=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=v8(r);return u.jsx(h8,{...a,...n,ref:e})});w8.displayName=MV;var DV=y8,FV=x8,BV=w8;function tS({className:t,...e}){return u.jsx(DV,{"data-slot":"radio-group",className:Et("grid gap-3",t),...e})}function Il({className:t,...e}){return u.jsx(FV,{"data-slot":"radio-group-item",className:Et("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(BV,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:u.jsx(XB,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var s1,bj;function Va(){if(bj)return s1;bj=1;var t=Array.isArray;return s1=t,s1}var o1,xj;function N8(){if(xj)return o1;xj=1;var t=typeof Fi=="object"&&Fi&&Fi.Object===Object&&Fi;return o1=t,o1}var l1,wj;function no(){if(wj)return l1;wj=1;var t=N8(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return l1=r,l1}var c1,Nj;function ip(){if(Nj)return c1;Nj=1;var t=no(),e=t.Symbol;return c1=e,c1}var u1,Sj;function $V(){if(Sj)return u1;Sj=1;var t=ip(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=r.call(s,a),l=s[a];try{s[a]=void 0;var c=!0}catch{}var d=n.call(s);return c&&(o?s[a]=l:delete s[a]),d}return u1=i,u1}var d1,Aj;function qV(){if(Aj)return d1;Aj=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return d1=r,d1}var f1,jj;function Ko(){if(jj)return f1;jj=1;var t=ip(),e=$V(),r=qV(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?e(o):r(o)}return f1=s,f1}var h1,_j;function Yo(){if(_j)return h1;_j=1;function t(e){return e!=null&&typeof e=="object"}return h1=t,h1}var p1,Pj;function Dd(){if(Pj)return p1;Pj=1;var t=Ko(),e=Yo(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return p1=n,p1}var m1,Cj;function rS(){if(Cj)return m1;Cj=1;var t=Va(),e=Dd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return m1=a,m1}var g1,Ej;function Wl(){if(Ej)return g1;Ej=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return g1=t,g1}var v1,Tj;function nS(){if(Tj)return v1;Tj=1;var t=Ko(),e=Wl(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==n||l==a||l==r||l==i}return v1=s,v1}var y1,Oj;function zV(){if(Oj)return y1;Oj=1;var t=no(),e=t["__core-js_shared__"];return y1=e,y1}var b1,kj;function UV(){if(kj)return b1;kj=1;var t=zV(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return b1=r,b1}var x1,Lj;function S8(){if(Lj)return x1;Lj=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return x1=r,x1}var w1,Ij;function WV(){if(Ij)return w1;Ij=1;var t=nS(),e=UV(),r=Wl(),n=S8(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,c=o.hasOwnProperty,d=RegExp("^"+l.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var h=t(p)?d:i;return h.test(n(p))}return w1=f,w1}var N1,Rj;function HV(){if(Rj)return N1;Rj=1;function t(e,r){return e?.[r]}return N1=t,N1}var S1,Mj;function Zc(){if(Mj)return S1;Mj=1;var t=WV(),e=HV();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return S1=r,S1}var A1,Dj;function O0(){if(Dj)return A1;Dj=1;var t=Zc(),e=t(Object,"create");return A1=e,A1}var j1,Fj;function VV(){if(Fj)return j1;Fj=1;var t=O0();function e(){this.__data__=t?t(null):{},this.size=0}return j1=e,j1}var _1,Bj;function GV(){if(Bj)return _1;Bj=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return _1=t,_1}var P1,$j;function KV(){if($j)return P1;$j=1;var t=O0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return n.call(s,i)?s[i]:void 0}return P1=a,P1}var C1,qj;function YV(){if(qj)return C1;qj=1;var t=O0(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return C1=n,C1}var E1,zj;function XV(){if(zj)return E1;zj=1;var t=O0(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return E1=r,E1}var T1,Uj;function ZV(){if(Uj)return T1;Uj=1;var t=VV(),e=GV(),r=KV(),n=YV(),a=XV();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,T1=i,T1}var O1,Wj;function JV(){if(Wj)return O1;Wj=1;function t(){this.__data__=[],this.size=0}return O1=t,O1}var k1,Hj;function aS(){if(Hj)return k1;Hj=1;function t(e,r){return e===r||e!==e&&r!==r}return k1=t,k1}var L1,Vj;function k0(){if(Vj)return L1;Vj=1;var t=aS();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return L1=e,L1}var I1,Gj;function QV(){if(Gj)return I1;Gj=1;var t=k0(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return I1=n,I1}var R1,Kj;function eG(){if(Kj)return R1;Kj=1;var t=k0();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return R1=e,R1}var M1,Yj;function tG(){if(Yj)return M1;Yj=1;var t=k0();function e(r){return t(this.__data__,r)>-1}return M1=e,M1}var D1,Xj;function rG(){if(Xj)return D1;Xj=1;var t=k0();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return D1=e,D1}var F1,Zj;function L0(){if(Zj)return F1;Zj=1;var t=JV(),e=QV(),r=eG(),n=tG(),a=rG();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,F1=i,F1}var B1,Jj;function iS(){if(Jj)return B1;Jj=1;var t=Zc(),e=no(),r=t(e,"Map");return B1=r,B1}var $1,Qj;function nG(){if(Qj)return $1;Qj=1;var t=ZV(),e=L0(),r=iS();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return $1=n,$1}var q1,e4;function aG(){if(e4)return q1;e4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return q1=t,q1}var z1,t4;function I0(){if(t4)return z1;t4=1;var t=aG();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return z1=e,z1}var U1,r4;function iG(){if(r4)return U1;r4=1;var t=I0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return U1=e,U1}var W1,n4;function sG(){if(n4)return W1;n4=1;var t=I0();function e(r){return t(this,r).get(r)}return W1=e,W1}var H1,a4;function oG(){if(a4)return H1;a4=1;var t=I0();function e(r){return t(this,r).has(r)}return H1=e,H1}var V1,i4;function lG(){if(i4)return V1;i4=1;var t=I0();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return V1=e,V1}var G1,s4;function sS(){if(s4)return G1;s4=1;var t=nG(),e=iG(),r=sG(),n=oG(),a=lG();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,G1=i,G1}var K1,o4;function A8(){if(o4)return K1;o4=1;var t=sS(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],l=i.cache;if(l.has(o))return l.get(o);var c=n.apply(this,s);return i.cache=l.set(o,c)||l,c};return i.cache=new(r.Cache||t),i}return r.Cache=t,K1=r,K1}var Y1,l4;function cG(){if(l4)return Y1;l4=1;var t=A8(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Y1=r,Y1}var X1,c4;function uG(){if(c4)return X1;c4=1;var t=cG(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,l,c){i.push(l?c.replace(r,"$1"):o||s)}),i});return X1=n,X1}var Z1,u4;function oS(){if(u4)return Z1;u4=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Z1=t,Z1}var J1,d4;function dG(){if(d4)return J1;d4=1;var t=ip(),e=oS(),r=Va(),n=Dd(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return i?i.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return J1=s,J1}var Q1,f4;function j8(){if(f4)return Q1;f4=1;var t=dG();function e(r){return r==null?"":t(r)}return Q1=e,Q1}var ey,h4;function _8(){if(h4)return ey;h4=1;var t=Va(),e=rS(),r=uG(),n=j8();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return ey=a,ey}var ty,p4;function R0(){if(p4)return ty;p4=1;var t=Dd();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ty=e,ty}var ry,m4;function lS(){if(m4)return ry;m4=1;var t=_8(),e=R0();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return ry=r,ry}var ny,g4;function P8(){if(g4)return ny;g4=1;var t=lS();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return ny=e,ny}var fG=P8();const zi=mr(fG);var ay,v4;function hG(){if(v4)return ay;v4=1;function t(e){return e==null}return ay=t,ay}var pG=hG();const rr=mr(pG);var iy,y4;function mG(){if(y4)return iy;y4=1;var t=Ko(),e=Va(),r=Yo(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return iy=a,iy}var gG=mG();const Mc=mr(gG);var vG=nS();const Jt=mr(vG);var yG=Wl();const Fd=mr(yG);var sy={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b4;function bG(){if(b4)return yr;b4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function m(g){if(typeof g=="object"&&g!==null){var b=g.$$typeof;switch(b){case t:switch(g=g.type,g){case r:case a:case n:case c:case d:return g;default:switch(g=g&&g.$$typeof,g){case o:case s:case l:case p:case f:case i:return g;default:return b}}case e:return b}}}return yr.ContextConsumer=s,yr.ContextProvider=i,yr.Element=t,yr.ForwardRef=l,yr.Fragment=r,yr.Lazy=p,yr.Memo=f,yr.Portal=e,yr.Profiler=a,yr.StrictMode=n,yr.Suspense=c,yr.SuspenseList=d,yr.isAsyncMode=function(){return!1},yr.isConcurrentMode=function(){return!1},yr.isContextConsumer=function(g){return m(g)===s},yr.isContextProvider=function(g){return m(g)===i},yr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},yr.isForwardRef=function(g){return m(g)===l},yr.isFragment=function(g){return m(g)===r},yr.isLazy=function(g){return m(g)===p},yr.isMemo=function(g){return m(g)===f},yr.isPortal=function(g){return m(g)===e},yr.isProfiler=function(g){return m(g)===a},yr.isStrictMode=function(g){return m(g)===n},yr.isSuspense=function(g){return m(g)===c},yr.isSuspenseList=function(g){return m(g)===d},yr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===a||g===n||g===c||g===d||g===h||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===f||g.$$typeof===i||g.$$typeof===s||g.$$typeof===l||g.$$typeof===v||g.getModuleId!==void 0)},yr.typeOf=m,yr}var x4;function xG(){return x4||(x4=1,sy.exports=bG()),sy.exports}var wG=xG(),oy,w4;function C8(){if(w4)return oy;w4=1;var t=Ko(),e=Yo(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return oy=n,oy}var ly,N4;function NG(){if(N4)return ly;N4=1;var t=C8();function e(r){return t(r)&&r!=+r}return ly=e,ly}var SG=NG();const sp=mr(SG);var AG=C8();const jG=mr(AG);var gs=function(e){return e===0?0:e>0?1:-1},wc=function(e){return Mc(e)&&e.indexOf("%")===e.length-1},Xe=function(e){return jG(e)&&!sp(e)},_G=function(e){return rr(e)},Dn=function(e){return Xe(e)||Mc(e)},PG=0,op=function(e){var r=++PG;return"".concat(e||"").concat(r)},Dc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(e)&&!Mc(e))return n;var i;if(wc(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return sp(i)&&(i=n),a&&i>r&&(i=r),i},_l=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},CG=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},us=function(e,r){return Xe(e)&&Xe(r)?function(n){return e+n*(r-e)}:function(){return r}};function rg(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):zi(n,e))===r})}var EG=function(e,r){return Xe(e)&&Xe(r)?e-r:Mc(e)&&Mc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function zu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function lw(t){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lw(t)}var TG=["viewBox","children"],OG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],S4=["points","pathLength"],cy={svg:TG,polygon:S4,polyline:S4},cS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ng=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!Fd(n))return null;var a={};return Object.keys(n).forEach(function(i){cS.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},kG=function(e,r,n){return function(a){return e(r,n,a),null}},ag=function(e,r,n){if(!Fd(e)||lw(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];cS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=kG(s,r,n))}),a},LG=["children"],IG=["children"];function A4(t,e){if(t==null)return{};var r=RG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cw(t){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(t)}var j4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_4=null,uy=null,uS=function t(e){if(e===_4&&Array.isArray(uy))return uy;var r=[];return j.Children.forEach(e,function(n){rr(n)||(wG.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),uy=r,_4=e,r};function Ui(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Lo(a)}):n=[Lo(e)],uS(t).forEach(function(a){var i=zi(a,"type.displayName")||zi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function fi(t,e){var r=Ui(t,e);return r&&r[0]}var P4=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Xe(n)||n<=0||!Xe(a)||a<=0)},MG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],DG=function(e){return e&&e.type&&Mc(e.type)&&MG.indexOf(e.type)>=0},FG=function(e){return e&&cw(e)==="object"&&"clipDot"in e},BG=function(e,r,n,a){var i,s=(i=cy?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Jt(e)&&(a&&s.includes(r)||OG.includes(r))||n&&cS.includes(r)},ar=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(j.isValidElement(e)&&(a=e.props),!Fd(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;BG((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},uw=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return C4(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!C4(i,s))return!1}return!0},C4=function(e,r){if(rr(e)&&rr(r))return!0;if(!rr(e)&&!rr(r)){var n=e.props||{},a=n.children,i=A4(n,LG),s=r.props||{},o=s.children,l=A4(s,IG);return a&&o?zu(i,l)&&uw(a,o):!a&&!o?zu(i,l):!1}return!1},E4=function(e,r){var n=[],a={};return uS(e).forEach(function(i,s){if(DG(i))n.push(i);else if(i){var o=Lo(i.type),l=r[o]||{},c=l.handler,d=l.once;if(c&&(!d||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},$G=function(e){var r=e&&e.type;return r&&j4[r]?j4[r]:null},qG=function(e,r){return uS(r).indexOf(e)},zG=["children","width","height","viewBox","className","style","title","desc"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(this,arguments)}function UG(t,e){if(t==null)return{};var r=WG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fw(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,o=t.title,l=t.desc,c=UG(t,zG),d=a||{width:r,height:n,x:0,y:0},f=ir("recharts-surface",i);return ve.createElement("svg",dw({},ar(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ve.createElement("title",null,o),ve.createElement("desc",null,l),e)}var HG=["children","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function VG(t,e){if(t==null)return{};var r=GG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vn=ve.forwardRef(function(t,e){var r=t.children,n=t.className,a=VG(t,HG),i=ir("recharts-layer",n);return ve.createElement("g",hw({className:i},ar(a,!0),{ref:e}),r)}),Io=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},dy,T4;function KG(){if(T4)return dy;T4=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+r];return s}return dy=t,dy}var fy,O4;function YG(){if(O4)return fy;O4=1;var t=KG();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return fy=e,fy}var hy,k4;function E8(){if(k4)return hy;k4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+a+i+"]");function l(c){return o.test(c)}return hy=l,hy}var py,L4;function XG(){if(L4)return py;L4=1;function t(e){return e.split("")}return py=t,py}var my,I4;function ZG(){if(I4)return my;I4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",o="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=c+"?",m="["+i+"]?",g="(?:"+h+"(?:"+[d,f,p].join("|")+")"+m+v+")*",b=m+v+g,w="(?:"+[d+o+"?",o,f,p,s].join("|")+")",N=RegExp(l+"(?="+l+")|"+w+b,"g");function _(A){return A.match(N)||[]}return my=_,my}var gy,R4;function JG(){if(R4)return gy;R4=1;var t=XG(),e=E8(),r=ZG();function n(a){return e(a)?r(a):t(a)}return gy=n,gy}var vy,M4;function QG(){if(M4)return vy;M4=1;var t=YG(),e=E8(),r=JG(),n=j8();function a(i){return function(s){s=n(s);var o=e(s)?r(s):void 0,l=o?o[0]:s.charAt(0),c=o?t(o,1).join(""):s.slice(1);return l[i]()+c}}return vy=a,vy}var yy,D4;function eK(){if(D4)return yy;D4=1;var t=QG(),e=t("toUpperCase");return yy=e,yy}var tK=eK();const M0=mr(tK);function Fr(t){return function(){return t}}const T8=Math.cos,ig=Math.sin,js=Math.sqrt,sg=Math.PI,D0=2*sg,pw=Math.PI,mw=2*pw,vc=1e-6,rK=mw-vc;function O8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function nK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return O8;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class aK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?O8:nK(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-e,c=a-r,d=s-e,f=o-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>vc)if(!(Math.abs(f*l-c*d)>vc)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,v=a-o,m=l*l+c*c,g=h*h+v*v,b=Math.sqrt(m),w=Math.sqrt(p),N=i*Math.tan((pw-Math.acos((m+p-g)/(2*b*w)))/2),_=N/w,A=N/b;Math.abs(_-1)>vc&&this._append`L${e+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*v)},${this._x1=e+A*l},${this._y1=r+A*c}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=e+o,d=r+l,f=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>vc||Math.abs(this._y1-d)>vc)&&this._append`L${c},${d}`,n&&(p<0&&(p=p%mw+mw),p>rK?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:p>vc&&this._append`A${n},${n},0,${+(p>=pw)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function dS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new aK(e)}function fS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k8(t){this._context=t}k8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function F0(t){return new k8(t)}function L8(t){return t[0]}function I8(t){return t[1]}function R8(t,e){var r=Fr(!0),n=null,a=F0,i=null,s=dS(o);t=typeof t=="function"?t:t===void 0?L8:Fr(t),e=typeof e=="function"?e:e===void 0?I8:Fr(e);function o(l){var c,d=(l=fS(l)).length,f,p=!1,h;for(n==null&&(i=a(h=s())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,c,l),+e(f,c,l));if(h)return i=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Fr(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function Xp(t,e,r){var n=null,a=Fr(!0),i=null,s=F0,o=null,l=dS(c);t=typeof t=="function"?t:t===void 0?L8:Fr(+t),e=typeof e=="function"?e:Fr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?I8:Fr(+r);function c(f){var p,h,v,m=(f=fS(f)).length,g,b=!1,w,N=new Array(m),_=new Array(m);for(i==null&&(o=s(w=l())),p=0;p<=m;++p){if(!(p<m&&a(g=f[p],p,f))===b)if(b=!b)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=h;--v)o.point(N[v],_[v]);o.lineEnd(),o.areaEnd()}b&&(N[p]=+t(g,p,f),_[p]=+e(g,p,f),o.point(n?+n(g,p,f):N[p],r?+r(g,p,f):_[p]))}if(w)return o=null,w+""||null}function d(){return R8().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Fr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Fr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Fr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Fr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fr(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Fr(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class M8{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function iK(t){return new M8(t,!0)}function sK(t){return new M8(t,!1)}const hS={draw(t,e){const r=js(e/sg);t.moveTo(r,0),t.arc(0,0,r,0,D0)}},oK={draw(t,e){const r=js(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},D8=js(1/3),lK=D8*2,cK={draw(t,e){const r=js(e/lK),n=r*D8;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},uK={draw(t,e){const r=js(e),n=-r/2;t.rect(n,n,r,r)}},dK=.8908130915292852,F8=ig(sg/10)/ig(7*sg/10),fK=ig(D0/10)*F8,hK=-T8(D0/10)*F8,pK={draw(t,e){const r=js(e*dK),n=fK*r,a=hK*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=D0*i/5,o=T8(s),l=ig(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*a,l*n+o*a)}t.closePath()}},by=js(3),mK={draw(t,e){const r=-js(e/(by*3));t.moveTo(0,r*2),t.lineTo(-by*r,-r),t.lineTo(by*r,-r),t.closePath()}},Oi=-.5,ki=js(3)/2,gw=1/js(12),gK=(gw/2+1)*3,vK={draw(t,e){const r=js(e/gK),n=r/2,a=r*gw,i=n,s=r*gw+r,o=-i,l=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(o,l),t.lineTo(Oi*n-ki*a,ki*n+Oi*a),t.lineTo(Oi*i-ki*s,ki*i+Oi*s),t.lineTo(Oi*o-ki*l,ki*o+Oi*l),t.lineTo(Oi*n+ki*a,Oi*a-ki*n),t.lineTo(Oi*i+ki*s,Oi*s-ki*i),t.lineTo(Oi*o+ki*l,Oi*l-ki*o),t.closePath()}};function yK(t,e){let r=null,n=dS(a);t=typeof t=="function"?t:Fr(t||hS),e=typeof e=="function"?e:Fr(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Fr(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Fr(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function og(){}function lg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function B8(t){this._context=t}B8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bK(t){return new B8(t)}function $8(t){this._context=t}$8.prototype={areaStart:og,areaEnd:og,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xK(t){return new $8(t)}function q8(t){this._context=t}q8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wK(t){return new q8(t)}function z8(t){this._context=t}z8.prototype={areaStart:og,areaEnd:og,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function NK(t){return new z8(t)}function F4(t){return t<0?-1:1}function B4(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(F4(i)+F4(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function $4(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function xy(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*e,i-o,s-o*r,i,s)}function cg(t){this._context=t}cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xy(this,this._t0,$4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xy(this,$4(this,r=B4(this,t,e)),r);break;default:xy(this,this._t0,r=B4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function U8(t){this._context=new W8(t)}(U8.prototype=Object.create(cg.prototype)).point=function(t,e){cg.prototype.point.call(this,e,t)};function W8(t){this._context=t}W8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function SK(t){return new cg(t)}function AK(t){return new U8(t)}function H8(t){this._context=t}H8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=q4(t),a=q4(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function q4(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function jK(t){return new H8(t)}function B0(t,e){this._context=t,this._t=e}B0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function _K(t){return new B0(t,.5)}function PK(t){return new B0(t,0)}function CK(t){return new B0(t,1)}function nd(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function EK(t,e){return t[e]}function TK(t){const e=[];return e.key=t,e}function OK(){var t=Fr([]),e=vw,r=nd,n=EK;function a(i){var s=Array.from(t.apply(this,arguments),TK),o,l=s.length,c=-1,d;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,d=fS(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Fr(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Fr(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?vw:typeof i=="function"?i:Fr(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??nd,a):r},a}function kK(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}nd(t,e)}}function LK(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}nd(t,e)}}function IK(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,v=0;v<o;++v){var m=t[e[v]],g=m[n][1]||0,b=m[n-1][1]||0;h+=g-b}l+=f,c+=h*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,nd(t,e)}}function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}var RK=["type","size","sizeType"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yw.apply(this,arguments)}function z4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(r),!0).forEach(function(n){MK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MK(t,e,r){return e=DK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DK(t){var e=FK(t,"string");return th(e)=="symbol"?e:e+""}function FK(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BK(t,e){if(t==null)return{};var r=$K(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $K(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var V8={symbolCircle:hS,symbolCross:oK,symbolDiamond:cK,symbolSquare:uK,symbolStar:pK,symbolTriangle:mK,symbolWye:vK},qK=Math.PI/180,zK=function(e){var r="symbol".concat(M0(e));return V8[r]||hS},UK=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*qK;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},WK=function(e,r){V8["symbol".concat(M0(e))]=r},pS=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,o=s===void 0?"area":s,l=BK(e,RK),c=U4(U4({},l),{},{type:n,size:i,sizeType:o}),d=function(){var g=zK(n),b=yK().type(g).size(UK(i,o,n));return b()},f=c.className,p=c.cx,h=c.cy,v=ar(c,!0);return p===+p&&h===+h&&i===+i?ve.createElement("path",yw({},v,{className:ir("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};pS.registerSymbol=WK;function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(this,arguments)}function W4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(r),!0).forEach(function(n){rh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K8(n.key),n)}}function KK(t,e,r){return e&&GK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YK(t,e,r){return e=ug(e),XK(t,G8()?Reflect.construct(e,r||[],ug(t).constructor):e.apply(t,r))}function XK(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZK(t)}function ZK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G8=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}function JK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xw(t,e)}function rh(t,e,r){return e=K8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K8(t){var e=QK(t,"string");return ad(e)=="symbol"?e:e+""}function QK(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Li=32,mS=(function(t){function e(){return VK(this,e),YK(this,e,arguments)}return JK(e,t),KK(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Li/2,s=Li/6,o=Li/3,l=n.inactive?a:n.color;if(n.type==="plainline")return ve.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Li,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ve.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Li,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ve.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Li/8,"h").concat(Li,"v").concat(Li*3/4,"h").concat(-Li,"z"),className:"recharts-legend-icon"});if(ve.isValidElement(n.legendIcon)){var c=HK({},n);return delete c.legendIcon,ve.cloneElement(n.legendIcon,c)}return ve.createElement(pS,{fill:l,cx:i,cy:i,size:Li,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,d={x:0,y:0,width:Li,height:Li},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,v){var m=h.formatter||l,g=ir(rh(rh({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=Jt(h.value)?null:h.value;Io(!Jt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?c:h.color;return ve.createElement("li",bw({className:g,style:f,key:"legend-item-".concat(v)},ag(n.props,h,v)),ve.createElement(fw,{width:s,height:s,viewBox:d,style:p},n.renderIcon(h)),ve.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(b,h,v):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return ve.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(j.PureComponent);rh(mS,"displayName","Legend");rh(mS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wy,H4;function eY(){if(H4)return wy;H4=1;var t=L0();function e(){this.__data__=new t,this.size=0}return wy=e,wy}var Ny,V4;function tY(){if(V4)return Ny;V4=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Ny=t,Ny}var Sy,G4;function rY(){if(G4)return Sy;G4=1;function t(e){return this.__data__.get(e)}return Sy=t,Sy}var Ay,K4;function nY(){if(K4)return Ay;K4=1;function t(e){return this.__data__.has(e)}return Ay=t,Ay}var jy,Y4;function aY(){if(Y4)return jy;Y4=1;var t=L0(),e=iS(),r=sS(),n=200;function a(i,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<n-1)return l.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(i,s),this.size=o.size,this}return jy=a,jy}var _y,X4;function Y8(){if(X4)return _y;X4=1;var t=L0(),e=eY(),r=tY(),n=rY(),a=nY(),i=aY();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,_y=s,_y}var Py,Z4;function iY(){if(Z4)return Py;Z4=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Py=e,Py}var Cy,J4;function sY(){if(J4)return Cy;J4=1;function t(e){return this.__data__.has(e)}return Cy=t,Cy}var Ey,Q4;function X8(){if(Q4)return Ey;Q4=1;var t=sS(),e=iY(),r=sY();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Ey=n,Ey}var Ty,e_;function Z8(){if(e_)return Ty;e_=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Ty=t,Ty}var Oy,t_;function J8(){if(t_)return Oy;t_=1;function t(e,r){return e.has(r)}return Oy=t,Oy}var ky,r_;function Q8(){if(r_)return ky;r_=1;var t=X8(),e=Z8(),r=J8(),n=1,a=2;function i(s,o,l,c,d,f){var p=l&n,h=s.length,v=o.length;if(h!=v&&!(p&&v>h))return!1;var m=f.get(s),g=f.get(o);if(m&&g)return m==o&&g==s;var b=-1,w=!0,N=l&a?new t:void 0;for(f.set(s,o),f.set(o,s);++b<h;){var _=s[b],A=o[b];if(c)var C=p?c(A,_,b,o,s,f):c(_,A,b,s,o,f);if(C!==void 0){if(C)continue;w=!1;break}if(N){if(!e(o,function(E,R){if(!r(N,R)&&(_===E||d(_,E,l,c,f)))return N.push(R)})){w=!1;break}}else if(!(_===A||d(_,A,l,c,f))){w=!1;break}}return f.delete(s),f.delete(o),w}return ky=i,ky}var Ly,n_;function oY(){if(n_)return Ly;n_=1;var t=no(),e=t.Uint8Array;return Ly=e,Ly}var Iy,a_;function lY(){if(a_)return Iy;a_=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Iy=t,Iy}var Ry,i_;function gS(){if(i_)return Ry;i_=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Ry=t,Ry}var My,s_;function cY(){if(s_)return My;s_=1;var t=ip(),e=oY(),r=aS(),n=Q8(),a=lY(),i=gS(),s=1,o=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",v="[object Set]",m="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",N=t?t.prototype:void 0,_=N?N.valueOf:void 0;function A(C,E,R,L,U,S,O){switch(R){case w:if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case b:return!(C.byteLength!=E.byteLength||!S(new e(C),new e(E)));case l:case c:case p:return r(+C,+E);case d:return C.name==E.name&&C.message==E.message;case h:case m:return C==E+"";case f:var k=a;case v:var M=L&s;if(k||(k=i),C.size!=E.size&&!M)return!1;var $=O.get(C);if($)return $==E;L|=o,O.set(C,E);var F=n(k(C),k(E),L,U,S,O);return O.delete(C),F;case g:if(_)return _.call(C)==_.call(E)}return!1}return My=A,My}var Dy,o_;function eR(){if(o_)return Dy;o_=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Dy=t,Dy}var Fy,l_;function uY(){if(l_)return Fy;l_=1;var t=eR(),e=Va();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return Fy=r,Fy}var By,c_;function dY(){if(c_)return By;c_=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var o=e[n];r(o,n,e)&&(s[i++]=o)}return s}return By=t,By}var $y,u_;function fY(){if(u_)return $y;u_=1;function t(){return[]}return $y=t,$y}var qy,d_;function hY(){if(d_)return qy;d_=1;var t=dY(),e=fY(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(o){return n.call(s,o)}))}:e;return qy=i,qy}var zy,f_;function pY(){if(f_)return zy;f_=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return zy=t,zy}var Uy,h_;function mY(){if(h_)return Uy;h_=1;var t=Ko(),e=Yo(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Uy=n,Uy}var Wy,p_;function vS(){if(p_)return Wy;p_=1;var t=mY(),e=Yo(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return Wy=i,Wy}var Of={exports:{}},Hy,m_;function gY(){if(m_)return Hy;m_=1;function t(){return!1}return Hy=t,Hy}Of.exports;var g_;function tR(){return g_||(g_=1,(function(t,e){var r=no(),n=gY(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(Of,Of.exports)),Of.exports}var Vy,v_;function yS(){if(v_)return Vy;v_=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Vy=r,Vy}var Gy,y_;function bS(){if(y_)return Gy;y_=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Gy=e,Gy}var Ky,b_;function vY(){if(b_)return Ky;b_=1;var t=Ko(),e=bS(),r=Yo(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",v="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",N="[object Float64Array]",_="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",R="[object Uint8ClampedArray]",L="[object Uint16Array]",U="[object Uint32Array]",S={};S[w]=S[N]=S[_]=S[A]=S[C]=S[E]=S[R]=S[L]=S[U]=!0,S[n]=S[a]=S[g]=S[i]=S[b]=S[s]=S[o]=S[l]=S[c]=S[d]=S[f]=S[p]=S[h]=S[v]=S[m]=!1;function O(k){return r(k)&&e(k.length)&&!!S[t(k)]}return Ky=O,Ky}var Yy,x_;function rR(){if(x_)return Yy;x_=1;function t(e){return function(r){return e(r)}}return Yy=t,Yy}var kf={exports:{}};kf.exports;var w_;function yY(){return w_||(w_=1,(function(t,e){var r=N8(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=(function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(kf,kf.exports)),kf.exports}var Xy,N_;function nR(){if(N_)return Xy;N_=1;var t=vY(),e=rR(),r=yY(),n=r&&r.isTypedArray,a=n?e(n):t;return Xy=a,Xy}var Zy,S_;function bY(){if(S_)return Zy;S_=1;var t=pY(),e=vS(),r=Va(),n=tR(),a=yS(),i=nR(),s=Object.prototype,o=s.hasOwnProperty;function l(c,d){var f=r(c),p=!f&&e(c),h=!f&&!p&&n(c),v=!f&&!p&&!h&&i(c),m=f||p||h||v,g=m?t(c.length,String):[],b=g.length;for(var w in c)(d||o.call(c,w))&&!(m&&(w=="length"||h&&(w=="offset"||w=="parent")||v&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,b)))&&g.push(w);return g}return Zy=l,Zy}var Jy,A_;function xY(){if(A_)return Jy;A_=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Jy=e,Jy}var Qy,j_;function aR(){if(j_)return Qy;j_=1;function t(e,r){return function(n){return e(r(n))}}return Qy=t,Qy}var eb,__;function wY(){if(__)return eb;__=1;var t=aR(),e=t(Object.keys,Object);return eb=e,eb}var tb,P_;function NY(){if(P_)return tb;P_=1;var t=xY(),e=wY(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return tb=a,tb}var rb,C_;function lp(){if(C_)return rb;C_=1;var t=nS(),e=bS();function r(n){return n!=null&&e(n.length)&&!t(n)}return rb=r,rb}var nb,E_;function $0(){if(E_)return nb;E_=1;var t=bY(),e=NY(),r=lp();function n(a){return r(a)?t(a):e(a)}return nb=n,nb}var ab,T_;function SY(){if(T_)return ab;T_=1;var t=uY(),e=hY(),r=$0();function n(a){return t(a,r,e)}return ab=n,ab}var ib,O_;function AY(){if(O_)return ib;O_=1;var t=SY(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o,l,c,d){var f=o&e,p=t(i),h=p.length,v=t(s),m=v.length;if(h!=m&&!f)return!1;for(var g=h;g--;){var b=p[g];if(!(f?b in s:n.call(s,b)))return!1}var w=d.get(i),N=d.get(s);if(w&&N)return w==s&&N==i;var _=!0;d.set(i,s),d.set(s,i);for(var A=f;++g<h;){b=p[g];var C=i[b],E=s[b];if(l)var R=f?l(E,C,b,s,i,d):l(C,E,b,i,s,d);if(!(R===void 0?C===E||c(C,E,o,l,d):R)){_=!1;break}A||(A=b=="constructor")}if(_&&!A){var L=i.constructor,U=s.constructor;L!=U&&"constructor"in i&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof U=="function"&&U instanceof U)&&(_=!1)}return d.delete(i),d.delete(s),_}return ib=a,ib}var sb,k_;function jY(){if(k_)return sb;k_=1;var t=Zc(),e=no(),r=t(e,"DataView");return sb=r,sb}var ob,L_;function _Y(){if(L_)return ob;L_=1;var t=Zc(),e=no(),r=t(e,"Promise");return ob=r,ob}var lb,I_;function iR(){if(I_)return lb;I_=1;var t=Zc(),e=no(),r=t(e,"Set");return lb=r,lb}var cb,R_;function PY(){if(R_)return cb;R_=1;var t=Zc(),e=no(),r=t(e,"WeakMap");return cb=r,cb}var ub,M_;function CY(){if(M_)return ub;M_=1;var t=jY(),e=iS(),r=_Y(),n=iR(),a=PY(),i=Ko(),s=S8(),o="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=s(t),v=s(e),m=s(r),g=s(n),b=s(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=p||e&&w(new e)!=o||r&&w(r.resolve())!=c||n&&w(new n)!=d||a&&w(new a)!=f)&&(w=function(N){var _=i(N),A=_==l?N.constructor:void 0,C=A?s(A):"";if(C)switch(C){case h:return p;case v:return o;case m:return c;case g:return d;case b:return f}return _}),ub=w,ub}var db,D_;function EY(){if(D_)return db;D_=1;var t=Y8(),e=Q8(),r=cY(),n=AY(),a=CY(),i=Va(),s=tR(),o=nR(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function v(m,g,b,w,N,_){var A=i(m),C=i(g),E=A?d:a(m),R=C?d:a(g);E=E==c?f:E,R=R==c?f:R;var L=E==f,U=R==f,S=E==R;if(S&&s(m)){if(!s(g))return!1;A=!0,L=!1}if(S&&!L)return _||(_=new t),A||o(m)?e(m,g,b,w,N,_):r(m,g,E,b,w,N,_);if(!(b&l)){var O=L&&h.call(m,"__wrapped__"),k=U&&h.call(g,"__wrapped__");if(O||k){var M=O?m.value():m,$=k?g.value():g;return _||(_=new t),N(M,$,b,w,_)}}return S?(_||(_=new t),n(m,g,b,w,N,_)):!1}return db=v,db}var fb,F_;function xS(){if(F_)return fb;F_=1;var t=EY(),e=Yo();function r(n,a,i,s,o){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,o)}return fb=r,fb}var hb,B_;function TY(){if(B_)return hb;B_=1;var t=Y8(),e=xS(),r=1,n=2;function a(i,s,o,l){var c=o.length,d=c,f=!l;if(i==null)return!d;for(i=Object(i);c--;){var p=o[c];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++c<d;){p=o[c];var h=p[0],v=i[h],m=p[1];if(f&&p[2]){if(v===void 0&&!(h in i))return!1}else{var g=new t;if(l)var b=l(v,m,h,i,s,g);if(!(b===void 0?e(m,v,r|n,l,g):b))return!1}}return!0}return hb=a,hb}var pb,$_;function sR(){if($_)return pb;$_=1;var t=Wl();function e(r){return r===r&&!t(r)}return pb=e,pb}var mb,q_;function OY(){if(q_)return mb;q_=1;var t=sR(),e=$0();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],o=n[s];a[i]=[s,o,t(o)]}return a}return mb=r,mb}var gb,z_;function oR(){if(z_)return gb;z_=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return gb=t,gb}var vb,U_;function kY(){if(U_)return vb;U_=1;var t=TY(),e=OY(),r=oR();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return vb=n,vb}var yb,W_;function LY(){if(W_)return yb;W_=1;function t(e,r){return e!=null&&r in Object(e)}return yb=t,yb}var bb,H_;function IY(){if(H_)return bb;H_=1;var t=_8(),e=vS(),r=Va(),n=yS(),a=bS(),i=R0();function s(o,l,c){l=t(l,o);for(var d=-1,f=l.length,p=!1;++d<f;){var h=i(l[d]);if(!(p=o!=null&&c(o,h)))break;o=o[h]}return p||++d!=f?p:(f=o==null?0:o.length,!!f&&a(f)&&n(h,f)&&(r(o)||e(o)))}return bb=s,bb}var xb,V_;function RY(){if(V_)return xb;V_=1;var t=LY(),e=IY();function r(n,a){return n!=null&&e(n,a,t)}return xb=r,xb}var wb,G_;function MY(){if(G_)return wb;G_=1;var t=xS(),e=P8(),r=RY(),n=rS(),a=sR(),i=oR(),s=R0(),o=1,l=2;function c(d,f){return n(d)&&a(f)?i(s(d),f):function(p){var h=e(p,d);return h===void 0&&h===f?r(p,d):t(f,h,o|l)}}return wb=c,wb}var Nb,K_;function Bd(){if(K_)return Nb;K_=1;function t(e){return e}return Nb=t,Nb}var Sb,Y_;function DY(){if(Y_)return Sb;Y_=1;function t(e){return function(r){return r?.[e]}}return Sb=t,Sb}var Ab,X_;function FY(){if(X_)return Ab;X_=1;var t=lS();function e(r){return function(n){return t(n,r)}}return Ab=e,Ab}var jb,Z_;function BY(){if(Z_)return jb;Z_=1;var t=DY(),e=FY(),r=rS(),n=R0();function a(i){return r(i)?t(n(i)):e(i)}return jb=a,jb}var _b,J_;function Hl(){if(J_)return _b;J_=1;var t=kY(),e=MY(),r=Bd(),n=Va(),a=BY();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return _b=i,_b}var Pb,Q_;function lR(){if(Q_)return Pb;Q_=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return Pb=t,Pb}var Cb,eP;function $Y(){if(eP)return Cb;eP=1;function t(e){return e!==e}return Cb=t,Cb}var Eb,tP;function qY(){if(tP)return Eb;tP=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return Eb=t,Eb}var Tb,rP;function zY(){if(rP)return Tb;rP=1;var t=lR(),e=$Y(),r=qY();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return Tb=n,Tb}var Ob,nP;function UY(){if(nP)return Ob;nP=1;var t=zY();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Ob=e,Ob}var kb,aP;function WY(){if(aP)return kb;aP=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return kb=t,kb}var Lb,iP;function HY(){if(iP)return Lb;iP=1;function t(){}return Lb=t,Lb}var Ib,sP;function VY(){if(sP)return Ib;sP=1;var t=iR(),e=HY(),r=gS(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Ib=a,Ib}var Rb,oP;function GY(){if(oP)return Rb;oP=1;var t=X8(),e=UY(),r=WY(),n=J8(),a=VY(),i=gS(),s=200;function o(l,c,d){var f=-1,p=e,h=l.length,v=!0,m=[],g=m;if(d)v=!1,p=r;else if(h>=s){var b=c?null:a(l);if(b)return i(b);v=!1,p=n,g=new t}else g=c?[]:m;e:for(;++f<h;){var w=l[f],N=c?c(w):w;if(w=d||w!==0?w:0,v&&N===N){for(var _=g.length;_--;)if(g[_]===N)continue e;c&&g.push(N),m.push(w)}else p(g,N,d)||(g!==m&&g.push(N),m.push(w))}return m}return Rb=o,Rb}var Mb,lP;function KY(){if(lP)return Mb;lP=1;var t=Hl(),e=GY();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Mb=r,Mb}var YY=KY();const cP=mr(YY);function cR(t,e,r){return e===!0?cP(t,r):Jt(e)?cP(t,e):t}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}var XY=["ref"];function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){q0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dR(n.key),n)}}function JY(t,e,r){return e&&dP(t.prototype,e),r&&dP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QY(t,e,r){return e=dg(e),eX(t,uR()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function eX(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tX(t)}function tX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function rX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ww(t,e)}function q0(t,e,r){return e=dR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dR(t){var e=nX(t,"string");return id(e)=="symbol"?e:e+""}function nX(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aX(t,e){if(t==null)return{};var r=iX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sX(t){return t.value}function oX(t,e){if(ve.isValidElement(t))return ve.cloneElement(t,e);if(typeof t=="function")return ve.createElement(t,e);e.ref;var r=aX(e,XY);return ve.createElement(mS,r)}var fP=1,Vs=(function(t){function e(){var r;ZY(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=QY(this,e,[].concat(a)),q0(r,"lastBoundingBox",{width:-1,height:-1}),r}return rX(e,t),JY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>fP||Math.abs(a.height-this.lastBoundingBox.height)>fP)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return wo(wo({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,d=a.payload,f=wo(wo({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ve.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},oX(i,wo(wo({},this.props),{},{payload:cR(d,c,sX)})))}}],[{key:"getWithHeight",value:function(n,a){var i=wo(wo({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Xe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(j.PureComponent);q0(Vs,"displayName","Legend");q0(Vs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Db,hP;function lX(){if(hP)return Db;hP=1;var t=ip(),e=vS(),r=Va(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return Db=a,Db}var Fb,pP;function fR(){if(pP)return Fb;pP=1;var t=eR(),e=lX();function r(n,a,i,s,o){var l=-1,c=n.length;for(i||(i=e),o||(o=[]);++l<c;){var d=n[l];a>0&&i(d)?a>1?r(d,a-1,i,s,o):t(o,d):s||(o[o.length]=d)}return o}return Fb=r,Fb}var Bb,mP;function cX(){if(mP)return Bb;mP=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),o=a(r),l=o.length;l--;){var c=o[e?l:++i];if(n(s[c],c,s)===!1)break}return r}}return Bb=t,Bb}var $b,gP;function uX(){if(gP)return $b;gP=1;var t=cX(),e=t();return $b=e,$b}var qb,vP;function hR(){if(vP)return qb;vP=1;var t=uX(),e=$0();function r(n,a){return n&&t(n,a,e)}return qb=r,qb}var zb,yP;function dX(){if(yP)return zb;yP=1;var t=lp();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,o=n?s:-1,l=Object(a);(n?o--:++o<s)&&i(l[o],o,l)!==!1;);return a}}return zb=e,zb}var Ub,bP;function wS(){if(bP)return Ub;bP=1;var t=hR(),e=dX(),r=e(t);return Ub=r,Ub}var Wb,xP;function pR(){if(xP)return Wb;xP=1;var t=wS(),e=lp();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(o,l,c){s[++i]=a(o,l,c)}),s}return Wb=r,Wb}var Hb,wP;function fX(){if(wP)return Hb;wP=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Hb=t,Hb}var Vb,NP;function hX(){if(NP)return Vb;NP=1;var t=Dd();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,o=t(r),l=n!==void 0,c=n===null,d=n===n,f=t(n);if(!c&&!f&&!o&&r>n||o&&l&&d&&!c&&!f||i&&l&&d||!a&&d||!s)return 1;if(!i&&!o&&!f&&r<n||f&&a&&s&&!i&&!o||c&&a&&s||!l&&s||!d)return-1}return 0}return Vb=e,Vb}var Gb,SP;function pX(){if(SP)return Gb;SP=1;var t=hX();function e(r,n,a){for(var i=-1,s=r.criteria,o=n.criteria,l=s.length,c=a.length;++i<l;){var d=t(s[i],o[i]);if(d){if(i>=c)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return Gb=e,Gb}var Kb,AP;function mX(){if(AP)return Kb;AP=1;var t=oS(),e=lS(),r=Hl(),n=pR(),a=fX(),i=rR(),s=pX(),o=Bd(),l=Va();function c(d,f,p){f.length?f=t(f,function(m){return l(m)?function(g){return e(g,m.length===1?m[0]:m)}:m}):f=[o];var h=-1;f=t(f,i(r));var v=n(d,function(m,g,b){var w=t(f,function(N){return N(m)});return{criteria:w,index:++h,value:m}});return a(v,function(m,g){return s(m,g,p)})}return Kb=c,Kb}var Yb,jP;function gX(){if(jP)return Yb;jP=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Yb=t,Yb}var Xb,_P;function vX(){if(_P)return Xb;_P=1;var t=gX(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,o=-1,l=e(s.length-a,0),c=Array(l);++o<l;)c[o]=s[a+o];o=-1;for(var d=Array(a+1);++o<a;)d[o]=s[o];return d[a]=i(c),t(n,this,d)}}return Xb=r,Xb}var Zb,PP;function yX(){if(PP)return Zb;PP=1;function t(e){return function(){return e}}return Zb=t,Zb}var Jb,CP;function mR(){if(CP)return Jb;CP=1;var t=Zc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Jb=e,Jb}var Qb,EP;function bX(){if(EP)return Qb;EP=1;var t=yX(),e=mR(),r=Bd(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Qb=n,Qb}var ex,TP;function xX(){if(TP)return ex;TP=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var o=r(),l=e-(o-s);if(s=o,l>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return ex=n,ex}var tx,OP;function wX(){if(OP)return tx;OP=1;var t=bX(),e=xX(),r=e(t);return tx=r,tx}var rx,kP;function NX(){if(kP)return rx;kP=1;var t=Bd(),e=vX(),r=wX();function n(a,i){return r(e(a,i,t),a+"")}return rx=n,rx}var nx,LP;function z0(){if(LP)return nx;LP=1;var t=aS(),e=lp(),r=yS(),n=Wl();function a(i,s,o){if(!n(o))return!1;var l=typeof s;return(l=="number"?e(o)&&r(s,o.length):l=="string"&&s in o)?t(o[s],i):!1}return nx=a,nx}var ax,IP;function SX(){if(IP)return ax;IP=1;var t=fR(),e=mX(),r=NX(),n=z0(),a=r(function(i,s){if(i==null)return[];var o=s.length;return o>1&&n(i,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return ax=a,ax}var AX=SX();const NS=mr(AX);function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nw.apply(this,arguments)}function jX(t,e){return EX(t)||CX(t,e)||PX(t,e)||_X()}function _X(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PX(t,e){if(t){if(typeof t=="string")return RP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RP(t,e)}}function RP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function EX(t){if(Array.isArray(t))return t}function MP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ix(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(r),!0).forEach(function(n){TX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TX(t,e,r){return e=OX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OX(t){var e=kX(t,"string");return nh(e)=="symbol"?e:e+""}function kX(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LX(t){return Array.isArray(t)&&Dn(t[0])&&Dn(t[1])?t.join(" ~ "):t}var IX=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,v=e.labelClassName,m=e.label,g=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,N=function(){if(d&&d.length){var O={padding:0,margin:0},k=(p?NS(d,p):d).map(function(M,$){if(M.type==="none")return null;var F=ix({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),z=M.formatter||f||LX,W=M.value,q=M.name,ee=W,de=q;if(z&&ee!=null&&de!=null){var B=z(W,q,M,$,d);if(Array.isArray(B)){var G=jX(B,2);ee=G[0],de=G[1]}else ee=B}return ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:F},Dn(de)?ve.createElement("span",{className:"recharts-tooltip-item-name"},de):null,Dn(de)?ve.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ve.createElement("span",{className:"recharts-tooltip-item-value"},ee),ve.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return ve.createElement("ul",{className:"recharts-tooltip-item-list",style:O},k)}return null},_=ix({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),A=ix({margin:0},c),C=!rr(m),E=C?m:"",R=ir("recharts-default-tooltip",h),L=ir("recharts-tooltip-label",v);C&&g&&d!==void 0&&d!==null&&(E=g(m,d));var U=w?{role:"status","aria-live":"assertive"}:{};return ve.createElement("div",Nw({className:R,style:_},U),ve.createElement("p",{className:L,style:A},ve.isValidElement(E)?E:"".concat(E)),N())};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Zp(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=MX(t,"string");return ah(e)=="symbol"?e:e+""}function MX(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vf="recharts-tooltip-wrapper",DX={visibility:"hidden"};function FX(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ir(vf,Zp(Zp(Zp(Zp({},"".concat(vf,"-right"),Xe(r)&&e&&Xe(e.x)&&r>=e.x),"".concat(vf,"-left"),Xe(r)&&e&&Xe(e.x)&&r<e.x),"".concat(vf,"-bottom"),Xe(n)&&e&&Xe(e.y)&&n>=e.y),"".concat(vf,"-top"),Xe(n)&&e&&Xe(e.y)&&n<e.y))}function DP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(i&&Xe(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(e[n])return s[n]?d:f;if(s[n]){var p=d,h=l[n];return p<h?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+o,m=l[n]+c;return v>m?Math.max(d,l[n]):Math.max(f,l[n])}function BX(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function $X(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&r?(d=DP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=DP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=BX({translateX:d,translateY:f,useTranslate3d:o})):c=DX,{cssProperties:c,cssClasses:FX({translateX:d,translateY:f,coordinate:r})}}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function FP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(r),!0).forEach(function(n){Aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vR(n.key),n)}}function UX(t,e,r){return e&&zX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WX(t,e,r){return e=fg(e),HX(t,gR()?Reflect.construct(e,r||[],fg(t).constructor):e.apply(t,r))}function HX(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VX(t)}function VX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(t)}function GX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sw(t,e)}function Aw(t,e,r){return e=vR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vR(t){var e=KX(t,"string");return sd(e)=="symbol"?e:e+""}function KX(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $P=1,YX=(function(t){function e(){var r;qX(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WX(this,e,[].concat(a)),Aw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Aw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return GX(e,t),UX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>$P||Math.abs(n.height-this.state.lastBoundingBox.height)>$P)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,v=a.position,m=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,N=$X({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:h,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),_=N.cssClasses,A=N.cssProperties,C=BP(BP({transition:p&&i?"transform ".concat(o,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return ve.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(R){n.wrapperNode=R}},c)}}])})(j.PureComponent),XX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$d={isSsr:XX()};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){SS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bR(n.key),n)}}function QX(t,e,r){return e&&JX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eZ(t,e,r){return e=hg(e),tZ(t,yR()?Reflect.construct(e,r||[],hg(t).constructor):e.apply(t,r))}function tZ(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rZ(t)}function rZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yR=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(t)}function nZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jw(t,e)}function SS(t,e,r){return e=bR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bR(t){var e=aZ(t,"string");return od(e)=="symbol"?e:e+""}function aZ(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iZ(t){return t.dataKey}function sZ(t,e){return ve.isValidElement(t)?ve.cloneElement(t,e):typeof t=="function"?ve.createElement(t,e):ve.createElement(IX,e)}var hi=(function(t){function e(){return ZX(this,e),eZ(this,e,arguments)}return nZ(e,t),QX(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,v=a.payload,m=a.payloadUniqBy,g=a.position,b=a.reverseDirection,w=a.useTranslate3d,N=a.viewBox,_=a.wrapperStyle,A=v??[];f&&A.length&&(A=cR(v.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,iZ));var C=A.length>0;return ve.createElement(YX,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:i,coordinate:d,hasPayload:C,offset:h,position:g,reverseDirection:b,useTranslate3d:w,viewBox:N,wrapperStyle:_},sZ(c,zP(zP({},this.props),{},{payload:A})))}}])})(j.PureComponent);SS(hi,"displayName","Tooltip");SS(hi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$d.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var sx,UP;function oZ(){if(UP)return sx;UP=1;var t=no(),e=function(){return t.Date.now()};return sx=e,sx}var ox,WP;function lZ(){if(WP)return ox;WP=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ox=e,ox}var lx,HP;function cZ(){if(HP)return lx;HP=1;var t=lZ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return lx=r,lx}var cx,VP;function xR(){if(VP)return cx;VP=1;var t=cZ(),e=Wl(),r=Dd(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=i.test(c);return f||s.test(c)?o(c.slice(2),f?2:8):a.test(c)?n:+c}return cx=l,cx}var ux,GP;function uZ(){if(GP)return ux;GP=1;var t=Wl(),e=oZ(),r=xR(),n="Expected a function",a=Math.max,i=Math.min;function s(o,l,c){var d,f,p,h,v,m,g=0,b=!1,w=!1,N=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,t(c)&&(b=!!c.leading,w="maxWait"in c,p=w?a(r(c.maxWait)||0,l):p,N="trailing"in c?!!c.trailing:N);function _(k){var M=d,$=f;return d=f=void 0,g=k,h=o.apply($,M),h}function A(k){return g=k,v=setTimeout(R,l),b?_(k):h}function C(k){var M=k-m,$=k-g,F=l-M;return w?i(F,p-$):F}function E(k){var M=k-m,$=k-g;return m===void 0||M>=l||M<0||w&&$>=p}function R(){var k=e();if(E(k))return L(k);v=setTimeout(R,C(k))}function L(k){return v=void 0,N&&d?_(k):(d=f=void 0,h)}function U(){v!==void 0&&clearTimeout(v),g=0,d=m=f=v=void 0}function S(){return v===void 0?h:L(e())}function O(){var k=e(),M=E(k);if(d=arguments,f=this,m=k,M){if(v===void 0)return A(m);if(w)return clearTimeout(v),v=setTimeout(R,l),_(m)}return v===void 0&&(v=setTimeout(R,l)),h}return O.cancel=U,O.flush=S,O}return ux=s,ux}var dx,KP;function dZ(){if(KP)return dx;KP=1;var t=uZ(),e=Wl(),r="Expected a function";function n(a,i,s){var o=!0,l=!0;if(typeof a!="function")throw new TypeError(r);return e(s)&&(o="leading"in s?!!s.leading:o,l="trailing"in s?!!s.trailing:l),t(a,i,{leading:o,maxWait:i,trailing:l})}return dx=n,dx}var fZ=dZ();const wR=mr(fZ);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function YP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(r),!0).forEach(function(n){hZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hZ(t,e,r){return e=pZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pZ(t){var e=mZ(t,"string");return ih(e)=="symbol"?e:e+""}function mZ(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gZ(t,e){return xZ(t)||bZ(t,e)||yZ(t,e)||vZ()}function vZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yZ(t,e){if(t){if(typeof t=="string")return XP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XP(t,e)}}function XP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function xZ(t){if(Array.isArray(t))return t}var U0=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,p=t.maxHeight,h=t.children,v=t.debounce,m=v===void 0?0:v,g=t.id,b=t.className,w=t.onResize,N=t.style,_=N===void 0?{}:N,A=j.useRef(null),C=j.useRef();C.current=w,j.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var E=j.useState({containerWidth:a.width,containerHeight:a.height}),R=gZ(E,2),L=R[0],U=R[1],S=j.useCallback(function(k,M){U(function($){var F=Math.round(k),z=Math.round(M);return $.containerWidth===F&&$.containerHeight===z?$:{containerWidth:F,containerHeight:z}})},[]);j.useEffect(function(){var k=function(q){var ee,de=q[0].contentRect,B=de.width,G=de.height;S(B,G),(ee=C.current)===null||ee===void 0||ee.call(C,B,G)};m>0&&(k=wR(k,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(k),$=A.current.getBoundingClientRect(),F=$.width,z=$.height;return S(F,z),M.observe(A.current),function(){M.disconnect()}},[S,m]);var O=j.useMemo(function(){var k=L.containerWidth,M=L.containerHeight;if(k<0||M<0)return null;Io(wc(s)||wc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Io(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=wc(s)?k:s,F=wc(l)?M:l;r&&r>0&&($?F=$/r:F&&($=F*r),p&&F>p&&(F=p)),Io($>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,F,s,l,d,f,r);var z=!Array.isArray(h)&&Lo(h.type).endsWith("Chart");return ve.Children.map(h,function(W){return ve.isValidElement(W)?j.cloneElement(W,Jp({width:$,height:F},z?{style:Jp({height:"100%",width:"100%",maxHeight:F,maxWidth:$},W.props.style)}:{})):W})},[r,h,l,p,f,d,L,s]);return ve.createElement("div",{id:g?"".concat(g):void 0,className:ir("recharts-responsive-container",b),style:Jp(Jp({},_),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:p}),ref:A},O)}),AS=function(e){return null};AS.displayName="Cell";function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function ZP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(r),!0).forEach(function(n){wZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wZ(t,e,r){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NZ(t){var e=SZ(t,"string");return sh(e)=="symbol"?e:e+""}function SZ(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vu={widthCache:{},cacheCount:0},AZ=2e3,jZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JP="recharts_measurement_span";function _Z(t){var e=_w({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Bf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$d.isSsr)return{width:0,height:0};var n=_Z(r),a=JSON.stringify({text:e,copyStyle:n});if(vu.widthCache[a])return vu.widthCache[a];try{var i=document.getElementById(JP);i||(i=document.createElement("span"),i.setAttribute("id",JP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=_w(_w({},jZ),n);Object.assign(i.style,s),i.textContent="".concat(e);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return vu.widthCache[a]=l,++vu.cacheCount>AZ&&(vu.cacheCount=0,vu.widthCache={}),l}catch{return{width:0,height:0}}},PZ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function pg(t,e){return OZ(t)||TZ(t,e)||EZ(t,e)||CZ()}function CZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(t,e){if(t){if(typeof t=="string")return QP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QP(t,e)}}function QP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function OZ(t){if(Array.isArray(t))return t}function kZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IZ(n.key),n)}}function LZ(t,e,r){return e&&eC(t.prototype,e),r&&eC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IZ(t){var e=RZ(t,"string");return oh(e)=="symbol"?e:e+""}function RZ(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FZ=Object.keys(NR),Iu="NaN";function BZ(t,e){return t*NR[e]}var Qp=(function(){function t(e,r){kZ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!MZ.test(r)&&(this.num=NaN,this.unit=""),FZ.includes(r)&&(this.num=BZ(e,r),this.unit="px")}return LZ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=DZ.exec(r))!==null&&n!==void 0?n:[],i=pg(a,3),s=i[1],o=i[2];return new t(parseFloat(s),o??"")}}])})();function SR(t){if(t.includes(Iu))return Iu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=tC.exec(e))!==null&&r!==void 0?r:[],a=pg(n,4),i=a[1],s=a[2],o=a[3],l=Qp.parse(i??""),c=Qp.parse(o??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Iu;e=e.replace(tC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=rC.exec(e))!==null&&f!==void 0?f:[],h=pg(p,4),v=h[1],m=h[2],g=h[3],b=Qp.parse(v??""),w=Qp.parse(g??""),N=m==="+"?b.add(w):b.subtract(w);if(N.isNaN())return Iu;e=e.replace(rC,N.toString())}return e}var nC=/\(([^()]*)\)/;function $Z(t){for(var e=t;e.includes("(");){var r=nC.exec(e),n=pg(r,2),a=n[1];e=e.replace(nC,SR(a))}return e}function qZ(t){var e=t.replace(/\s+/g,"");return e=$Z(e),e=SR(e),e}function zZ(t){try{return qZ(t)}catch{return Iu}}function fx(t){var e=zZ(t.slice(5,-1));return e===Iu?"":e}var UZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WZ=["dx","dy","angle","className","breakAll"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pw.apply(this,arguments)}function aC(t,e){if(t==null)return{};var r=HZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iC(t,e){return YZ(t)||KZ(t,e)||GZ(t,e)||VZ()}function VZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GZ(t,e){if(t){if(typeof t=="string")return sC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(t,e)}}function sC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function YZ(t){if(Array.isArray(t))return t}var AR=/[ \f\n\r\t\v\u2028\u2029]+/,jR=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];rr(r)||(n?i=r.toString().split(""):i=r.toString().split(AR));var s=i.map(function(l){return{word:l,width:Bf(l,a).width}}),o=n?0:Bf("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},XZ=function(e,r,n,a,i){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=Xe(s),f=o,p=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(F,z){var W=z.word,q=z.width,ee=F[F.length-1];if(ee&&(a==null||i||ee.width+q+n<Number(a)))ee.words.push(W),ee.width+=q+n;else{var de={words:[W],width:q};F.push(de)}return F},[])},h=p(r),v=function($){return $.reduce(function(F,z){return F.width>z.width?F:z})};if(!d)return h;for(var m="",g=function($){var F=f.slice(0,$),z=jR({breakAll:c,style:l,children:F+m}).wordsWithComputedWidth,W=p(z),q=W.length>s||v(W).width>Number(a);return[q,W]},b=0,w=f.length-1,N=0,_;b<=w&&N<=f.length-1;){var A=Math.floor((b+w)/2),C=A-1,E=g(C),R=iC(E,2),L=R[0],U=R[1],S=g(A),O=iC(S,1),k=O[0];if(!L&&!k&&(b=A+1),L&&k&&(w=A-1),!L&&k){_=U;break}N++}return _||h},oC=function(e){var r=rr(e)?[]:e.toString().split(AR);return[{words:r}]},ZZ=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!$d.isSsr){var l,c,d=jR({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;l=f,c=p}else return oC(a);return XZ({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return oC(a)},lC="#808080",mg=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,h=p===void 0?"start":p,v=e.verticalAnchor,m=v===void 0?"end":v,g=e.fill,b=g===void 0?lC:g,w=aC(e,UZ),N=j.useMemo(function(){return ZZ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,A=w.dy,C=w.angle,E=w.className,R=w.breakAll,L=aC(w,WZ);if(!Dn(n)||!Dn(i))return null;var U=n+(Xe(_)?_:0),S=i+(Xe(A)?A:0),O;switch(m){case"start":O=fx("calc(".concat(c,")"));break;case"middle":O=fx("calc(".concat((N.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=fx("calc(".concat(N.length-1," * -").concat(o,")"));break}var k=[];if(f){var M=N[0].width,$=w.width;k.push("scale(".concat((Xe($)?$/M:1)/M,")"))}return C&&k.push("rotate(".concat(C,", ").concat(U,", ").concat(S,")")),k.length&&(L.transform=k.join(" ")),ve.createElement("text",Pw({},ar(L,!0),{x:U,y:S,className:ir("recharts-text",E),textAnchor:h,fill:b.includes("url")?lC:b}),N.map(function(F,z){var W=F.words.join(R?"":" ");return ve.createElement("tspan",{x:U,dy:z===0?O:o,key:"".concat(W,"-").concat(z)},W)}))};function Rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jS(t){let e,r,n;t.length!==2?(e=Rl,r=(o,l)=>Rl(t(o),l),n=(o,l)=>t(o)-l):(e=t===Rl||t===JZ?t:QZ,r=t,n=t);function a(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=a(o,l,c,d-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function QZ(){return 0}function _R(t){return t===null?NaN:+t}function*eJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const tJ=jS(Rl),cp=tJ.right;jS(_R).center;class cC extends Map{constructor(e,r=aJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(uC(this,e))}has(e){return super.has(uC(this,e))}set(e,r){return super.set(rJ(this,e),r)}delete(e){return super.delete(nJ(this,e))}}function uC({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function rJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function nJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function aJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iJ(t=Rl){if(t===Rl)return PR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function PR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sJ=Math.sqrt(50),oJ=Math.sqrt(10),lJ=Math.sqrt(2);function gg(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=sJ?10:i>=oJ?5:i>=lJ?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?gg(t,e,r*2):[o,l,c]}function Cw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?gg(e,t,r):gg(t,e,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function Ew(t,e,r){return e=+e,t=+t,r=+r,gg(t,e,r)[2]}function Tw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Ew(e,t,r):Ew(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function dC(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function fC(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function CR(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?PR:iJ(a);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+p)),v=Math.min(n,Math.floor(e+(l-c)*f/l+p));CR(t,e,h,v,a)}const i=t[e];let s=r,o=n;for(yf(t,r,e),a(t[n],i)>0&&yf(t,r,n);s<o;){for(yf(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[r],i)===0?yf(t,r,o):(++o,yf(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function yf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function cJ(t,e,r){if(t=Float64Array.from(eJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return fC(t);if(e>=1)return dC(t);var n,a=(n-1)*e,i=Math.floor(a),s=dC(CR(t,i).subarray(0,i+1)),o=fC(t.subarray(i+1));return s+(o-s)*(a-i)}}function uJ(t,e,r=_R){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return s+(o-s)*(a-i)}}function dJ(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ow=Symbol("implicit");function _S(){var t=new cC,e=[],r=[],n=Ow;function a(i){let s=t.get(i);if(s===void 0){if(n!==Ow)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new cC;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _S(e,r).unknown(n)},Ki.apply(a,arguments),a}function lh(){var t=_S().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var p=e().length,h=a<n,v=h?a:n,m=h?n:a;i=(m-v)/Math.max(1,p-l+c*2),o&&(i=Math.floor(i)),v+=(m-v-i*(p-l))*d,s=i*(1-l),o&&(v=Math.round(v),s=Math.round(s));var g=dJ(p).map(function(b){return v+i*b});return r(h?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return lh(e(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(d)},Ki.apply(f(),arguments)}function ER(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ER(e())},t}function $f(){return ER(lh.apply(null,arguments).paddingInner(1))}function PS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function TR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function up(){}var ch=.7,vg=1/ch,Uu="\\s*([+-]?\\d+)\\s*",uh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fJ=/^#([0-9a-f]{3,8})$/,hJ=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),pJ=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),mJ=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${uh}\\)$`),gJ=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${uh}\\)$`),vJ=new RegExp(`^hsl\\(${uh},${Gs},${Gs}\\)$`),yJ=new RegExp(`^hsla\\(${uh},${Gs},${Gs},${uh}\\)$`),hC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PS(up,dh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pC,formatHex:pC,formatHex8:bJ,formatHsl:xJ,formatRgb:mC,toString:mC});function pC(){return this.rgb().formatHex()}function bJ(){return this.rgb().formatHex8()}function xJ(){return OR(this).formatHsl()}function mC(){return this.rgb().formatRgb()}function dh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=fJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?gC(e):r===3?new Wa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?em(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?em(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hJ.exec(t))?new Wa(e[1],e[2],e[3],1):(e=pJ.exec(t))?new Wa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mJ.exec(t))?em(e[1],e[2],e[3],e[4]):(e=gJ.exec(t))?em(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vJ.exec(t))?bC(e[1],e[2]/100,e[3]/100,1):(e=yJ.exec(t))?bC(e[1],e[2]/100,e[3]/100,e[4]):hC.hasOwnProperty(t)?gC(hC[t]):t==="transparent"?new Wa(NaN,NaN,NaN,0):null}function gC(t){return new Wa(t>>16&255,t>>8&255,t&255,1)}function em(t,e,r,n){return n<=0&&(t=e=r=NaN),new Wa(t,e,r,n)}function wJ(t){return t instanceof up||(t=dh(t)),t?(t=t.rgb(),new Wa(t.r,t.g,t.b,t.opacity)):new Wa}function kw(t,e,r,n){return arguments.length===1?wJ(t):new Wa(t,e,r,n??1)}function Wa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}PS(Wa,kw,TR(up,{brighter(t){return t=t==null?vg:Math.pow(vg,t),new Wa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ch:Math.pow(ch,t),new Wa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wa(_c(this.r),_c(this.g),_c(this.b),yg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vC,formatHex:vC,formatHex8:NJ,formatRgb:yC,toString:yC}));function vC(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}`}function NJ(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}${Nc((isNaN(this.opacity)?1:this.opacity)*255)}`}function yC(){const t=yg(this.opacity);return`${t===1?"rgb(":"rgba("}${_c(this.r)}, ${_c(this.g)}, ${_c(this.b)}${t===1?")":`, ${t})`}`}function yg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _c(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nc(t){return t=_c(t),(t<16?"0":"")+t.toString(16)}function bC(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hs(t,e,r,n)}function OR(t){if(t instanceof hs)return new hs(t.h,t.s,t.l,t.opacity);if(t instanceof up||(t=dh(t)),!t)return new hs;if(t instanceof hs)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new hs(s,o,l,t.opacity)}function SJ(t,e,r,n){return arguments.length===1?OR(t):new hs(t,e,r,n??1)}function hs(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}PS(hs,SJ,TR(up,{brighter(t){return t=t==null?vg:Math.pow(vg,t),new hs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ch:Math.pow(ch,t),new hs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Wa(hx(t>=240?t-240:t+120,a,n),hx(t,a,n),hx(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new hs(xC(this.h),tm(this.s),tm(this.l),yg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yg(this.opacity);return`${t===1?"hsl(":"hsla("}${xC(this.h)}, ${tm(this.s)*100}%, ${tm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xC(t){return t=(t||0)%360,t<0?t+360:t}function tm(t){return Math.max(0,Math.min(1,t||0))}function hx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const CS=t=>()=>t;function AJ(t,e){return function(r){return t+r*e}}function jJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function _J(t){return(t=+t)==1?kR:function(e,r){return r-e?jJ(e,r,t):CS(isNaN(e)?r:e)}}function kR(t,e){var r=e-t;return r?AJ(t,r):CS(isNaN(t)?e:t)}const wC=(function t(e){var r=_J(e);function n(a,i){var s=r((a=kw(a)).r,(i=kw(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=kR(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=c(d),a+""}}return n.gamma=t,n})(1);function PJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function CJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function EJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=qd(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function TJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function bg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function OJ(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=qd(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,px=new RegExp(Lw.source,"g");function kJ(t){return function(){return t}}function LJ(t){return function(e){return t(e)+""}}function IJ(t,e){var r=Lw.lastIndex=px.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Lw.exec(t))&&(a=px.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:bg(n,a)})),r=px.lastIndex;return r<e.length&&(i=e.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?LJ(l[0].x):kJ(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function qd(t,e){var r=typeof e,n;return e==null||r==="boolean"?CS(e):(r==="number"?bg:r==="string"?(n=dh(e))?(e=n,wC):IJ:e instanceof dh?wC:e instanceof Date?TJ:CJ(e)?PJ:Array.isArray(e)?EJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?OJ:bg)(t,e)}function ES(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function RJ(t,e){e===void 0&&(e=t,t=qd);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function MJ(t){return function(){return t}}function xg(t){return+t}var NC=[0,1];function Oa(t){return t}function Iw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:MJ(isNaN(e)?NaN:.5)}function DJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function FJ(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=Iw(a,n),i=r(s,i)):(n=Iw(n,a),i=r(i,s)),function(o){return i(n(o))}}function BJ(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=Iw(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var l=cp(t,o,1,n)-1;return i[l](a[l](o))}}function dp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function W0(){var t=NC,e=NC,r=qd,n,a,i,s=Oa,o,l,c;function d(){var p=Math.min(t.length,e.length);return s!==Oa&&(s=DJ(t[0],t[p-1])),o=p>2?BJ:FJ,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(a((c||(c=o(e,t.map(n),bg)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,xg),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=ES,d()},f.clamp=function(p){return arguments.length?(s=p?!0:Oa,d()):s!==Oa},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function TS(){return W0()(Oa,Oa)}function $J(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ld(t){return t=wg(Math.abs(t)),t?t[1]:NaN}function qJ(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function zJ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var UJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fh(t){if(!(e=UJ.exec(t)))throw new Error("invalid format: "+t);var e;return new OS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fh.prototype=OS.prototype;function OS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}OS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WJ(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var LR;function HJ(t,e){var r=wg(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(LR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+wg(t,Math.max(0,e+i-1))[0]}function SC(t,e){var r=wg(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const AC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$J,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SC(t*100,e),r:SC,s:HJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jC(t){return t}var _C=Array.prototype.map,PC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function VJ(t){var e=t.grouping===void 0||t.thousands===void 0?jC:qJ(_C.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?jC:zJ(_C.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=fh(f);var p=f.fill,h=f.align,v=f.sign,m=f.symbol,g=f.zero,b=f.width,w=f.comma,N=f.precision,_=f.trim,A=f.type;A==="n"?(w=!0,A="g"):AC[A]||(N===void 0&&(N=12),_=!0,A="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var C=m==="$"?r:m==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=m==="$"?n:/[%p]/.test(A)?s:"",R=AC[A],L=/[defgprs%]/.test(A);N=N===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function U(S){var O=C,k=E,M,$,F;if(A==="c")k=R(S)+k,S="";else{S=+S;var z=S<0||1/S<0;if(S=isNaN(S)?l:R(Math.abs(S),N),_&&(S=WJ(S)),z&&+S==0&&v!=="+"&&(z=!1),O=(z?v==="("?v:o:v==="-"||v==="("?"":v)+O,k=(A==="s"?PC[8+LR/3]:"")+k+(z&&v==="("?")":""),L){for(M=-1,$=S.length;++M<$;)if(F=S.charCodeAt(M),48>F||F>57){k=(F===46?a+S.slice(M+1):S.slice(M))+k,S=S.slice(0,M);break}}}w&&!g&&(S=e(S,1/0));var W=O.length+S.length+k.length,q=W<b?new Array(b-W+1).join(p):"";switch(w&&g&&(S=e(q+S,q.length?b-k.length:1/0),q=""),h){case"<":S=O+S+k+q;break;case"=":S=O+q+S+k;break;case"^":S=q.slice(0,W=q.length>>1)+O+S+k+q.slice(W);break;default:S=q+O+S+k;break}return i(S)}return U.toString=function(){return f+""},U}function d(f,p){var h=c((f=fh(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ld(p)/3)))*3,m=Math.pow(10,-v),g=PC[8+v/3];return function(b){return h(m*b)+g}}return{format:c,formatPrefix:d}}var rm,kS,IR;GJ({thousands:",",grouping:[3],currency:["$",""]});function GJ(t){return rm=VJ(t),kS=rm.format,IR=rm.formatPrefix,rm}function KJ(t){return Math.max(0,-ld(Math.abs(t)))}function YJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ld(e)/3)))*3-ld(Math.abs(t)))}function XJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ld(e)-ld(t))+1}function RR(t,e,r,n){var a=Tw(t,e,r),i;switch(n=fh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=YJ(a,s))&&(n.precision=i),IR(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=XJ(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=KJ(a))&&(n.precision=i-(n.type==="%")*2);break}}return kS(n)}function Vl(t){var e=t.domain;return t.ticks=function(r){var n=e();return Cw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return RR(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);d-- >0;){if(c=Ew(s,o,r),c===l)return n[a]=s,n[i]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Ng(){var t=TS();return t.copy=function(){return dp(t,Ng())},Ki.apply(t,arguments),Vl(t)}function MR(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,xg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return MR(t).unknown(e)},t=arguments.length?Array.from(t,xg):[0,1],Vl(r)}function DR(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function CC(t){return Math.log(t)}function EC(t){return Math.exp(t)}function ZJ(t){return-Math.log(-t)}function JJ(t){return-Math.exp(-t)}function QJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eQ(t){return t===10?QJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TC(t){return(e,r)=>-t(-e,r)}function LS(t){const e=t(CC,EC),r=e.domain;let n=10,a,i;function s(){return a=tQ(n),i=eQ(n),r()[0]<0?(a=TC(a),i=TC(i),t(ZJ,JJ)):t(CC,EC),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=a(c),h=a(d),v,m;const g=o==null?10:+o;let b=[];if(!(n%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(v=1;v<n;++v)if(m=p<0?v/i(-p):v*i(p),!(m<c)){if(m>d)break;b.push(m)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(m=p>0?v/i(-p):v*i(p),!(m<c)){if(m>d)break;b.push(m)}b.length*2<g&&(b=Cw(c,d,g))}else b=Cw(p,h,Math.min(h-p,g)).map(i);return f?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=fh(l)).precision==null&&(l.trim=!0),l=kS(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},e.nice=()=>r(DR(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),e}function FR(){const t=LS(W0()).domain([1,10]);return t.copy=()=>dp(t,FR()).base(t.base()),Ki.apply(t,arguments),t}function OC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function IS(t){var e=1,r=t(OC(e),kC(e));return r.constant=function(n){return arguments.length?t(OC(e=+n),kC(e)):e},Vl(r)}function BR(){var t=IS(W0());return t.copy=function(){return dp(t,BR()).constant(t.constant())},Ki.apply(t,arguments)}function LC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nQ(t){return t<0?-t*t:t*t}function RS(t){var e=t(Oa,Oa),r=1;function n(){return r===1?t(Oa,Oa):r===.5?t(rQ,nQ):t(LC(r),LC(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Vl(e)}function MS(){var t=RS(W0());return t.copy=function(){return dp(t,MS()).exponent(t.exponent())},Ki.apply(t,arguments),t}function aQ(){return MS.apply(null,arguments).exponent(.5)}function IC(t){return Math.sign(t)*t*t}function iQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $R(){var t=TS(),e=[0,1],r=!1,n;function a(i){var s=iQ(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(IC(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,xg)).map(IC)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return $R(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ki.apply(a,arguments),Vl(a)}function qR(){var t=[],e=[],r=[],n;function a(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=uJ(t,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:e[cp(r,s)]}return i.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Rl),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return qR().domain(t).range(e).unknown(n)},Ki.apply(i,arguments)}function zR(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[cp(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return zR().domain([t,e]).range(a).unknown(i)},Ki.apply(Vl(s),arguments)}function UR(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[cp(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return UR().domain(t).range(e).unknown(r)},Ki.apply(a,arguments)}const mx=new Date,gx=new Date;function Bn(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),e(i,o),t(i);while(c<i&&i<s);return l},a.filter=i=>Bn(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(mx.setTime(+i),gx.setTime(+s),t(mx),t(gx),Math.floor(r(mx,gx))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Sg=Bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Sg);Sg.range;const Po=1e3,Bi=Po*60,Co=Bi*60,qo=Co*24,DS=qo*7,RC=qo*30,vx=qo*365,Sc=Bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getUTCSeconds());Sc.range;const FS=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getMinutes());FS.range;const BS=Bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCMinutes());BS.range;const $S=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Po-t.getMinutes()*Bi)},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getHours());$S.range;const qS=Bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getUTCHours());qS.range;const fp=Bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bi)/qo,t=>t.getDate()-1);fp.range;const H0=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qo,t=>t.getUTCDate()-1);H0.range;const WR=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qo,t=>Math.floor(t/qo));WR.range;function Jc(t){return Bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Bi)/DS)}const V0=Jc(0),Ag=Jc(1),sQ=Jc(2),oQ=Jc(3),cd=Jc(4),lQ=Jc(5),cQ=Jc(6);V0.range;Ag.range;sQ.range;oQ.range;cd.range;lQ.range;cQ.range;function Qc(t){return Bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/DS)}const G0=Qc(0),jg=Qc(1),uQ=Qc(2),dQ=Qc(3),ud=Qc(4),fQ=Qc(5),hQ=Qc(6);G0.range;jg.range;uQ.range;dQ.range;ud.range;fQ.range;hQ.range;const zS=Bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zS.range;const US=Bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());US.range;const zo=Bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});zo.range;const Uo=Bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Uo.range;function HR(t,e,r,n,a,i){const s=[[Sc,1,Po],[Sc,5,5*Po],[Sc,15,15*Po],[Sc,30,30*Po],[i,1,Bi],[i,5,5*Bi],[i,15,15*Bi],[i,30,30*Bi],[a,1,Co],[a,3,3*Co],[a,6,6*Co],[a,12,12*Co],[n,1,qo],[n,2,2*qo],[r,1,DS],[e,1,RC],[e,3,3*RC],[t,1,vx]];function o(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const h=f&&typeof f.range=="function"?f:l(c,d,f),v=h?h.range(c,+d+1):[];return p?v.reverse():v}function l(c,d,f){const p=Math.abs(d-c)/f,h=jS(([,,g])=>g).right(s,p);if(h===s.length)return t.every(Tw(c/vx,d/vx,f));if(h===0)return Sg.every(Math.max(Tw(c,d,f),1));const[v,m]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return v.every(m)}return[o,l]}const[pQ,mQ]=HR(Uo,US,G0,WR,qS,BS),[gQ,vQ]=HR(zo,zS,V0,fp,$S,FS);function yx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function yQ(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=xf(a),d=wf(a),f=xf(i),p=wf(i),h=xf(s),v=wf(s),m=xf(o),g=wf(o),b=xf(l),w=wf(l),N={a:z,A:W,b:q,B:ee,c:null,d:qC,e:qC,f:qQ,g:ZQ,G:QQ,H:FQ,I:BQ,j:$Q,L:VR,m:zQ,M:UQ,p:de,q:B,Q:WC,s:HC,S:WQ,u:HQ,U:VQ,V:GQ,w:KQ,W:YQ,x:null,X:null,y:XQ,Y:JQ,Z:eee,"%":UC},_={a:G,A:Z,b:te,B:ne,c:null,d:zC,e:zC,f:aee,g:pee,G:gee,H:tee,I:ree,j:nee,L:KR,m:iee,M:see,p:ie,q:fe,Q:WC,s:HC,S:oee,u:lee,U:cee,V:uee,w:dee,W:fee,x:null,X:null,y:hee,Y:mee,Z:vee,"%":UC},A={a:U,A:S,b:O,B:k,c:M,d:BC,e:BC,f:IQ,g:FC,G:DC,H:$C,I:$C,j:TQ,L:LQ,m:EQ,M:OQ,p:L,q:CQ,Q:MQ,s:DQ,S:kQ,u:SQ,U:AQ,V:jQ,w:NQ,W:_Q,x:$,X:F,y:FC,Y:DC,Z:PQ,"%":RQ};N.x=C(r,N),N.X=C(n,N),N.c=C(e,N),_.x=C(r,_),_.X=C(n,_),_.c=C(e,_);function C(se,he){return function(oe){var ae=[],xe=-1,we=0,Y=se.length,ge,De,Fe;for(oe instanceof Date||(oe=new Date(+oe));++xe<Y;)se.charCodeAt(xe)===37&&(ae.push(se.slice(we,xe)),(De=MC[ge=se.charAt(++xe)])!=null?ge=se.charAt(++xe):De=ge==="e"?" ":"0",(Fe=he[ge])&&(ge=Fe(oe,De)),ae.push(ge),we=xe+1);return ae.push(se.slice(we,xe)),ae.join("")}}function E(se,he){return function(oe){var ae=bf(1900,void 0,1),xe=R(ae,se,oe+="",0),we,Y;if(xe!=oe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(he&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(we=bx(bf(ae.y,0,1)),Y=we.getUTCDay(),we=Y>4||Y===0?jg.ceil(we):jg(we),we=H0.offset(we,(ae.V-1)*7),ae.y=we.getUTCFullYear(),ae.m=we.getUTCMonth(),ae.d=we.getUTCDate()+(ae.w+6)%7):(we=yx(bf(ae.y,0,1)),Y=we.getDay(),we=Y>4||Y===0?Ag.ceil(we):Ag(we),we=fp.offset(we,(ae.V-1)*7),ae.y=we.getFullYear(),ae.m=we.getMonth(),ae.d=we.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Y="Z"in ae?bx(bf(ae.y,0,1)).getUTCDay():yx(bf(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Y+5)%7:ae.w+ae.U*7-(Y+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,bx(ae)):yx(ae)}}function R(se,he,oe,ae){for(var xe=0,we=he.length,Y=oe.length,ge,De;xe<we;){if(ae>=Y)return-1;if(ge=he.charCodeAt(xe++),ge===37){if(ge=he.charAt(xe++),De=A[ge in MC?he.charAt(xe++):ge],!De||(ae=De(se,oe,ae))<0)return-1}else if(ge!=oe.charCodeAt(ae++))return-1}return ae}function L(se,he,oe){var ae=c.exec(he.slice(oe));return ae?(se.p=d.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function U(se,he,oe){var ae=h.exec(he.slice(oe));return ae?(se.w=v.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function S(se,he,oe){var ae=f.exec(he.slice(oe));return ae?(se.w=p.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function O(se,he,oe){var ae=b.exec(he.slice(oe));return ae?(se.m=w.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function k(se,he,oe){var ae=m.exec(he.slice(oe));return ae?(se.m=g.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function M(se,he,oe){return R(se,e,he,oe)}function $(se,he,oe){return R(se,r,he,oe)}function F(se,he,oe){return R(se,n,he,oe)}function z(se){return s[se.getDay()]}function W(se){return i[se.getDay()]}function q(se){return l[se.getMonth()]}function ee(se){return o[se.getMonth()]}function de(se){return a[+(se.getHours()>=12)]}function B(se){return 1+~~(se.getMonth()/3)}function G(se){return s[se.getUTCDay()]}function Z(se){return i[se.getUTCDay()]}function te(se){return l[se.getUTCMonth()]}function ne(se){return o[se.getUTCMonth()]}function ie(se){return a[+(se.getUTCHours()>=12)]}function fe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var he=C(se+="",N);return he.toString=function(){return se},he},parse:function(se){var he=E(se+="",!1);return he.toString=function(){return se},he},utcFormat:function(se){var he=C(se+="",_);return he.toString=function(){return se},he},utcParse:function(se){var he=E(se+="",!0);return he.toString=function(){return se},he}}}var MC={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,bQ=/^%/,xQ=/[\\^$*+?|[\]().{}]/g;function fr(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function wQ(t){return t.replace(xQ,"\\$&")}function xf(t){return new RegExp("^(?:"+t.map(wQ).join("|")+")","i")}function wf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function NQ(t,e,r){var n=Gn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function SQ(t,e,r){var n=Gn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function AQ(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function jQ(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function _Q(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function DC(t,e,r){var n=Gn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function FC(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PQ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function CQ(t,e,r){var n=Gn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function EQ(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function BC(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function TQ(t,e,r){var n=Gn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function $C(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function OQ(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function kQ(t,e,r){var n=Gn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function LQ(t,e,r){var n=Gn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function IQ(t,e,r){var n=Gn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RQ(t,e,r){var n=bQ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function MQ(t,e,r){var n=Gn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function DQ(t,e,r){var n=Gn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function qC(t,e){return fr(t.getDate(),e,2)}function FQ(t,e){return fr(t.getHours(),e,2)}function BQ(t,e){return fr(t.getHours()%12||12,e,2)}function $Q(t,e){return fr(1+fp.count(zo(t),t),e,3)}function VR(t,e){return fr(t.getMilliseconds(),e,3)}function qQ(t,e){return VR(t,e)+"000"}function zQ(t,e){return fr(t.getMonth()+1,e,2)}function UQ(t,e){return fr(t.getMinutes(),e,2)}function WQ(t,e){return fr(t.getSeconds(),e,2)}function HQ(t){var e=t.getDay();return e===0?7:e}function VQ(t,e){return fr(V0.count(zo(t)-1,t),e,2)}function GR(t){var e=t.getDay();return e>=4||e===0?cd(t):cd.ceil(t)}function GQ(t,e){return t=GR(t),fr(cd.count(zo(t),t)+(zo(t).getDay()===4),e,2)}function KQ(t){return t.getDay()}function YQ(t,e){return fr(Ag.count(zo(t)-1,t),e,2)}function XQ(t,e){return fr(t.getFullYear()%100,e,2)}function ZQ(t,e){return t=GR(t),fr(t.getFullYear()%100,e,2)}function JQ(t,e){return fr(t.getFullYear()%1e4,e,4)}function QQ(t,e){var r=t.getDay();return t=r>=4||r===0?cd(t):cd.ceil(t),fr(t.getFullYear()%1e4,e,4)}function eee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fr(e/60|0,"0",2)+fr(e%60,"0",2)}function zC(t,e){return fr(t.getUTCDate(),e,2)}function tee(t,e){return fr(t.getUTCHours(),e,2)}function ree(t,e){return fr(t.getUTCHours()%12||12,e,2)}function nee(t,e){return fr(1+H0.count(Uo(t),t),e,3)}function KR(t,e){return fr(t.getUTCMilliseconds(),e,3)}function aee(t,e){return KR(t,e)+"000"}function iee(t,e){return fr(t.getUTCMonth()+1,e,2)}function see(t,e){return fr(t.getUTCMinutes(),e,2)}function oee(t,e){return fr(t.getUTCSeconds(),e,2)}function lee(t){var e=t.getUTCDay();return e===0?7:e}function cee(t,e){return fr(G0.count(Uo(t)-1,t),e,2)}function YR(t){var e=t.getUTCDay();return e>=4||e===0?ud(t):ud.ceil(t)}function uee(t,e){return t=YR(t),fr(ud.count(Uo(t),t)+(Uo(t).getUTCDay()===4),e,2)}function dee(t){return t.getUTCDay()}function fee(t,e){return fr(jg.count(Uo(t)-1,t),e,2)}function hee(t,e){return fr(t.getUTCFullYear()%100,e,2)}function pee(t,e){return t=YR(t),fr(t.getUTCFullYear()%100,e,2)}function mee(t,e){return fr(t.getUTCFullYear()%1e4,e,4)}function gee(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ud(t):ud.ceil(t),fr(t.getUTCFullYear()%1e4,e,4)}function vee(){return"+0000"}function UC(){return"%"}function WC(t){return+t}function HC(t){return Math.floor(+t/1e3)}var yu,XR,ZR;yee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yee(t){return yu=yQ(t),XR=yu.format,yu.parse,ZR=yu.utcFormat,yu.utcParse,yu}function bee(t){return new Date(t)}function xee(t){return t instanceof Date?+t:+new Date(+t)}function WS(t,e,r,n,a,i,s,o,l,c){var d=TS(),f=d.invert,p=d.domain,h=c(".%L"),v=c(":%S"),m=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),w=c("%b %d"),N=c("%B"),_=c("%Y");function A(C){return(l(C)<C?h:o(C)<C?v:s(C)<C?m:i(C)<C?g:n(C)<C?a(C)<C?b:w:r(C)<C?N:_)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?p(Array.from(C,xee)):p().map(bee)},d.ticks=function(C){var E=p();return t(E[0],E[E.length-1],C??10)},d.tickFormat=function(C,E){return E==null?A:c(E)},d.nice=function(C){var E=p();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?p(DR(E,C)):d},d.copy=function(){return dp(d,WS(t,e,r,n,a,i,s,o,l,c))},d}function wee(){return Ki.apply(WS(gQ,vQ,zo,zS,V0,fp,$S,FS,Sc,XR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nee(){return Ki.apply(WS(pQ,mQ,Uo,US,G0,H0,qS,BS,Sc,ZR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K0(){var t=0,e=1,r,n,a,i,s=Oa,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(p){var h,v;return arguments.length?([h,v]=p,s=f(h,v),c):[s(0),s(1)]}}return c.range=d(qd),c.rangeRound=d(ES),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),c}}function Gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function JR(){var t=Vl(K0()(Oa));return t.copy=function(){return Gl(t,JR())},Xo.apply(t,arguments)}function QR(){var t=LS(K0()).domain([1,10]);return t.copy=function(){return Gl(t,QR()).base(t.base())},Xo.apply(t,arguments)}function eM(){var t=IS(K0());return t.copy=function(){return Gl(t,eM()).constant(t.constant())},Xo.apply(t,arguments)}function HS(){var t=RS(K0());return t.copy=function(){return Gl(t,HS()).exponent(t.exponent())},Xo.apply(t,arguments)}function See(){return HS.apply(null,arguments).exponent(.5)}function tM(){var t=[],e=Oa;function r(n){if(n!=null&&!isNaN(n=+n))return e((cp(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Rl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>cJ(t,i/n))},r.copy=function(){return tM(e).domain(t)},Xo.apply(r,arguments)}function Y0(){var t=0,e=.5,r=1,n=1,a,i,s,o,l,c=Oa,d,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),s=d(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(c=m,h):c};function v(m){return function(g){var b,w,N;return arguments.length?([b,w,N]=g,c=RJ(m,[b,w,N]),h):[c(0),c(.5),c(1)]}}return h.range=v(qd),h.rangeRound=v(ES),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return d=m,a=m(t),i=m(e),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function rM(){var t=Vl(Y0()(Oa));return t.copy=function(){return Gl(t,rM())},Xo.apply(t,arguments)}function nM(){var t=LS(Y0()).domain([.1,1,10]);return t.copy=function(){return Gl(t,nM()).base(t.base())},Xo.apply(t,arguments)}function aM(){var t=IS(Y0());return t.copy=function(){return Gl(t,aM()).constant(t.constant())},Xo.apply(t,arguments)}function VS(){var t=RS(Y0());return t.copy=function(){return Gl(t,VS()).exponent(t.exponent())},Xo.apply(t,arguments)}function Aee(){return VS.apply(null,arguments).exponent(.5)}const VC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lh,scaleDiverging:rM,scaleDivergingLog:nM,scaleDivergingPow:VS,scaleDivergingSqrt:Aee,scaleDivergingSymlog:aM,scaleIdentity:MR,scaleImplicit:Ow,scaleLinear:Ng,scaleLog:FR,scaleOrdinal:_S,scalePoint:$f,scalePow:MS,scaleQuantile:qR,scaleQuantize:zR,scaleRadial:$R,scaleSequential:JR,scaleSequentialLog:QR,scaleSequentialPow:HS,scaleSequentialQuantile:tM,scaleSequentialSqrt:See,scaleSequentialSymlog:eM,scaleSqrt:aQ,scaleSymlog:BR,scaleThreshold:UR,scaleTime:wee,scaleUtc:Nee,tickFormat:RR},Symbol.toStringTag,{value:"Module"}));var xx,GC;function iM(){if(GC)return xx;GC=1;var t=Dd();function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var o=r[i],l=n(o);if(l!=null&&(c===void 0?l===l&&!t(l):a(l,c)))var c=l,d=o}return d}return xx=e,xx}var wx,KC;function jee(){if(KC)return wx;KC=1;function t(e,r){return e>r}return wx=t,wx}var Nx,YC;function _ee(){if(YC)return Nx;YC=1;var t=iM(),e=jee(),r=Bd();function n(a){return a&&a.length?t(a,r,e):void 0}return Nx=n,Nx}var Pee=_ee();const X0=mr(Pee);var Sx,XC;function Cee(){if(XC)return Sx;XC=1;function t(e,r){return e<r}return Sx=t,Sx}var Ax,ZC;function Eee(){if(ZC)return Ax;ZC=1;var t=iM(),e=Cee(),r=Bd();function n(a){return a&&a.length?t(a,r,e):void 0}return Ax=n,Ax}var Tee=Eee();const Z0=mr(Tee);var jx,JC;function Oee(){if(JC)return jx;JC=1;var t=oS(),e=Hl(),r=pR(),n=Va();function a(i,s){var o=n(i)?t:r;return o(i,e(s,3))}return jx=a,jx}var _x,QC;function kee(){if(QC)return _x;QC=1;var t=fR(),e=Oee();function r(n,a){return t(e(n,a),1)}return _x=r,_x}var Lee=kee();const Iee=mr(Lee);var Px,eE;function Ree(){if(eE)return Px;eE=1;var t=xS();function e(r,n){return t(r,n)}return Px=e,Px}var Mee=Ree();const J0=mr(Mee);var zd=1e9,Dee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KS,Kr=!0,Wi="[DecimalError] ",Pc=Wi+"Invalid argument: ",GS=Wi+"Exponent out of range: ",Ud=Math.floor,yc=Math.pow,Fee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,Hn=1e7,Wr=7,sM=9007199254740991,_g=Ud(sM/Wr),ct={};ct.absoluteValue=ct.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ct.comparedTo=ct.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Wr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(t){return Ro(this,new this.constructor(t))};ct.dividedToIntegerBy=ct.idiv=function(t){var e=this,r=e.constructor;return Tr(Ro(e,new r(t),0,1),r.precision)};ct.equals=ct.eq=function(t){return!this.cmp(t)};ct.exponent=function(){return jn(this)};ct.greaterThan=ct.gt=function(t){return this.cmp(t)>0};ct.greaterThanOrEqualTo=ct.gte=function(t){return this.cmp(t)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(t){return this.cmp(t)<0};ct.lessThanOrEqualTo=ct.lte=function(t){return this.cmp(t)<1};ct.logarithm=ct.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(mi))throw Error(Wi+"NaN");if(r.s<1)throw Error(Wi+(r.s?"NaN":"-Infinity"));return r.eq(mi)?new n(0):(Kr=!1,e=Ro(hh(r,i),hh(t,i),i),Kr=!0,Tr(e,a))};ct.minus=ct.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cM(e,t):oM(e,(t.s=-t.s,t))};ct.modulo=ct.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Wi+"NaN");return r.s?(Kr=!1,e=Ro(r,t,0,1).times(t),Kr=!0,r.minus(e)):Tr(new n(r),a)};ct.naturalExponential=ct.exp=function(){return lM(this)};ct.naturalLogarithm=ct.ln=function(){return hh(this)};ct.negated=ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ct.plus=ct.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oM(e,t):cM(e,(t.s=-t.s,t))};ct.precision=ct.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Pc+t);if(e=jn(a)+1,n=a.d.length-1,r=n*Wr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ct.squareRoot=ct.sqrt=function(){var t,e,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Wi+"NaN")}for(t=jn(o),Kr=!1,a=Math.sqrt(+o),a==0||a==1/0?(e=Us(o.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Ud((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Ro(o,i,s+2)).times(.5),Us(i.d).slice(0,s)===(e=Us(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Tr(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(e!="9999")break;s+=4}return Kr=!0,Tr(n,r)};ct.times=ct.mul=function(t){var e,r,n,a,i,s,o,l,c,d=this,f=d.constructor,p=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=p.length,c=h.length,l<c&&(i=p,p=h,h=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(e=0,a=l+n;a>n;)o=i[a]+h[n]*p[a-n-1]+e,i[a--]=o%Hn|0,e=o/Hn|0;i[a]=(i[a]+e)%Hn|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Kr?Tr(t,f.precision):t};ct.toDecimalPlaces=ct.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(eo(t,0,zd),e===void 0?e=n.rounding:eo(e,0,8),Tr(r,t+jn(r)+1,e))};ct.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Fc(n,!0):(eo(t,0,zd),e===void 0?e=a.rounding:eo(e,0,8),n=Tr(new a(n),t+1,e),r=Fc(n,!0,t+1)),r};ct.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Fc(a):(eo(t,0,zd),e===void 0?e=i.rounding:eo(e,0,8),n=Tr(new i(a),t+jn(a)+1,e),r=Fc(n.abs(),!1,t+jn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var t=this,e=t.constructor;return Tr(new e(t),jn(t)+1,e.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(t){var e,r,n,a,i,s,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(mi);if(o=new l(o),!o.s){if(t.s<1)throw Error(Wi+"Infinity");return o}if(o.eq(mi))return o;if(n=l.precision,t.eq(mi))return Tr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=o.s,s){if((r=d<0?-d:d)<=sM){for(a=new l(mi),e=Math.ceil(n/Wr+4),Kr=!1;r%2&&(a=a.times(o),rE(a.d,e)),r=Ud(r/2),r!==0;)o=o.times(o),rE(o.d,e);return Kr=!0,t.s<0?new l(mi).div(a):Tr(a,n)}}else if(i<0)throw Error(Wi+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Kr=!1,a=t.times(hh(o,n+c)),Kr=!0,a=lM(a),a.s=i,a};ct.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=jn(a),n=Fc(a,r<=i.toExpNeg||r>=i.toExpPos)):(eo(t,1,zd),e===void 0?e=i.rounding:eo(e,0,8),a=Tr(new i(a),t,e),r=jn(a),n=Fc(a,t<=r||r<=i.toExpNeg,t)),n};ct.toSignificantDigits=ct.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(eo(t,1,zd),e===void 0?e=n.rounding:eo(e,0,8)),Tr(new n(r),t,e)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jn(t),r=t.constructor;return Fc(t,e<=r.toExpNeg||e>=r.toExpPos)};function oM(t,e){var r,n,a,i,s,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Kr?Tr(e,f):e;if(l=t.d,c=e.d,s=t.e,a=e.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Wr),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Hn|0,l[i]%=Hn;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=a,Kr?Tr(e,f):e}function eo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Pc+t)}function Us(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=Wr-n.length,r&&(i+=jl(r)),i+=n;s=t[e],n=s+"",r=Wr-n.length,r&&(i+=jl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ro=(function(){function t(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Hn|0,s=i/Hn|0;return s&&n.unshift(s),n}function e(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Hn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,d,f,p,h,v,m,g,b,w,N,_,A,C,E,R,L=n.constructor,U=n.s==a.s?1:-1,S=n.d,O=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Wi+"Division by zero");for(l=n.e-a.e,E=O.length,A=S.length,h=new L(U),v=h.d=[],c=0;O[c]==(S[c]||0);)++c;if(O[c]>(S[c]||0)&&--l,i==null?w=i=L.precision:s?w=i+(jn(n)-jn(a))+1:w=i,w<0)return new L(0);if(w=w/Wr+2|0,c=0,E==1)for(d=0,O=O[0],w++;(c<A||d)&&w--;c++)N=d*Hn+(S[c]||0),v[c]=N/O|0,d=N%O|0;else{for(d=Hn/(O[0]+1)|0,d>1&&(O=t(O,d),S=t(S,d),E=O.length,A=S.length),_=E,m=S.slice(0,E),g=m.length;g<E;)m[g++]=0;R=O.slice(),R.unshift(0),C=O[0],O[1]>=Hn/2&&++C;do d=0,o=e(O,m,E,g),o<0?(b=m[0],E!=g&&(b=b*Hn+(m[1]||0)),d=b/C|0,d>1?(d>=Hn&&(d=Hn-1),f=t(O,d),p=f.length,g=m.length,o=e(f,m,p,g),o==1&&(d--,r(f,E<p?R:O,p))):(d==0&&(o=d=1),f=O.slice()),p=f.length,p<g&&f.unshift(0),r(m,f,g),o==-1&&(g=m.length,o=e(O,m,E,g),o<1&&(d++,r(m,E<g?R:O,g))),g=m.length):o===0&&(d++,m=[0]),v[c++]=d,o&&m[0]?m[g++]=S[_]||0:(m=[S[_]],g=1);while((_++<A||m[0]!==void 0)&&w--)}return v[0]||v.shift(),h.e=l,Tr(h,s?i+jn(h)+1:i)}})();function lM(t,e){var r,n,a,i,s,o,l=0,c=0,d=t.constructor,f=d.precision;if(jn(t)>16)throw Error(GS+jn(t));if(!t.s)return new d(mi);for(Kr=!1,o=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(yc(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new d(mi),d.precision=o;;){if(a=Tr(a.times(t),o),r=r.times(++l),s=i.plus(Ro(a,r,o)),Us(s.d).slice(0,o)===Us(i.d).slice(0,o)){for(;c--;)i=Tr(i.times(i),o);return d.precision=f,e==null?(Kr=!0,Tr(i,f)):i}i=s}}function jn(t){for(var e=t.e*Wr,r=t.d[0];r>=10;r/=10)e++;return e}function Cx(t,e,r){if(e>t.LN10.sd())throw Kr=!0,r&&(t.precision=r),Error(Wi+"LN10 precision limit exceeded");return Tr(new t(t.LN10),e)}function jl(t){for(var e="";t--;)e+="0";return e}function hh(t,e){var r,n,a,i,s,o,l,c,d,f=1,p=10,h=t,v=h.d,m=h.constructor,g=m.precision;if(h.s<1)throw Error(Wi+(h.s?"NaN":"-Infinity"));if(h.eq(mi))return new m(0);if(e==null?(Kr=!1,c=g):c=e,h.eq(10))return e==null&&(Kr=!0),Cx(m,c);if(c+=p,m.precision=c,r=Us(v),n=r.charAt(0),i=jn(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Us(h.d),n=r.charAt(0),f++;i=jn(h),n>1?(h=new m("0."+r),i++):h=new m(n+"."+r.slice(1))}else return l=Cx(m,c+2,g).times(i+""),h=hh(new m(n+"."+r.slice(1)),c-p).plus(l),m.precision=g,e==null?(Kr=!0,Tr(h,g)):h;for(o=s=h=Ro(h.minus(mi),h.plus(mi),c),d=Tr(h.times(h),c),a=3;;){if(s=Tr(s.times(d),c),l=o.plus(Ro(s,new m(a),c)),Us(l.d).slice(0,c)===Us(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(Cx(m,c+2,g).times(i+""))),o=Ro(o,new m(f),c),m.precision=g,e==null?(Kr=!0,Tr(o,g)):o;o=l,a+=2}}function tE(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Ud(r/Wr),t.d=[],n=(r+1)%Wr,r<0&&(n+=Wr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Wr;n<a;)t.d.push(+e.slice(n,n+=Wr));e=e.slice(n),n=Wr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Kr&&(t.e>_g||t.e<-_g))throw Error(GS+r)}else t.s=0,t.e=0,t.d=[0];return t}function Tr(t,e,r){var n,a,i,s,o,l,c,d,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=Wr,a=e,c=f[d=0];else{if(d=Math.ceil((n+1)/Wr),i=f.length,d>=i)return t;for(c=i=f[d],s=1;i>=10;i/=10)s++;n%=Wr,a=n-Wr+s}if(r!==void 0&&(i=yc(10,s-a-1),o=c/i%10|0,l=e<0||f[d+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/yc(10,s-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(i=jn(t),f.length=1,e=e-i-1,f[0]=yc(10,(Wr-e%Wr)%Wr),t.e=Ud(-e/Wr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=yc(10,Wr-n),f[d]=a>0?(c/yc(10,s-a)%yc(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Hn&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=Hn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Kr&&(t.e>_g||t.e<-_g))throw Error(GS+jn(t));return t}function cM(t,e){var r,n,a,i,s,o,l,c,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Kr?Tr(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(h/Wr),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}s=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Hn-1;--l[i],l[a]+=Hn}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Kr?Tr(e,h):e):new p(0)}function Fc(t,e,r){var n,a=jn(t),i=Us(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+jl(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+jl(-a-1)+i,r&&(n=r-s)>0&&(i+=jl(n))):a>=s?(i+=jl(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+jl(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=jl(n))),t.s<0?"-"+i:i}function rE(t,e){if(t.length>e)return t.length=e,!0}function uM(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Pc+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return tE(s,i.toString())}else if(typeof i!="string")throw Error(Pc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Fee.test(i))tE(s,i);else throw Error(Pc+i)}if(a.prototype=ct,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=uM,a.config=a.set=Bee,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function Bee(t){if(!t||typeof t!="object")throw Error(Wi+"Object expected");var e,r,n,a=["precision",1,zd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Ud(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Pc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Pc+r+": "+n);return this}var KS=uM(Dee);mi=new KS(1);const jr=KS;function $ee(t){return Wee(t)||Uee(t)||zee(t)||qee()}function qee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zee(t,e){if(t){if(typeof t=="string")return Rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(t,e)}}function Uee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Wee(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Hee=function(e){return e},dM={},fM=function(e){return e===dM},nE=function(e){return function r(){return arguments.length===0||arguments.length===1&&fM(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Vee=function t(e,r){return e===1?r:nE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==dM}).length;return s>=e?r.apply(void 0,a):t(e-s,nE(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=a.map(function(f){return fM(f)?l.shift():f});return r.apply(void 0,$ee(d).concat(l))}))})},Q0=function(e){return Vee(e.length,e)},Mw=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Gee=Q0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Kee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Hee;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},Dw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},hM=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=e.apply(void 0,i)),n}};function Yee(t){var e;return t===0?e=1:e=Math.floor(new jr(t).abs().log(10).toNumber())+1,e}function Xee(t,e,r){for(var n=new jr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Zee=Q0(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),Jee=Q0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Qee=Q0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ev={rangeStep:Xee,getDigitCount:Yee,interpolateNumber:Zee,uninterpolateNumber:Jee,uninterpolateTruncation:Qee};function Fw(t){return rte(t)||tte(t)||pM(t)||ete()}function ete(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rte(t){if(Array.isArray(t))return Bw(t)}function ph(t,e){return ite(t)||ate(t,e)||pM(t,e)||nte()}function nte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pM(t,e){if(t){if(typeof t=="string")return Bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(t,e)}}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ate(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function ite(t){if(Array.isArray(t))return t}function mM(t){var e=ph(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function gM(t,e,r){if(t.lte(0))return new jr(0);var n=ev.getDigitCount(t.toNumber()),a=new jr(10).pow(n),i=t.div(a),s=n!==1?.05:.1,o=new jr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return e?l:new jr(Math.ceil(l))}function ste(t,e,r){var n=1,a=new jr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new jr(10).pow(ev.getDigitCount(t)-1),a=new jr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new jr(Math.floor(t)))}else t===0?a=new jr(Math.floor((e-1)/2)):r||(a=new jr(Math.floor(t)));var s=Math.floor((e-1)/2),o=Kee(Gee(function(l){return a.add(new jr(l-s).mul(n)).toNumber()}),Mw);return o(0,e)}function vM(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new jr(0),tickMin:new jr(0),tickMax:new jr(0)};var i=gM(new jr(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new jr(0):(s=new jr(t).add(e).div(2),s=s.sub(new jr(s).mod(i)));var o=Math.ceil(s.sub(t).div(i).toNumber()),l=Math.ceil(new jr(e).sub(s).div(i).toNumber()),c=o+l+1;return c>r?vM(t,e,r,n,a+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:i,tickMin:s.sub(new jr(o).mul(i)),tickMax:s.add(new jr(l).mul(i))})}function ote(t){var e=ph(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=mM([r,n]),l=ph(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(Fw(Mw(0,a-1).map(function(){return 1/0}))):[].concat(Fw(Mw(0,a-1).map(function(){return-1/0})),[d]);return r>n?Dw(f):f}if(c===d)return ste(c,a,i);var p=vM(c,d,s,i),h=p.step,v=p.tickMin,m=p.tickMax,g=ev.rangeStep(v,m.add(new jr(.1).mul(h)),h);return r>n?Dw(g):g}function lte(t,e){var r=ph(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=mM([n,a]),o=ph(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(e,2),f=gM(new jr(c).sub(l).div(d-1),i,0),p=[].concat(Fw(ev.rangeStep(new jr(l),new jr(c).sub(new jr(.99).mul(f)),f)),[c]);return n>a?Dw(p):p}var cte=hM(ote),ute=hM(lte),dte="Invariant failed";function Bc(t,e){throw new Error(dte)}var fte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pg.apply(this,arguments)}function hte(t,e){return vte(t)||gte(t,e)||mte(t,e)||pte()}function pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mte(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function vte(t){if(Array.isArray(t))return t}function yte(t,e){if(t==null)return{};var r=bte(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xM(n.key),n)}}function Nte(t,e,r){return e&&wte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ste(t,e,r){return e=Cg(e),Ate(t,yM()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function Ate(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jte(t)}function jte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yM=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function _te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$w(t,e)}function bM(t,e,r){return e=xM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xM(t){var e=Pte(t,"string");return dd(e)=="symbol"?e:e+""}function Pte(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hp=(function(t){function e(){return xte(this,e),Ste(this,e,arguments)}return _te(e,t),Nte(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=yte(n,fte),h=ar(p,!1);this.props.direction==="x"&&d.type!=="number"&&Bc();var v=l.map(function(m){var g=c(m,o),b=g.x,w=g.y,N=g.value,_=g.errorVal;if(!_)return null;var A=[],C,E;if(Array.isArray(_)){var R=hte(_,2);C=R[0],E=R[1]}else C=E=_;if(i==="vertical"){var L=d.scale,U=w+a,S=U+s,O=U-s,k=L(N-C),M=L(N+E);A.push({x1:M,y1:S,x2:M,y2:O}),A.push({x1:k,y1:U,x2:M,y2:U}),A.push({x1:k,y1:S,x2:k,y2:O})}else if(i==="horizontal"){var $=f.scale,F=b+a,z=F-s,W=F+s,q=$(N-C),ee=$(N+E);A.push({x1:z,y1:ee,x2:W,y2:ee}),A.push({x1:F,y1:q,x2:F,y2:ee}),A.push({x1:z,y1:q,x2:W,y2:q})}return ve.createElement(vn,Pg({className:"recharts-errorBar",key:"bar-".concat(A.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},h),A.map(function(de){return ve.createElement("line",Pg({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return ve.createElement(vn,{className:"recharts-errorBars"},v)}}])})(ve.Component);bM(hp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});bM(hp,"displayName","ErrorBar");function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){Cte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cte(t,e,r){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ete(t){var e=Tte(t,"string");return mh(e)=="symbol"?e:e+""}function Tte(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wM=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=fi(r,Vs);if(!s)return null;var o=Vs.defaultProps,l=o!==void 0?mc(mc({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return d.concat(v.map(function(m){return{type:s.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?mc(mc({},p),f.props):{},v=h.dataKey,m=h.name,g=h.legendType,b=h.hide;return{inactive:b,dataKey:v,type:l.iconType||g||"square",color:YS(f),value:m||v,payload:h}}),mc(mc(mc({},l),Vs.getWithHeight(s,a)),{},{payload:c,item:s})};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function sE(t){return Ite(t)||Lte(t)||kte(t)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kte(t,e){if(t){if(typeof t=="string")return qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(t,e)}}function Lte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ite(t){if(Array.isArray(t))return qw(t)}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(r),!0).forEach(function(n){Wu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wu(t,e,r){return e=Rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rte(t){var e=Mte(t,"string");return gh(e)=="symbol"?e:e+""}function Mte(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xi(t,e,r){return rr(t)||rr(e)?r:Dn(e)?zi(t,e,r):Jt(e)?e(t):r}function qf(t,e,r,n){var a=Iee(t,function(o){return xi(o,e)});if(r==="number"){var i=a.filter(function(o){return Xe(o)||parseFloat(o)});return i.length?[Z0(i),X0(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!rr(o)}):a;return s.map(function(o){return Dn(o)||o instanceof Date?o:""})}var Dte=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n?.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var d=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,p=c>=o-1?a[0].coordinate:a[c+1].coordinate,h=void 0;if(gs(f-d)!==gs(p-f)){var v=[];if(gs(p-f)===gs(l[1]-l[0])){h=p;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{h=d;var g=p+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){s=a[c].index;break}}else{var w=Math.min(d,p),N=Math.max(d,p);if(e>(w+f)/2&&e<=(N+f)/2){s=a[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},YS=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Fte=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var d=i[o[l]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var v=d[f[p]],m=v.items,g=v.cateAxisId,b=m.filter(function(E){return Lo(E.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,N=w!==void 0?on(on({},w),b[0].props):b[0].props,_=N.barSize,A=N[g];s[A]||(s[A]=[]);var C=rr(_)?r:_;s[A].push({item:b[0],stackList:b.slice(1),barSize:rr(C)?void 0:Dc(C,n,0)})}}return s},Bte=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=Dc(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=a/l,v=s.reduce(function(_,A){return _+A.barSize||0},0);v+=(l-1)*c,v>=a&&(v-=(l-1)*c,c=0),v>=a&&h>0&&(p=!0,h*=.9,v=l*h);var m=(a-v)/2>>0,g={offset:m-c,size:0};d=s.reduce(function(_,A){var C={item:A.item,position:{offset:g.offset+g.size+c,size:p?h:A.barSize}},E=[].concat(sE(_),[C]);return g=E[E.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(R){E.push({item:R,position:g})}),E},f)}else{var b=Dc(n,a,0,!0);a-2*b-(l-1)*c<=0&&(c=0);var w=(a-2*b-(l-1)*c)/l;w>1&&(w>>=0);var N=o===+o?Math.min(w,o):w;d=s.reduce(function(_,A,C){var E=[].concat(sE(_),[{item:A.item,position:{offset:b+(w+c)*C+(w-N)/2,size:N}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(R){E.push({item:R,position:E[E.length-1].position})}),E},f)}return d},$te=function(e,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=wM({children:i,legendWidth:l});if(c){var d=a||{},f=d.width,p=d.height,h=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&h!=="center"&&Xe(e[h]))return on(on({},e),{},Wu({},h,e[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&v!=="middle"&&Xe(e[v]))return on(on({},e),{},Wu({},v,e[v]+(p||0)))}return e},qte=function(e,r,n){return rr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},NM=function(e,r,n,a,i){var s=r.props.children,o=Ui(s,hp).filter(function(c){return qte(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=xi(d,n);if(rr(f))return c;var p=Array.isArray(f)?[Z0(f),X0(f)]:[f,f],h=l.reduce(function(v,m){var g=xi(d,m,0),b=p[0]-Math.abs(Array.isArray(g)?g[0]:g),w=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},zte=function(e,r,n,a,i){var s=r.map(function(o){return NM(e,o,n,i,a)}).filter(function(o){return!rr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},SM=function(e,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&NM(e,l,c,a)||qf(e,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},AM=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},jM=function(e,r,n,a){if(a)return e.map(function(l){return l.coordinate});var i,s,o=e.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Eo=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&o?.length>=2?gs(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+c,value:f,offset:c}});return d.filter(function(f){return!sp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:a(f)+c,value:f,index:p,offset:c}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,p){return{coordinate:a(f)+c,value:i?i[f]:f,index:p,offset:c}})},Ex=new WeakMap,nm=function(e,r){if(typeof r!="function")return e;Ex.has(e)||Ex.set(e,new WeakMap);var n=Ex.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Ute=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,o=e.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:lh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Ng(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:$f(),realScaleType:"point"}:i==="category"?{scale:lh(),realScaleType:"band"}:{scale:Ng(),realScaleType:"linear"};if(Mc(a)){var l="scale".concat(M0(a));return{scale:(VC[l]||$f)(),realScaleType:VC[l]?l:"point"}}return Jt(a)?{scale:a}:{scale:$f(),realScaleType:"point"}},lE=1e-4,Wte=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-lE,s=Math.max(a[0],a[1])+lE,o=e(r[0]),l=e(r[n-1]);(o<i||o>s||l<i||l>s)&&e.domain([r[0],r[n-1]])}},Hte=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},Vte=function(e,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Xe(e[0])||e[0]<n)&&(i[0]=n),(!Xe(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Gte=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=sp(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},Kte=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=sp(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Yte={sign:Gte,expand:kK,none:nd,silhouette:LK,wiggle:IK,positive:Kte},Xte=function(e,r,n){var a=r.map(function(o){return o.props.dataKey}),i=Yte[n],s=OK().keys(a).value(function(o,l){return+xi(o,l,0)}).order(vw).offset(i);return s(e)},Zte=function(e,r,n,a,i,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?on(on({},p.type.defaultProps),p.props):p.props,m=v.stackId,g=v.hide;if(g)return f;var b=v[n],w=f[b]||{hasStack:!1,stackGroups:{}};if(Dn(m)){var N=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(p),w.hasStack=!0,w.stackGroups[m]=N}else w.stackGroups[op("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return on(on({},f),{},Wu({},b,w))},l),d={};return Object.keys(c).reduce(function(f,p){var h=c[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,g){var b=h.stackGroups[g];return on(on({},m),{},Wu({},g,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:Xte(e,b.items,i)}))},v)}return on(on({},f),{},Wu({},p,h))},d)},Jte=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=cte(c,i,o);return e.domain([Z0(d),X0(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),p=ute(f,i,o);return{niceTicks:p}}return null};function cE(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rr(a[e.dataKey])){var o=rg(r,"value",a[e.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=xi(a,rr(s)?e.dataKey:s);return rr(l)?null:e.scale(l)}var uE=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=xi(s,r.dataKey,r.domain[o]);return rr(l)?null:r.scale(l)-i/2+a},Qte=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},ere=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Dn(i)){var s=r[i];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},tre=function(e){return e.reduce(function(r,n){return[Z0(n.concat([r[0]]).filter(Xe)),X0(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},_M=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],o=s.stackedData,l=o.reduce(function(c,d){var f=tre(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},dE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zw=function(e,r,n){if(Jt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Xe(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(dE.test(e[0])){var i=+dE.exec(e[0])[1];a[0]=r[0]-i}else Jt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Xe(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(fE.test(e[1])){var s=+fE.exec(e[1])[1];a[1]=r[1]+s}else Jt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Eg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=NS(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],d=i[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},hE=function(e,r,n){return!e||!e.length||J0(e,zi(n,"type.defaultProps.domain"))?r:e},PM=function(e,r){var n=e.type.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return on(on({},ar(e,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:YS(e),value:xi(r,a),type:l,payload:r,chartType:c,hide:d})};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){rre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rre(t,e,r){return e=nre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nre(t){var e=are(t,"string");return vh(e)=="symbol"?e:e+""}function are(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tg=Math.PI/180,ire=function(e){return e*180/Math.PI},sa=function(e,r,n,a){return{x:e+Math.cos(-Tg*a)*n,y:r+Math.sin(-Tg*a)*n}},sre=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},ore=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,o=sre({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:ire(c),angleInRadian:c}},lre=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},cre=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return e+o*360},gE=function(e,r){var n=e.x,a=e.y,i=ore({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=lre(r),f=d.startAngle,p=d.endAngle,h=o,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?mE(mE({},r),{},{radius:s,angle:cre(h,r)}):null};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}var ure=["offset"];function dre(t){return mre(t)||pre(t)||hre(t)||fre()}function fre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hre(t,e){if(t){if(typeof t=="string")return Uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(t,e)}}function pre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mre(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gre(t,e){if(t==null)return{};var r=vre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(r),!0).forEach(function(n){yre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yre(t,e,r){return e=bre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bre(t){var e=xre(t,"string");return yh(e)=="symbol"?e:e+""}function xre(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bh.apply(this,arguments)}var wre=function(e){var r=e.value,n=e.formatter,a=rr(e.children)?r:e.children;return Jt(n)?n(a):a},Nre=function(e,r){var n=gs(r-e),a=Math.min(Math.abs(r-e),360);return n*a},Sre=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,o=e.className,l=i,c=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+p)/2,b=Nre(h,v),w=b>=0?1:-1,N,_;a==="insideStart"?(N=h+w*s,_=m):a==="insideEnd"?(N=v-w*s,_=!m):a==="end"&&(N=v+w*s,_=m),_=b<=0?_:!_;var A=sa(c,d,g,N),C=sa(c,d,g,N+(_?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),R=rr(e.id)?op("recharts-radial-line-"):e.id;return ve.createElement("text",bh({},n,{dominantBaseline:"central",className:ir("recharts-radial-bar-label",o)}),ve.createElement("defs",null,ve.createElement("path",{id:R,d:E})),ve.createElement("textPath",{xlinkHref:"#".concat(R)},r))},Are=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=sa(s,o,c+n,p),v=h.x,m=h.y;return{x:v,y:m,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,b=sa(s,o,g,p),w=b.x,N=b.y;return{x:w,y:N,textAnchor:"middle",verticalAnchor:"middle"}},jre=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,o=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",v=f>0?"start":"end",m=c>=0?1:-1,g=m*a,b=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var N={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:h};return Mn(Mn({},N),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var _={x:o+c/2,y:l+d+p,textAnchor:"middle",verticalAnchor:v};return Mn(Mn({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(i==="left"){var A={x:o-g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Mn(Mn({},A),n?{width:Math.max(A.x-n.x,0),height:d}:{})}if(i==="right"){var C={x:o+c+g,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Mn(Mn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var E=n?{width:c,height:d}:{};return i==="insideLeft"?Mn({x:o+g,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},E):i==="insideRight"?Mn({x:o+c-g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideTop"?Mn({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},E):i==="insideBottom"?Mn({x:o+c/2,y:l+d-p,textAnchor:"middle",verticalAnchor:h},E):i==="insideTopLeft"?Mn({x:o+g,y:l+p,textAnchor:w,verticalAnchor:v},E):i==="insideTopRight"?Mn({x:o+c-g,y:l+p,textAnchor:b,verticalAnchor:v},E):i==="insideBottomLeft"?Mn({x:o+g,y:l+d-p,textAnchor:w,verticalAnchor:h},E):i==="insideBottomRight"?Mn({x:o+c-g,y:l+d-p,textAnchor:b,verticalAnchor:h},E):Fd(i)&&(Xe(i.x)||wc(i.x))&&(Xe(i.y)||wc(i.y))?Mn({x:o+Dc(i.x,c),y:l+Dc(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):Mn({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},_re=function(e){return"cx"in e&&Xe(e.cx)};function xa(t){var e=t.offset,r=e===void 0?5:e,n=gre(t,ure),a=Mn({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||rr(o)&&rr(l)&&!j.isValidElement(c)&&!Jt(c))return null;if(j.isValidElement(c))return j.cloneElement(c,a);var h;if(Jt(c)){if(h=j.createElement(c,a),j.isValidElement(h))return h}else h=wre(a);var v=_re(i),m=ar(a,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Sre(a,h,m);var g=v?Are(a):jre(a);return ve.createElement(mg,bh({className:ir("recharts-label",f)},m,g,{breakAll:p}),h)}xa.displayName="Label";var CM=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,h=e.top,v=e.left,m=e.width,g=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(Xe(m)&&Xe(g)){if(Xe(f)&&Xe(p))return{x:f,y:p,width:m,height:g};if(Xe(h)&&Xe(v))return{x:h,y:v,width:m,height:g}}return Xe(f)&&Xe(p)?{x:f,y:p,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},Pre=function(e,r){return e?e===!0?ve.createElement(xa,{key:"label-implicit",viewBox:r}):Dn(e)?ve.createElement(xa,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===xa?j.cloneElement(e,{key:"label-implicit",viewBox:r}):ve.createElement(xa,{key:"label-implicit",content:e,viewBox:r}):Jt(e)?ve.createElement(xa,{key:"label-implicit",content:e,viewBox:r}):Fd(e)?ve.createElement(xa,bh({viewBox:r},e,{key:"label-implicit"})):null:null},Cre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=CM(e),s=Ui(a,xa).map(function(l,c){return j.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=Pre(e.label,r||i);return[o].concat(dre(s))};xa.parseViewBox=CM;xa.renderCallByParent=Cre;var Tx,yE;function Ere(){if(yE)return Tx;yE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Tx=t,Tx}var Tre=Ere();const Ore=mr(Tre);function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}var kre=["valueAccessor"],Lre=["data","dataKey","clockWise","id","textBreakAll"];function Ire(t){return Fre(t)||Dre(t)||Mre(t)||Rre()}function Rre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mre(t,e){if(t){if(typeof t=="string")return Ww(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(t,e)}}function Dre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fre(t){if(Array.isArray(t))return Ww(t)}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Og.apply(this,arguments)}function bE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(r),!0).forEach(function(n){Bre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bre(t,e,r){return e=$re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $re(t){var e=qre(t,"string");return xh(e)=="symbol"?e:e+""}function qre(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wE(t,e){if(t==null)return{};var r=zre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ure=function(e){return Array.isArray(e.value)?Ore(e.value):e.value};function Ml(t){var e=t.valueAccessor,r=e===void 0?Ure:e,n=wE(t,kre),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=wE(n,Lre);return!a||!a.length?null:ve.createElement(vn,{className:"recharts-label-list"},a.map(function(d,f){var p=rr(i)?r(d,f):xi(d&&d.payload,i),h=rr(o)?{}:{id:"".concat(o,"-").concat(f)};return ve.createElement(xa,Og({},ar(d,!0),c,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:xa.parseViewBox(rr(s)?d:xE(xE({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ml.displayName="LabelList";function Wre(t,e){return t?t===!0?ve.createElement(Ml,{key:"labelList-implicit",data:e}):ve.isValidElement(t)||Jt(t)?ve.createElement(Ml,{key:"labelList-implicit",data:e,content:t}):Fd(t)?ve.createElement(Ml,Og({data:e},t,{key:"labelList-implicit"})):null:null}function Hre(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ui(n,Ml).map(function(s,o){return j.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return a;var i=Wre(t.label,e);return[i].concat(Ire(a))}Ml.renderCallByParent=Hre;function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hw.apply(this,arguments)}function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){Vre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vre(t,e,r){return e=Gre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gre(t){var e=Kre(t,"string");return wh(e)=="symbol"?e:e+""}function Kre(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yre=function(e,r){var n=gs(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},am=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+a,f=Math.asin(l/d)/Tg,p=c?i:i+s*f,h=sa(r,n,d,p),v=sa(r,n,a,p),m=c?i-s*f:i,g=sa(r,n,d*Math.cos(f*Tg),m);return{center:h,circleTangency:v,lineTangency:g,theta:f}},EM=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Yre(s,o),c=s+l,d=sa(r,n,i,s),f=sa(r,n,i,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=sa(r,n,a,s),v=sa(r,n,a,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Xre=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=gs(d-c),p=am({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=p.circleTangency,v=p.lineTangency,m=p.theta,g=am({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=g.circleTangency,w=g.lineTangency,N=g.theta,_=l?Math.abs(c-d):Math.abs(c-d)-m-N;if(_<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):EM({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var C=am({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=C.circleTangency,R=C.lineTangency,L=C.theta,U=am({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=U.circleTangency,O=U.lineTangency,k=U.theta,M=l?Math.abs(c-d):Math.abs(c-d)-L-k;if(M<0&&s===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},Zre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TM=function(e){var r=SE(SE({},Zre),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(s<i||d===f)return null;var h=ir("recharts-sector",p),v=s-i,m=Dc(o,v,0,!0),g;return m>0&&Math.abs(d-f)<360?g=Xre({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):g=EM({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),ve.createElement("path",Hw({},ar(r,!0),{className:h,d:g,role:"img"}))};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vw.apply(this,arguments)}function AE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(r),!0).forEach(function(n){Jre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jre(t,e,r){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qre(t){var e=ene(t,"string");return Nh(e)=="symbol"?e:e+""}function ene(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _E={curveBasisClosed:xK,curveBasisOpen:wK,curveBasis:bK,curveBumpX:iK,curveBumpY:sK,curveLinearClosed:NK,curveLinear:F0,curveMonotoneX:SK,curveMonotoneY:AK,curveNatural:jK,curveStep:_K,curveStepAfter:CK,curveStepBefore:PK},im=function(e){return e.x===+e.x&&e.y===+e.y},Nf=function(e){return e.x},Sf=function(e){return e.y},tne=function(e,r){if(Jt(e))return e;var n="curve".concat(M0(e));return(n==="curveMonotone"||n==="curveBump")&&r?_E["".concat(n).concat(r==="vertical"?"Y":"X")]:_E[n]||F0},rne=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=tne(n,o),f=c?i.filter(function(m){return im(m)}):i,p;if(Array.isArray(s)){var h=c?s.filter(function(m){return im(m)}):s,v=f.map(function(m,g){return jE(jE({},m),{},{base:h[g]})});return o==="vertical"?p=Xp().y(Sf).x1(Nf).x0(function(m){return m.base.x}):p=Xp().x(Nf).y1(Sf).y0(function(m){return m.base.y}),p.defined(im).curve(d),p(v)}return o==="vertical"&&Xe(s)?p=Xp().y(Sf).x1(Nf).x0(s):Xe(s)?p=Xp().x(Nf).y1(Sf).y0(s):p=R8().x(Nf).y(Sf),p.defined(im).curve(d),p(f)},Gw=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?rne(e):a;return j.createElement("path",Vw({},ar(e,!1),ng(e),{className:ir("recharts-curve",r),d:s,ref:i}))},Ox={exports:{}},kx,PE;function nne(){if(PE)return kx;PE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kx=t,kx}var Lx,CE;function ane(){if(CE)return Lx;CE=1;var t=nne();function e(){}function r(){}return r.resetWarningCache=e,Lx=function(){function n(s,o,l,c,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Lx}var EE;function ine(){return EE||(EE=1,Ox.exports=ane()()),Ox.exports}var sne=ine();const br=mr(sne);var one=Object.getOwnPropertyNames,lne=Object.getOwnPropertySymbols,cne=Object.prototype.hasOwnProperty;function TE(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function sm(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=t(r,n,a);return i.delete(r),i.delete(n),l}}function une(t){return t?.[Symbol.toStringTag]}function OE(t){return one(t).concat(lne(t))}var dne=Object.hasOwn||(function(t,e){return cne.call(t,e)});function eu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var fne="__v",hne="__o",pne="_owner",kE=Object.getOwnPropertyDescriptor,LE=Object.keys;function mne(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function gne(t,e){return eu(t.getTime(),e.getTime())}function vne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yne(t,e){return t===e}function IE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=e.entries(),d=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var p=s.value,h=o.value;if(r.equals(p[0],h[0],l,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var bne=eu;function xne(t,e,r){var n=LE(t),a=n.length;if(LE(e).length!==a)return!1;for(;a-- >0;)if(!OM(t,e,r,n[a]))return!1;return!0}function Af(t,e,r){var n=OE(t),a=n.length;if(OE(e).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!OM(t,e,r,i)||(s=kE(t,i),o=kE(e,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function wne(t,e){return eu(t.valueOf(),e.valueOf())}function Nne(t,e){return t.source===e.source&&t.flags===e.flags}function RE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,o;(s=i.next())&&!s.done;){for(var l=e.values(),c=!1,d=0;(o=l.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function Sne(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Ane(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function OM(t,e,r,n){return(n===pne||n===hne||n===fne)&&(t.$$typeof||e.$$typeof)?!0:dne(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var jne="[object Arguments]",_ne="[object Boolean]",Pne="[object Date]",Cne="[object Error]",Ene="[object Map]",Tne="[object Number]",One="[object Object]",kne="[object RegExp]",Lne="[object Set]",Ine="[object String]",Rne="[object URL]",Mne=Array.isArray,ME=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DE=Object.assign,Dne=Object.prototype.toString.call.bind(Object.prototype.toString);function Fne(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,h=t.unknownTagComparators;return function(m,g,b){if(m===g)return!0;if(m==null||g==null)return!1;var w=typeof m;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?s(m,g,b):w==="function"?a(m,g,b):!1;var N=m.constructor;if(N!==g.constructor)return!1;if(N===Object)return o(m,g,b);if(Mne(m))return e(m,g,b);if(ME!=null&&ME(m))return f(m,g,b);if(N===Date)return r(m,g,b);if(N===RegExp)return c(m,g,b);if(N===Map)return i(m,g,b);if(N===Set)return d(m,g,b);var _=Dne(m);if(_===Pne)return r(m,g,b);if(_===kne)return c(m,g,b);if(_===Ene)return i(m,g,b);if(_===Lne)return d(m,g,b);if(_===One)return typeof m.then!="function"&&typeof g.then!="function"&&o(m,g,b);if(_===Rne)return p(m,g,b);if(_===Cne)return n(m,g,b);if(_===jne)return o(m,g,b);if(_===_ne||_===Tne||_===Ine)return l(m,g,b);if(h){var A=h[_];if(!A){var C=une(m);C&&(A=h[C])}if(A)return A(m,g,b)}return!1}}function Bne(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Af:mne,areDatesEqual:gne,areErrorsEqual:vne,areFunctionsEqual:yne,areMapsEqual:n?TE(IE,Af):IE,areNumbersEqual:bne,areObjectsEqual:n?Af:xne,arePrimitiveWrappersEqual:wne,areRegExpsEqual:Nne,areSetsEqual:n?TE(RE,Af):RE,areTypedArraysEqual:n?Af:Sne,areUrlsEqual:Ane,unknownTagComparators:void 0};if(r&&(a=DE({},a,r(a))),e){var i=sm(a.areArraysEqual),s=sm(a.areMapsEqual),o=sm(a.areObjectsEqual),l=sm(a.areSetsEqual);a=DE({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function $ne(t){return function(e,r,n,a,i,s,o){return t(e,r,o)}}function qne(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(l,c){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(l,c,{cache:p,equals:a,meta:h,strict:i})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var zne=Kl();Kl({strict:!0});Kl({circular:!0});Kl({circular:!0,strict:!0});Kl({createInternalComparator:function(){return eu}});Kl({strict:!0,createInternalComparator:function(){return eu}});Kl({circular:!0,createInternalComparator:function(){return eu}});Kl({circular:!0,createInternalComparator:function(){return eu},strict:!0});function Kl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,o=Bne(t),l=Fne(o),c=n?n(l):$ne(l);return qne({circular:r,comparator:l,createState:a,equals:c,strict:s})}function Une(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function FE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Une(a)};requestAnimationFrame(n)}function Kw(t){"@babel/helpers - typeof";return Kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kw(t)}function Wne(t){return Kne(t)||Gne(t)||Vne(t)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vne(t,e){if(t){if(typeof t=="string")return BE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(t,e)}}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kne(t){if(Array.isArray(t))return t}function Yne(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=Wne(s),l=o[0],c=o.slice(1);if(typeof l=="number"){FE(a.bind(null,c),l);return}a(l),FE(a.bind(null,c));return}Kw(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){kM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kM(t,e,r){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xne(t){var e=Zne(t,"string");return Sh(e)==="symbol"?e:String(e)}function Zne(t,e){if(Sh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jne=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Qne=function(e){return e},eae=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},zf=function(e,r){return Object.keys(r).reduce(function(n,a){return qE(qE({},n),{},kM({},a,e(a,r[a])))},{})},zE=function(e,r,n){return e.map(function(a){return"".concat(eae(a)," ").concat(r,"ms ").concat(n)}).join(",")};function tae(t,e){return aae(t)||nae(t,e)||LM(t,e)||rae()}function rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function aae(t){if(Array.isArray(t))return t}function iae(t){return lae(t)||oae(t)||LM(t)||sae()}function sae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LM(t,e){if(t){if(typeof t=="string")return Yw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(t,e)}}function oae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lae(t){if(Array.isArray(t))return Yw(t)}function Yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kg=1e-4,IM=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},RM=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},UE=function(e,r){return function(n){var a=IM(e,r);return RM(a,n)}},cae=function(e,r){return function(n){var a=IM(e,r),i=[].concat(iae(a.map(function(s,o){return s*o}).slice(1)),[0]);return RM(i,n)}},WE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=tae(c,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=UE(a,s),p=UE(i,o),h=cae(a,s),v=function(b){return b>1?1:b<0?0:b},m=function(b){for(var w=b>1?1:b,N=w,_=0;_<8;++_){var A=f(N)-w,C=h(N);if(Math.abs(A-w)<kg||C<kg)return p(N);N=v(N-A/C)}return p(N)};return m.isStepper=!1,m},uae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,o=s===void 0?17:s,l=function(d,f,p){var h=-(d-f)*n,v=p*i,m=p+(h-v)*o/1e3,g=p*o/1e3+d;return Math.abs(g-f)<kg&&Math.abs(m)<kg?[f,0]:[g,m]};return l.isStepper=!0,l.dt=o,l},dae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WE(a);case"spring":return uae();default:if(a.split("(")[0]==="cubic-bezier")return WE(a)}return typeof a=="function"?a:null};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function HE(t){return pae(t)||hae(t)||MM(t)||fae()}function fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pae(t){if(Array.isArray(t))return Zw(t)}function VE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(r),!0).forEach(function(n){Xw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xw(t,e,r){return e=mae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mae(t){var e=gae(t,"string");return Ah(e)==="symbol"?e:String(e)}function gae(t,e){if(Ah(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vae(t,e){return xae(t)||bae(t,e)||MM(t,e)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MM(t,e){if(t){if(typeof t=="string")return Zw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zw(t,e)}}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function xae(t){if(Array.isArray(t))return t}var Lg=function(e,r,n){return e+(r-e)*n},Jw=function(e){var r=e.from,n=e.to;return r!==n},wae=function t(e,r,n){var a=zf(function(i,s){if(Jw(s)){var o=e(s.from,s.to,s.velocity),l=vae(o,2),c=l[0],d=l[1];return aa(aa({},s),{},{from:c,velocity:d})}return s},r);return n<1?zf(function(i,s){return Jw(s)?aa(aa({},s),{},{velocity:Lg(s.velocity,a[i].velocity,n),from:Lg(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const Nae=(function(t,e,r,n,a){var i=Jne(t,e),s=i.reduce(function(g,b){return aa(aa({},g),{},Xw({},b,[t[b],e[b]]))},{}),o=i.reduce(function(g,b){return aa(aa({},g),{},Xw({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,d,f=function(){return null},p=function(){return zf(function(b,w){return w.from},o)},h=function(){return!Object.values(o).filter(Jw).length},v=function(b){c||(c=b);var w=b-c,N=w/r.dt;o=wae(r,o,N),a(aa(aa(aa({},t),e),p())),c=b,h()||(l=requestAnimationFrame(f))},m=function(b){d||(d=b);var w=(b-d)/n,N=zf(function(A,C){return Lg.apply(void 0,HE(C).concat([r(w)]))},s);if(a(aa(aa(aa({},t),e),N)),w<1)l=requestAnimationFrame(f);else{var _=zf(function(A,C){return Lg.apply(void 0,HE(C).concat([r(1)]))},s);a(aa(aa(aa({},t),e),_))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}var Sae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Aae(t,e){if(t==null)return{};var r=jae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jae(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Ix(t){return Eae(t)||Cae(t)||Pae(t)||_ae()}function _ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pae(t,e){if(t){if(typeof t=="string")return Qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qw(t,e)}}function Cae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eae(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){Lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lf(t,e,r){return e=DM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DM(n.key),n)}}function kae(t,e,r){return e&&Oae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DM(t){var e=Lae(t,"string");return fd(e)==="symbol"?e:String(e)}function Lae(t,e){if(fd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e5(t,e)}function e5(t,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e5(t,e)}function Rae(t){var e=Mae();return function(){var n=Ig(t),a;if(e){var i=Ig(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return t5(this,a)}}function t5(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r5(t)}function r5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(t)}var Wo=(function(t){Iae(r,t);var e=Rae(r);function r(n,a){var i;Tae(this,r),i=e.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,p=s.children,h=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(r5(i)),i.changeStyle=i.changeStyle.bind(r5(i)),!o||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),t5(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof p=="function")return i.state={style:c},t5(i);i.state={style:l?Lf({},l,c):c}}else i.state={style:{}};return i}return kae(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(o){if(!s){var h={style:l?Lf({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(h);return}if(!(zne(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?f:a.to;if(this.state&&p){var g={style:l?Lf({},l,m):m};(l&&p[l]!==m||!l&&p!==m)&&this.setState(g)}this.runAnimation(ns(ns({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=Nae(s,o,dae(c),l,this.changeStyle),v=function(){i.stopJSAnimation=h()};this.manager.start([p,d,v,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],d=c.style,f=c.duration,p=f===void 0?0:f,h=function(m,g,b){if(b===0)return m;var w=g.duration,N=g.easing,_=N===void 0?"ease":N,A=g.style,C=g.properties,E=g.onAnimationEnd,R=b>0?s[b-1]:g,L=C||Object.keys(A);if(typeof _=="function"||_==="spring")return[].concat(Ix(m),[i.runJSAnimation.bind(i,{from:R.style,to:A,duration:w,easing:_}),w]);var U=zE(L,w,_),S=ns(ns(ns({},R.style),A),{},{transition:U});return[].concat(Ix(m),[S,w,E]).filter(Qne)};return this.manager.start([l].concat(Ix(s.reduce(h,[d,Math.max(p,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Yne());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var m=o?Lf({},o,l):l,g=zE(Object.keys(m),s,c);v.start([d,i,ns(ns({},m),{},{transition:g}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Aae(a,Sae),c=j.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||c===0||s<=0)return i;var f=function(h){var v=h.props,m=v.style,g=m===void 0?{}:m,b=v.className,w=j.cloneElement(h,ns(ns({},l),{},{style:ns(ns({},g),d),className:b}));return w};return c===1?f(j.Children.only(i)):ve.createElement("div",null,j.Children.map(i,function(p){return f(p)}))}}]),r})(j.PureComponent);Wo.displayName="Animate";Wo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wo.propTypes={from:br.oneOfType([br.object,br.string]),to:br.oneOfType([br.object,br.string]),attributeName:br.string,duration:br.number,begin:br.number,easing:br.oneOfType([br.string,br.func]),steps:br.arrayOf(br.shape({duration:br.number.isRequired,style:br.object.isRequired,easing:br.oneOfType([br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),br.func]),properties:br.arrayOf("string"),onAnimationEnd:br.func})),children:br.oneOfType([br.node,br.func]),isActive:br.bool,canBegin:br.bool,onAnimationEnd:br.func,shouldReAnimate:br.bool,onAnimationStart:br.func,onAnimationReStart:br.func};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rg.apply(this,arguments)}function Dae(t,e){return qae(t)||$ae(t,e)||Bae(t,e)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bae(t,e){if(t){if(typeof t=="string")return KE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(t,e)}}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function qae(t){if(Array.isArray(t))return t}function YE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(r),!0).forEach(function(n){zae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zae(t,e,r){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uae(t){var e=Wae(t,"string");return jh(e)=="symbol"?e:e+""}function Wae(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZE=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>s?s:i[p];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+a)),d+="L ".concat(e+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);d="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+a-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n-l*v,",").concat(r+a,`
            L `).concat(e+l*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(r+a-o*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Hae=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=c&&n<=d&&a>=f&&a<=p}return!1},Vae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XS=function(e){var r=XE(XE({},Vae),e),n=j.useRef(),a=j.useState(-1),i=Dae(a,2),s=i[0],o=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var N=ir("recharts-rectangle",h);return w?ve.createElement(Wo,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:m,animationEasing:v,isActive:w},function(_){var A=_.width,C=_.height,E=_.x,R=_.y;return ve.createElement(Wo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:b,easing:v},ve.createElement("path",Rg({},ar(r,!0),{className:N,d:ZE(E,R,A,C,p),ref:n})))}):ve.createElement("path",Rg({},ar(r,!0),{className:N,d:ZE(l,c,d,f,p)}))};function n5(){return n5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n5.apply(this,arguments)}var ZS=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=ir("recharts-dot",i);return r===+r&&n===+n&&a===+a?j.createElement("circle",n5({},ar(e,!1),ng(e),{className:s,cx:r,cy:n,r:a})):null};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}var Gae=["x","y","top","left","width","height","className"];function a5(){return a5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a5.apply(this,arguments)}function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){Yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yae(t,e,r){return e=Xae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xae(t){var e=Zae(t,"string");return _h(e)=="symbol"?e:e+""}function Zae(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jae(t,e){if(t==null)return{};var r=Qae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var eie=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},tie=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,p=e.height,h=p===void 0?0:p,v=e.className,m=Jae(e,Gae),g=Kae({x:n,y:i,top:o,left:c,width:f,height:h},m);return!Xe(n)||!Xe(i)||!Xe(f)||!Xe(h)||!Xe(o)||!Xe(c)?null:ve.createElement("path",a5({},ar(g,!0),{className:ir("recharts-cross",v),d:eie(n,i,f,h,o,c)}))},Rx,QE;function rie(){if(QE)return Rx;QE=1;var t=aR(),e=t(Object.getPrototypeOf,Object);return Rx=e,Rx}var Mx,e6;function nie(){if(e6)return Mx;e6=1;var t=Ko(),e=rie(),r=Yo(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,l=s.call(Object);function c(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=o.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==l}return Mx=c,Mx}var aie=nie();const iie=mr(aie);var Dx,t6;function sie(){if(t6)return Dx;t6=1;var t=Ko(),e=Yo(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Dx=n,Dx}var oie=sie();const lie=mr(oie);function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mg.apply(this,arguments)}function cie(t,e){return hie(t)||fie(t,e)||die(t,e)||uie()}function uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function die(t,e){if(t){if(typeof t=="string")return r6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r6(t,e)}}function r6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hie(t){if(Array.isArray(t))return t}function n6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(r),!0).forEach(function(n){pie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pie(t,e,r){return e=mie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mie(t){var e=gie(t,"string");return Ph(e)=="symbol"?e:e+""}function gie(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i6=function(e,r,n,a,i){var s=n-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+i),o+="L ".concat(e+n-s/2-a,",").concat(r+i),o+="L ".concat(e,",").concat(r," Z"),o},vie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yie=function(e){var r=a6(a6({},vie),e),n=j.useRef(),a=j.useState(-1),i=cie(a,2),s=i[0],o=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var w=ir("recharts-trapezoid",h);return b?ve.createElement(Wo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:p,x:l,y:c},duration:m,animationEasing:v,isActive:b},function(N){var _=N.upperWidth,A=N.lowerWidth,C=N.height,E=N.x,R=N.y;return ve.createElement(Wo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},ve.createElement("path",Mg({},ar(r,!0),{className:w,d:i6(E,R,_,A,C),ref:n})))}):ve.createElement("g",null,ve.createElement("path",Mg({},ar(r,!0),{className:w,d:i6(l,c,d,f,p)})))},bie=["option","shapeType","propTransformer","activeClassName","isActive"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function xie(t,e){if(t==null)return{};var r=wie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function s6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(r),!0).forEach(function(n){Nie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nie(t,e,r){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sie(t){var e=Aie(t,"string");return Ch(e)=="symbol"?e:e+""}function Aie(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jie(t,e){return Dg(Dg({},e),t)}function _ie(t,e){return t==="symbols"}function o6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ve.createElement(XS,r);case"trapezoid":return ve.createElement(yie,r);case"sector":return ve.createElement(TM,r);case"symbols":if(_ie(e))return ve.createElement(pS,r);break;default:return null}}function Pie(t){return j.isValidElement(t)?t.props:t}function Cie(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?jie:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,o=t.isActive,l=xie(t,bie),c;if(j.isValidElement(e))c=j.cloneElement(e,Dg(Dg({},l),Pie(e)));else if(Jt(e))c=e(l);else if(iie(e)&&!lie(e)){var d=a(e,l);c=ve.createElement(o6,{shapeType:r,elementProps:d})}else{var f=l;c=ve.createElement(o6,{shapeType:r,elementProps:f})}return o?ve.createElement(vn,{className:s},c):c}function tv(t,e){return e!=null&&"trapezoids"in t.props}function rv(t,e){return e!=null&&"sectors"in t.props}function Eh(t,e){return e!=null&&"points"in t.props}function Eie(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function Tie(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Oie(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function kie(t,e){var r;return tv(t,e)?r=Eie:rv(t,e)?r=Tie:Eh(t,e)&&(r=Oie),r}function Lie(t,e){var r;return tv(t,e)?r="trapezoids":rv(t,e)?r="sectors":Eh(t,e)&&(r="points"),r}function Iie(t,e){if(tv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(rv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Eh(t,e)?e.payload:{}}function Rie(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Lie(r,e),i=Iie(r,e),s=n.filter(function(l,c){var d=J0(i,l),f=r.props[a].filter(function(v){var m=kie(r,e);return m(v,e)}),p=r.props[a].indexOf(f[f.length-1]),h=c===p;return d&&h}),o=n.indexOf(s[s.length-1]);return o}var Fx,l6;function Mie(){if(l6)return Fx;l6=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var o=-1,l=e(t((a-n)/(i||1)),0),c=Array(l);l--;)c[s?l:++o]=n,n+=i;return c}return Fx=r,Fx}var Bx,c6;function FM(){if(c6)return Bx;c6=1;var t=xR(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return Bx=n,Bx}var $x,u6;function Die(){if(u6)return $x;u6=1;var t=Mie(),e=z0(),r=FM();function n(a){return function(i,s,o){return o&&typeof o!="number"&&e(i,s,o)&&(s=o=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),o=o===void 0?i<s?1:-1:r(o),t(i,s,o,a)}}return $x=n,$x}var qx,d6;function Fie(){if(d6)return qx;d6=1;var t=Die(),e=t();return qx=e,qx}var Bie=Fie();const Fg=mr(Bie);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function f6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function h6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(r),!0).forEach(function(n){BM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BM(t,e,r){return e=$ie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ie(t){var e=qie(t,"string");return Th(e)=="symbol"?e:e+""}function qie(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zie=["Webkit","Moz","O","ms"],Uie=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=zie.reduce(function(i,s){return h6(h6({},i),{},BM({},s+n,r))},{});return a[e]=r,a};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bg.apply(this,arguments)}function p6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(r),!0).forEach(function(n){ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qM(n.key),n)}}function Hie(t,e,r){return e&&m6(t.prototype,e),r&&m6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vie(t,e,r){return e=$g(e),Gie(t,$M()?Reflect.construct(e,r||[],$g(t).constructor):e.apply(t,r))}function Gie(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kie(t)}function Kie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($M=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(t)}function Yie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i5(t,e)}function i5(t,e){return i5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i5(t,e)}function ui(t,e,r){return e=qM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qM(t){var e=Xie(t,"string");return hd(e)=="symbol"?e:e+""}function Xie(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zie=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=$f().domain(Fg(0,l)).range([i,i+s-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:d}},g6=function(e){return e.changedTouches&&!!e.changedTouches.length},pd=(function(t){function e(r){var n;return Wie(this,e),n=Vie(this,e,[r]),ui(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ui(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ui(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s?.({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),ui(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ui(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ui(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ui(n,"handleSlideDragStart",function(a){var i=g6(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Yie(e,t),Hie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(a,i),p=Math.max(a,i),h=e.getIndexInRange(s,f),v=e.getIndexInRange(s,p);return{startIndex:h-h%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=xi(i[n],o,n);return Jt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,v=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+d-f-o,c+d-f-s):m<0&&(m=Math.max(m,c-s,c-o));var g=this.getIndex({startX:s+m,endX:o+m});(g.startIndex!==p||g.endIndex!==h)&&v&&v(g),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=g6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+p-h-c):w<0&&(w=Math.max(w,f-c)),b[s]=c+w;var N=this.getIndex(b),_=N.startIndex,A=N.endIndex,C=function(){var R=g.length-1;return s==="startX"&&(o>l?_%m===0:A%m===0)||o<l&&A===R||s==="endX"&&(o>l?A%m===0:_%m===0)||o>l&&A===R};this.setState(ui(ui({},s,c+w),"brushMoveStartX",n.pageX),function(){v&&C()&&v(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var h=o[p];a==="startX"&&h>=c||a==="endX"&&h<=l||this.setState(ui({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return ve.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,d=n.padding,f=j.Children.only(c);return f?ve.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,b=Math.max(n,this.props.x),w=zx(zx({},ar(this.props,!1)),{},{x:b,y:c,width:d,height:f}),N=h||"Min value: ".concat((i=v[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=v[g])===null||s===void 0?void 0:s.name);return ve.createElement(vn,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,d=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,v={pointerEvents:"none",fill:c};return ve.createElement(vn,{className:"recharts-brush-texts"},ve.createElement(mg,Bg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+o/2},v),this.getTextOfTick(a)),ve.createElement(mg,Bg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:s+o/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,m=p.isTextActive,g=p.isSlideMoving,b=p.isTravellerMoving,w=p.isTravellerFocused;if(!a||!a.length||!Xe(o)||!Xe(l)||!Xe(c)||!Xe(d)||c<=0||d<=0)return null;var N=ir("recharts-brush",i),_=ve.Children.count(s)===1,A=Uie("userSelect","none");return ve.createElement(vn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return ve.createElement(ve.Fragment,null,ve.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),ve.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),ve.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ve.isValidElement(n)?i=ve.cloneElement(n,a):Jt(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return zx({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?Zie({data:i,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])})(j.PureComponent);ui(pd,"displayName","Brush");ui(pd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ux,v6;function Jie(){if(v6)return Ux;v6=1;var t=wS();function e(r,n){var a;return t(r,function(i,s,o){return a=n(i,s,o),!a}),!!a}return Ux=e,Ux}var Wx,y6;function Qie(){if(y6)return Wx;y6=1;var t=Z8(),e=Hl(),r=Jie(),n=Va(),a=z0();function i(s,o,l){var c=n(s)?t:r;return l&&a(s,o,l)&&(o=void 0),c(s,e(o,3))}return Wx=i,Wx}var ese=Qie();const tse=mr(ese);var Ks=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Hx,b6;function rse(){if(b6)return Hx;b6=1;var t=mR();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Hx=e,Hx}var Vx,x6;function nse(){if(x6)return Vx;x6=1;var t=rse(),e=hR(),r=Hl();function n(a,i){var s={};return i=r(i,3),e(a,function(o,l,c){t(s,l,i(o,l,c))}),s}return Vx=n,Vx}var ase=nse();const ise=mr(ase);var Gx,w6;function sse(){if(w6)return Gx;w6=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Gx=t,Gx}var Kx,N6;function ose(){if(N6)return Kx;N6=1;var t=wS();function e(r,n){var a=!0;return t(r,function(i,s,o){return a=!!n(i,s,o),a}),a}return Kx=e,Kx}var Yx,S6;function lse(){if(S6)return Yx;S6=1;var t=sse(),e=ose(),r=Hl(),n=Va(),a=z0();function i(s,o,l){var c=n(s)?t:e;return l&&a(s,o,l)&&(o=void 0),c(s,r(o,3))}return Yx=i,Yx}var cse=lse();const zM=mr(cse);var use=["x","y"];function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function s5(){return s5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s5.apply(this,arguments)}function A6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(r),!0).forEach(function(n){dse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dse(t,e,r){return e=fse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fse(t){var e=hse(t,"string");return Oh(e)=="symbol"?e:e+""}function hse(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pse(t,e){if(t==null)return{};var r=mse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gse(t,e){var r=t.x,n=t.y,a=pse(t,use),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||a.height),d=parseInt(c,10),f="".concat(e.width||a.width),p=parseInt(f,10);return jf(jf(jf(jf(jf({},e),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function j6(t){return ve.createElement(Cie,s5({shapeType:"rectangle",propTransformer:gse,activeClassName:"recharts-active-bar"},t))}var vse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Xe(n)||_G(n);return i?e(n,a):(i||Bc(),r)}},yse=["value","background"],UM;function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function bse(t,e){if(t==null)return{};var r=xse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qg.apply(this,arguments)}function _6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(r),!0).forEach(function(n){Cl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HM(n.key),n)}}function Nse(t,e,r){return e&&P6(t.prototype,e),r&&P6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sse(t,e,r){return e=zg(e),Ase(t,WM()?Reflect.construct(e,r||[],zg(t).constructor):e.apply(t,r))}function Ase(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jse(t)}function jse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(t)}function _se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o5(t,e)}function o5(t,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o5(t,e)}function Cl(t,e,r){return e=HM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HM(t){var e=Pse(t,"string");return md(e)=="symbol"?e:e+""}function Pse(t,e){if(md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ql=(function(t){function e(){var r;wse(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Sse(this,e,[].concat(a)),Cl(r,"state",{isAnimationFinished:!1}),Cl(r,"id",op("recharts-bar-")),Cl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Cl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return _se(e,t),Nse(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,d=ar(this.props,!1);return n&&n.map(function(f,p){var h=p===l,v=h?c:s,m=Sn(Sn(Sn({},d),f),{},{isActive:h,option:v,index:p,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ve.createElement(vn,qg({className:"recharts-bar-rectangle"},ag(a.props,f,p),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(p)}),ve.createElement(j6,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return ve.createElement(Wo,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,m=i.map(function(g,b){var w=p&&p[b];if(w){var N=us(w.x,g.x),_=us(w.y,g.y),A=us(w.width,g.width),C=us(w.height,g.height);return Sn(Sn({},g),{},{x:N(v),y:_(v),width:A(v),height:C(v)})}if(s==="horizontal"){var E=us(0,g.height),R=E(v);return Sn(Sn({},g),{},{y:g.y+g.height-R,height:R})}var L=us(0,g.width),U=L(v);return Sn(Sn({},g),{},{width:U})});return ve.createElement(vn,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!J0(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=ar(this.props.background,!1);return i.map(function(c,d){c.value;var f=c.background,p=bse(c,yse);if(!f)return null;var h=Sn(Sn(Sn(Sn(Sn({},p),{},{fill:"#eee"},f),l),ag(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return ve.createElement(j6,qg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,d=i.children,f=Ui(d,hp);if(!f)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,h=function(g,b){var w=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:w,errorVal:xi(g,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ve.createElement(vn,v,f.map(function(m){return ve.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,v=n.background,m=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=ir("recharts-bar",s),w=o&&o.allowDataOverflow,N=l&&l.allowDataOverflow,_=w||N,A=rr(m)?this.id:m;return ve.createElement(vn,{className:b},w||N?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(A)},ve.createElement("rect",{x:w?c:c-f/2,y:N?d:d-p/2,width:w?f:f*2,height:N?p:p*2}))):null,ve.createElement(vn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,A),(!h||g)&&Ml.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(j.PureComponent);UM=ql;Cl(ql,"displayName","Bar");Cl(ql,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$d.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Cl(ql,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,h=Hte(n,r);if(!h)return null;var v=e.layout,m=r.type.defaultProps,g=m!==void 0?Sn(Sn({},m),r.props):r.props,b=g.dataKey,w=g.children,N=g.minPointSize,_=v==="horizontal"?s:i,A=c?_.scale.domain():null,C=Qte({numericAxis:_}),E=Ui(w,AS),R=f.map(function(L,U){var S,O,k,M,$,F;c?S=Vte(c[d+U],A):(S=xi(L,b),Array.isArray(S)||(S=[C,S]));var z=vse(N,UM.defaultProps.minPointSize)(S[1],U);if(v==="horizontal"){var W,q=[s.scale(S[0]),s.scale(S[1])],ee=q[0],de=q[1];O=uE({axis:i,ticks:o,bandSize:a,offset:h.offset,entry:L,index:U}),k=(W=de??ee)!==null&&W!==void 0?W:void 0,M=h.size;var B=ee-de;if($=Number.isNaN(B)?0:B,F={x:O,y:s.y,width:M,height:s.height},Math.abs(z)>0&&Math.abs($)<Math.abs(z)){var G=gs($||z)*(Math.abs(z)-Math.abs($));k-=G,$+=G}}else{var Z=[i.scale(S[0]),i.scale(S[1])],te=Z[0],ne=Z[1];if(O=te,k=uE({axis:s,ticks:l,bandSize:a,offset:h.offset,entry:L,index:U}),M=ne-te,$=h.size,F={x:i.x,y:k,width:i.width,height:$},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var ie=gs(M||z)*(Math.abs(z)-Math.abs(M));M+=ie}}return Sn(Sn(Sn({},L),{},{x:O,y:k,width:M,height:$,value:c?S:S[1],payload:L,background:F},E&&E[U]&&E[U].props),{},{tooltipPayload:[PM(r,L)],tooltipPosition:{x:O+M/2,y:k+$/2}})});return Sn({data:R,layout:v},p)});function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function Cse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VM(n.key),n)}}function Ese(t,e,r){return e&&C6(t.prototype,e),r&&C6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function E6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(r),!0).forEach(function(n){nv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nv(t,e,r){return e=VM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VM(t){var e=Tse(t,"string");return kh(e)=="symbol"?e:e+""}function Tse(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GM=function(e,r,n,a,i){var s=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!fi(c,ql);return d.reduce(function(h,v){var m=r[v],g=m.orientation,b=m.domain,w=m.padding,N=w===void 0?{}:w,_=m.mirror,A=m.reversed,C="".concat(g).concat(_?"Mirror":""),E,R,L,U,S;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=b[1]-b[0],k=1/0,M=m.categoricalDomain.sort(EG);if(M.forEach(function(Z,te){te>0&&(k=Math.min((Z||0)-(M[te-1]||0),k))}),Number.isFinite(k)){var $=k/O,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=$*F/2),m.padding==="no-gap"){var z=Dc(e.barCategoryGap,$*F),W=$*F/2;E=W-z-(W-z)/F*z}}}a==="xAxis"?R=[n.left+(N.left||0)+(E||0),n.left+n.width-(N.right||0)-(E||0)]:a==="yAxis"?R=l==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(E||0),n.top+n.height-(N.bottom||0)-(E||0)]:R=m.range,A&&(R=[R[1],R[0]]);var q=Ute(m,i,p),ee=q.scale,de=q.realScaleType;ee.domain(b).range(R),Wte(ee);var B=Jte(ee,ls(ls({},m),{},{realScaleType:de}));a==="xAxis"?(S=g==="top"&&!_||g==="bottom"&&_,L=n.left,U=f[C]-S*m.height):a==="yAxis"&&(S=g==="left"&&!_||g==="right"&&_,L=f[C]-S*m.width,U=n.top);var G=ls(ls(ls({},m),B),{},{realScaleType:de,x:L,y:U,scale:ee,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return G.bandSize=Eg(G,B),!m.hide&&a==="xAxis"?f[C]+=(S?-1:1)*G.height:m.hide||(f[C]+=(S?-1:1)*G.width),ls(ls({},h),{},nv({},v,G))},{})},KM=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Ose=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return KM({x:r,y:n},{x:a,y:i})},YM=(function(){function t(e){Cse(this,t),this.scale=e}return Ese(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();nv(YM,"EPS",1e-4);var JS=function(e){var r=Object.keys(e).reduce(function(n,a){return ls(ls({},n),{},nv({},a,YM.create(e[a])))},{});return ls(ls({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return ise(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return zM(a,function(i,s){return r[s].isInRange(i)})}})};function kse(t){return(t%180+180)%180}var Lse=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=kse(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Xx,T6;function Ise(){if(T6)return Xx;T6=1;var t=Hl(),e=lp(),r=$0();function n(a){return function(i,s,o){var l=Object(i);if(!e(i)){var c=t(s,3);i=r(i),s=function(f){return c(l[f],f,l)}}var d=a(i,s,o);return d>-1?l[c?i[d]:d]:void 0}}return Xx=n,Xx}var Zx,O6;function Rse(){if(O6)return Zx;O6=1;var t=FM();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Zx=e,Zx}var Jx,k6;function Mse(){if(k6)return Jx;k6=1;var t=lR(),e=Hl(),r=Rse(),n=Math.max;function a(i,s,o){var l=i==null?0:i.length;if(!l)return-1;var c=o==null?0:r(o);return c<0&&(c=n(l+c,0)),t(i,e(s,3),c)}return Jx=a,Jx}var Qx,L6;function Dse(){if(L6)return Qx;L6=1;var t=Ise(),e=Mse(),r=t(e);return Qx=r,Qx}var Fse=Dse();const Bse=mr(Fse);var $se=A8();const qse=mr($se);var zse=qse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),QS=j.createContext(void 0),eA=j.createContext(void 0),XM=j.createContext(void 0),ZM=j.createContext({}),JM=j.createContext(void 0),QM=j.createContext(0),e7=j.createContext(0),I6=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=zse(i);return ve.createElement(QS.Provider,{value:n},ve.createElement(eA.Provider,{value:a},ve.createElement(ZM.Provider,{value:i},ve.createElement(XM.Provider,{value:d},ve.createElement(JM.Provider,{value:s},ve.createElement(QM.Provider,{value:c},ve.createElement(e7.Provider,{value:l},o)))))))},Use=function(){return j.useContext(JM)},t7=function(e){var r=j.useContext(QS);r==null&&Bc();var n=r[e];return n==null&&Bc(),n},Wse=function(){var e=j.useContext(QS);return _l(e)},Hse=function(){var e=j.useContext(eA),r=Bse(e,function(n){return zM(n.domain,Number.isFinite)});return r||_l(e)},r7=function(e){var r=j.useContext(eA);r==null&&Bc();var n=r[e];return n==null&&Bc(),n},Vse=function(){var e=j.useContext(XM);return e},Gse=function(){return j.useContext(ZM)},tA=function(){return j.useContext(e7)},rA=function(){return j.useContext(QM)};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function Kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a7(n.key),n)}}function Xse(t,e,r){return e&&Yse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zse(t,e,r){return e=Ug(e),Jse(t,n7()?Reflect.construct(e,r||[],Ug(t).constructor):e.apply(t,r))}function Jse(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(t)}function Qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n7=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}function eoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l5(t,e)}function l5(t,e){return l5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l5(t,e)}function R6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function M6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(r),!0).forEach(function(n){nA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nA(t,e,r){return e=a7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a7(t){var e=toe(t,"string");return gd(e)=="symbol"?e:e+""}function toe(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function roe(t,e){return soe(t)||ioe(t,e)||aoe(t,e)||noe()}function noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aoe(t,e){if(t){if(typeof t=="string")return D6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D6(t,e)}}function D6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ioe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function soe(t){if(Array.isArray(t))return t}function c5(){return c5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c5.apply(this,arguments)}var ooe=function(e,r){var n;return ve.isValidElement(e)?n=ve.cloneElement(e,r):Jt(e)?n=e(r):n=ve.createElement("line",c5({},r,{className:"recharts-reference-line-line"})),n},loe=function(e,r,n,a,i,s,o,l,c){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var v=c.y,m=e.y.apply(v,{position:s});if(Ks(c,"discard")&&!e.y.isInRange(m))return null;var g=[{x:d+p,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var b=c.x,w=e.x.apply(b,{position:s});if(Ks(c,"discard")&&!e.x.isInRange(w))return null;var N=[{x:w,y:f+h},{x:w,y:f}];return o==="top"?N.reverse():N}if(a){var _=c.segment,A=_.map(function(C){return e.apply(C,{position:s})});return Ks(c,"discard")&&tse(A,function(C){return!e.isInRange(C)})?null:A}return null};function coe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=Use(),d=t7(a),f=r7(i),p=Vse();if(!c||!p)return null;Io(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=JS({x:d.scale,y:f.scale}),v=Dn(e),m=Dn(r),g=n&&n.length===2,b=loe(h,v,m,g,p,t.position,d.orientation,f.orientation,t);if(!b)return null;var w=roe(b,2),N=w[0],_=N.x,A=N.y,C=w[1],E=C.x,R=C.y,L=Ks(t,"hidden")?"url(#".concat(c,")"):void 0,U=M6(M6({clipPath:L},ar(t,!0)),{},{x1:_,y1:A,x2:E,y2:R});return ve.createElement(vn,{className:ir("recharts-reference-line",o)},ooe(s,U),xa.renderCallByParent(t,Ose({x1:_,y1:A,x2:E,y2:R})))}var aA=(function(t){function e(){return Kse(this,e),Zse(this,e,arguments)}return eoe(e,t),Xse(e,[{key:"render",value:function(){return ve.createElement(coe,this.props)}}])})(ve.Component);nA(aA,"displayName","ReferenceLine");nA(aA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u5.apply(this,arguments)}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function F6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(r),!0).forEach(function(n){av(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function doe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s7(n.key),n)}}function foe(t,e,r){return e&&doe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hoe(t,e,r){return e=Wg(e),poe(t,i7()?Reflect.construct(e,r||[],Wg(t).constructor):e.apply(t,r))}function poe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return moe(t)}function moe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i7=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(t)}function goe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d5(t,e)}function d5(t,e){return d5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d5(t,e)}function av(t,e,r){return e=s7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s7(t){var e=voe(t,"string");return vd(e)=="symbol"?e:e+""}function voe(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yoe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=JS({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Ks(e,"discard")&&!s.isInRange(o)?null:o},iv=(function(t){function e(){return uoe(this,e),hoe(this,e,arguments)}return goe(e,t),foe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Dn(a),d=Dn(i);if(Io(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=yoe(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,m=v.shape,g=v.className,b=Ks(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=B6(B6({clipPath:b},ar(this.props,!0)),{},{cx:p,cy:h});return ve.createElement(vn,{className:ir("recharts-reference-dot",g)},e.renderDot(m,w),xa.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])})(ve.Component);av(iv,"displayName","ReferenceDot");av(iv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});av(iv,"renderDot",function(t,e){var r;return ve.isValidElement(t)?r=ve.cloneElement(t,e):Jt(t)?r=t(e):r=ve.createElement(ZS,u5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function f5(){return f5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f5.apply(this,arguments)}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function $6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function q6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(r),!0).forEach(function(n){sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l7(n.key),n)}}function woe(t,e,r){return e&&xoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Noe(t,e,r){return e=Hg(e),Soe(t,o7()?Reflect.construct(e,r||[],Hg(t).constructor):e.apply(t,r))}function Soe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aoe(t)}function Aoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o7=function(){return!!t})()}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(t)}function joe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h5(t,e)}function h5(t,e){return h5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h5(t,e)}function sv(t,e,r){return e=l7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l7(t){var e=_oe(t,"string");return yd(e)=="symbol"?e:e+""}function _oe(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Poe=function(e,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=JS({x:d.scale,y:f.scale}),h={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Ks(i,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:KM(h,v)},ov=(function(t){function e(){return boe(this,e),Noe(this,e,arguments)}return joe(e,t),woe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;Io(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dn(a),p=Dn(i),h=Dn(s),v=Dn(o),m=this.props.shape;if(!f&&!p&&!h&&!v&&!m)return null;var g=Poe(f,p,h,v,this.props);if(!g&&!m)return null;var b=Ks(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ve.createElement(vn,{className:ir("recharts-reference-area",l)},e.renderRect(m,q6(q6({clipPath:b},ar(this.props,!0)),g)),xa.renderCallByParent(this.props,g))}}])})(ve.Component);sv(ov,"displayName","ReferenceArea");sv(ov,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sv(ov,"renderRect",function(t,e){var r;return ve.isValidElement(t)?r=ve.cloneElement(t,e):Jt(t)?r=t(e):r=ve.createElement(XS,f5({},e,{className:"recharts-reference-area-rect"})),r});function c7(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function Coe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Lse(n,r)}function Eoe(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,o=t.height;return e===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Vg(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function Toe(t,e){return c7(t,e+1)}function Ooe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,d=s,f=function(){var v=n?.[l];if(v===void 0)return{v:c7(n,c)};var m=l,g,b=function(){return g===void 0&&(g=r(v,m)),g},w=v.coordinate,N=l===0||Vg(t,w,b,d,o);N||(l=0,d=s,c+=1),N&&(d=w+t*(b()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ba(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(r),!0).forEach(function(n){koe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function koe(t,e,r){return e=Loe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Loe(t){var e=Ioe(t,"string");return Lh(e)=="symbol"?e:e+""}function Ioe(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=e.start,l=e.end,c=function(p){var h=i[p],v,m=function(){return v===void 0&&(v=r(h,p)),v};if(p===s-1){var g=t*(h.coordinate+t*m()/2-l);i[p]=h=ba(ba({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate})}else i[p]=h=ba(ba({},h),{},{tickCoord:h.coordinate});var b=Vg(t,h.tickCoord,m,o,l);b&&(l=h.tickCoord-t*(m()/2+a),i[p]=ba(ba({},h),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return i}function Moe(t,e,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(i){var d=n[o-1],f=r(d,o-1),p=t*(d.coordinate+t*f/2-c);s[o-1]=d=ba(ba({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var h=Vg(t,d.tickCoord,function(){return f},l,c);h&&(c=d.tickCoord-t*(f/2+a),s[o-1]=ba(ba({},d),{},{isShow:!0}))}for(var v=i?o-1:o,m=function(w){var N=s[w],_,A=function(){return _===void 0&&(_=r(N,w)),_};if(w===0){var C=t*(N.coordinate-t*A()/2-l);s[w]=N=ba(ba({},N),{},{tickCoord:C<0?N.coordinate-C*t:N.coordinate})}else s[w]=N=ba(ba({},N),{},{tickCoord:N.coordinate});var E=Vg(t,N.tickCoord,A,l,c);E&&(l=N.tickCoord+t*(A()/2+a),s[w]=ba(ba({},N),{},{isShow:!0}))},g=0;g<v;g++)m(g);return s}function iA(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(Xe(l)||$d.isSsr)return Toe(a,typeof l=="number"&&Xe(l)?l:0);var p=[],h=o==="top"||o==="bottom"?"width":"height",v=d&&h==="width"?Bf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(N,_){var A=Jt(c)?c(N.value,_):N.value;return h==="width"?Coe(Bf(A,{fontSize:e,letterSpacing:r}),v,f):Bf(A,{fontSize:e,letterSpacing:r})[h]},g=a.length>=2?gs(a[1].coordinate-a[0].coordinate):1,b=Eoe(i,g,h);return l==="equidistantPreserveStart"?Ooe(g,b,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Moe(g,b,m,a,s,l==="preserveStartEnd"):p=Roe(g,b,m,a,s),p.filter(function(w){return w.isShow}))}var Doe=["viewBox"],Foe=["viewBox"],Boe=["ticks"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(this,arguments)}function U6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(r),!0).forEach(function(n){sA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e2(t,e){if(t==null)return{};var r=$oe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $oe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d7(n.key),n)}}function zoe(t,e,r){return e&&W6(t.prototype,e),r&&W6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uoe(t,e,r){return e=Gg(e),Woe(t,u7()?Reflect.construct(e,r||[],Gg(t).constructor):e.apply(t,r))}function Woe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hoe(t)}function Hoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u7=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}function Voe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p5(t,e)}function p5(t,e){return p5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p5(t,e)}function sA(t,e,r){return e=d7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d7(t){var e=Goe(t,"string");return bd(e)=="symbol"?e:e+""}function Goe(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wd=(function(t){function e(r){var n;return qoe(this,e),n=Uoe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Voe(e,t),zoe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=e2(n,Doe),o=this.props,l=o.viewBox,c=e2(o,Foe);return!zu(i,l)||!zu(s,c)||!zu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,v,m,g,b,w,N=f?-1:1,_=n.tickSize||d,A=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=v=n.coordinate,g=s+ +!f*l,m=g-N*_,w=m-N*p,b=A;break;case"left":m=g=n.coordinate,v=i+ +!f*o,h=v-N*_,b=h-N*p,w=A;break;case"right":m=g=n.coordinate,v=i+ +f*o,h=v+N*_,b=h+N*p,w=A;break;default:h=v=n.coordinate,g=s+ +f*l,m=g+N*_,w=m+N*p,b=A;break}return{line:{x1:h,y1:m,x2:v,y2:g},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=In(In(In({},ar(this.props,!1)),ar(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=In(In({},f),{},{x1:a,y1:i+p*o,x2:a+s,y2:i+p*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=In(In({},f),{},{x1:a+h*s,y1:i,x2:a+h*s,y2:i+o})}return ve.createElement("line",Ru({},f,{className:ir("recharts-cartesian-axis-line",zi(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,p=o.unit,h=iA(In(In({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=ar(this.props,!1),b=ar(d,!1),w=In(In({},g),{},{fill:"none"},ar(l,!1)),N=h.map(function(_,A){var C=s.getTickLineCoord(_),E=C.line,R=C.tick,L=In(In(In(In({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:c},b),R),{},{index:A,payload:_,visibleTicksCount:h.length,tickFormatter:f});return ve.createElement(vn,Ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ag(s.props,_,A)),l&&ve.createElement("line",Ru({},w,E,{className:ir("recharts-cartesian-axis-tick-line",zi(l,"className"))})),d&&e.renderTickItem(d,L,"".concat(Jt(f)?f(_.value,A):_.value).concat(p||"")))});return ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=e2(f,Boe),v=p;return Jt(l)&&(v=p&&p.length>0?l(this.props):l(h)),s<=0||o<=0||!v||!v.length?null:ve.createElement(vn,{className:ir("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),xa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=ir(a.className,"recharts-cartesian-axis-tick-value");return ve.isValidElement(n)?s=ve.cloneElement(n,In(In({},a),{},{className:o})):Jt(n)?s=n(In(In({},a),{},{className:o})):s=ve.createElement(mg,Ru({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(j.Component);sA(Wd,"displayName","CartesianAxis");sA(Wd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Koe=["x1","y1","x2","y2","key"],Yoe=["offset"];function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function H6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(r),!0).forEach(function(n){Xoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xoe(t,e,r){return e=Zoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zoe(t){var e=Joe(t,"string");return $c(e)=="symbol"?e:e+""}function Joe(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ac.apply(this,arguments)}function V6(t,e){if(t==null)return{};var r=Qoe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ele=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,l=e.ry;return ve.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function f7(t,e){var r;if(ve.isValidElement(t))r=ve.cloneElement(t,e);else if(Jt(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.key,l=V6(e,Koe),c=ar(l,!1);c.offset;var d=V6(c,Yoe);r=ve.createElement("line",Ac({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function tle(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=wa(wa({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return f7(a,c)});return ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function rle(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=wa(wa({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return f7(a,c)});return ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function nle(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],m=v?a+s-p:d[h+1]-p;if(m<=0)return null;var g=h%e.length;return ve.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:i,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ale(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var v=!d[h+1],m=v?i+o-p:d[h+1]-p;if(m<=0)return null;var g=h%n.length;return ve.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ile=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return jM(iA(wa(wa(wa({},Wd.defaultProps),n),{},{ticks:Eo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},sle=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return jM(iA(wa(wa(wa({},Wd.defaultProps),n),{},{ticks:Eo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},bu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pp(t){var e,r,n,a,i,s,o=tA(),l=rA(),c=Gse(),d=wa(wa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:bu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:bu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:bu.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:bu.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:bu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:bu.verticalFill,x:Xe(t.x)?t.x:c.left,y:Xe(t.y)?t.y:c.top,width:Xe(t.width)?t.width:c.width,height:Xe(t.height)?t.height:c.height}),f=d.x,p=d.y,h=d.width,v=d.height,m=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,w=Wse(),N=Hse();if(!Xe(h)||h<=0||!Xe(v)||v<=0||!Xe(f)||f!==+f||!Xe(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||ile,A=d.horizontalCoordinatesGenerator||sle,C=d.horizontalPoints,E=d.verticalPoints;if((!C||!C.length)&&Jt(A)){var R=g&&g.length,L=A({yAxis:N?wa(wa({},N),{},{ticks:R?g:N.ticks}):void 0,width:o,height:l,offset:c},R?!0:m);Io(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($c(L),"]")),Array.isArray(L)&&(C=L)}if((!E||!E.length)&&Jt(_)){var U=b&&b.length,S=_({xAxis:w?wa(wa({},w),{},{ticks:U?b:w.ticks}):void 0,width:o,height:l,offset:c},U?!0:m);Io(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($c(S),"]")),Array.isArray(S)&&(E=S)}return ve.createElement("g",{className:"recharts-cartesian-grid"},ve.createElement(ele,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ve.createElement(tle,Ac({},d,{offset:c,horizontalPoints:C,xAxis:w,yAxis:N})),ve.createElement(rle,Ac({},d,{offset:c,verticalPoints:E,xAxis:w,yAxis:N})),ve.createElement(nle,Ac({},d,{horizontalPoints:C})),ve.createElement(ale,Ac({},d,{verticalPoints:E})))}pp.displayName="CartesianGrid";var ole=["type","layout","connectNulls","ref"],lle=["key"];function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function G6(t,e){if(t==null)return{};var r=cle(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uf.apply(this,arguments)}function K6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(r),!0).forEach(function(n){cs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xu(t){return hle(t)||fle(t)||dle(t)||ule()}function ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dle(t,e){if(t){if(typeof t=="string")return m5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m5(t,e)}}function fle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hle(t){if(Array.isArray(t))return m5(t)}function m5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ple(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p7(n.key),n)}}function mle(t,e,r){return e&&Y6(t.prototype,e),r&&Y6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gle(t,e,r){return e=Kg(e),vle(t,h7()?Reflect.construct(e,r||[],Kg(t).constructor):e.apply(t,r))}function vle(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yle(t)}function yle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h7=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(t)}function ble(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g5(t,e)}function g5(t,e){return g5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g5(t,e)}function cs(t,e,r){return e=p7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p7(t){var e=xle(t,"string");return xd(e)=="symbol"?e:e+""}function xle(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gi=(function(t){function e(){var r;ple(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=gle(this,e,[].concat(a)),cs(r,"state",{isAnimationFinished:!0,totalLength:0}),cs(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),cs(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(b,w){return b+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/c),f=s%c,p=o-s,h=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){h=[].concat(xu(l.slice(0,v)),[f-m]);break}var g=h.length%2===0?[0,p]:[p];return[].concat(xu(e.repeat(l,d)),xu(h),g).map(function(b){return"".concat(b,"px")}).join(", ")}),cs(r,"id",op("recharts-line-")),cs(r,"pathRef",function(s){r.mainCurve=s}),cs(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),cs(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ble(e,t),mle(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,d=i.children,f=Ui(d,hp);if(!f)return null;var p=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:xi(m.payload,g)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ve.createElement(vn,h,f.map(function(v){return ve.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,f=ar(this.props,!1),p=ar(l,!0),h=c.map(function(m,g){var b=ci(ci(ci({key:"dot-".concat(g),r:3},f),p),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:c});return e.renderDotItem(l,b)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ve.createElement(vn,Uf({className:"recharts-line-dots",key:"dots"},v),h)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var f=G6(o,ole),p=ci(ci(ci({},ar(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:d});return ve.createElement(Gw,Uf({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,v=s.animateNewValues,m=s.width,g=s.height,b=this.state,w=b.prevPoints,N=b.totalLength;return ve.createElement(Wo,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var A=_.t;if(w){var C=w.length/o.length,E=o.map(function(O,k){var M=Math.floor(k*C);if(w[M]){var $=w[M],F=us($.x,O.x),z=us($.y,O.y);return ci(ci({},O),{},{x:F(A),y:z(A)})}if(v){var W=us(m*2,O.x),q=us(g/2,O.y);return ci(ci({},O),{},{x:W(A),y:q(A)})}return ci(ci({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(E,n,a)}var R=us(0,N),L=R(A),U;if(l){var S="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});U=i.getStrokeDasharray(L,N,S)}else U=i.generateSimpleStrokeDasharray(N,L);return i.renderCurveStatically(o,n,a,{strokeDasharray:U})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!c&&d>0||!J0(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,d=a.yAxis,f=a.top,p=a.left,h=a.width,v=a.height,m=a.isAnimationActive,g=a.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=o.length===1,N=ir("recharts-line",l),_=c&&c.allowDataOverflow,A=d&&d.allowDataOverflow,C=_||A,E=rr(g)?this.id:g,R=(n=ar(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=R.r,U=L===void 0?3:L,S=R.strokeWidth,O=S===void 0?2:S,k=FG(s)?s:{},M=k.clipDot,$=M===void 0?!0:M,F=U*2+O;return ve.createElement(vn,{className:N},_||A?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(E)},ve.createElement("rect",{x:_?p:p-h/2,y:A?f:f-v/2,width:_?h:h*2,height:A?v:v*2})),!$&&ve.createElement("clipPath",{id:"clipPath-dots-".concat(E)},ve.createElement("rect",{x:p-F/2,y:f-F/2,width:h+F,height:v+F}))):null,!w&&this.renderCurve(C,E),this.renderErrorBar(C,E),(w||s)&&this.renderDots(C,$,E),(!m||b)&&Ml.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(xu(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(xu(s),xu(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(ve.isValidElement(n))i=ve.cloneElement(n,a);else if(Jt(n))i=n(a);else{var s=a.key,o=G6(a,lle),l=ir("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ve.createElement(ZS,Uf({key:s},o,{className:l}))}return i}}])})(j.PureComponent);cs(gi,"displayName","Line");cs(gi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!$d.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cs(gi,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(p,h){var v=xi(p,s);return d==="horizontal"?{x:cE({axis:r,ticks:a,bandSize:o,entry:p,index:h}),y:rr(v)?null:n.scale(v),value:v,payload:p}:{x:rr(v)?null:r.scale(v),y:cE({axis:n,ticks:i,bandSize:o,entry:p,index:h}),value:v,payload:p}});return ci({points:f,layout:d},c)});function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v7(n.key),n)}}function Sle(t,e,r){return e&&Nle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ale(t,e,r){return e=Yg(e),jle(t,m7()?Reflect.construct(e,r||[],Yg(t).constructor):e.apply(t,r))}function jle(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _le(t)}function _le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m7=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(t)}function Ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v5(t,e)}function v5(t,e){return v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v5(t,e)}function g7(t,e,r){return e=v7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v7(t){var e=Cle(t,"string");return wd(e)=="symbol"?e:e+""}function Cle(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y5.apply(this,arguments)}function Ele(t){var e=t.xAxisId,r=tA(),n=rA(),a=t7(e);return a==null?null:j.createElement(Wd,y5({},a,{className:ir("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Eo(s,!0)}}))}var Yl=(function(t){function e(){return wle(this,e),Ale(this,e,arguments)}return Ple(e,t),Sle(e,[{key:"render",value:function(){return j.createElement(Ele,this.props)}}])})(j.Component);g7(Yl,"displayName","XAxis");g7(Yl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function Tle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ole(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x7(n.key),n)}}function kle(t,e,r){return e&&Ole(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lle(t,e,r){return e=Xg(e),Ile(t,y7()?Reflect.construct(e,r||[],Xg(t).constructor):e.apply(t,r))}function Ile(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rle(t)}function Rle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y7=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(t)}function Mle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b5(t,e)}function b5(t,e){return b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b5(t,e)}function b7(t,e,r){return e=x7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x7(t){var e=Dle(t,"string");return Nd(e)=="symbol"?e:e+""}function Dle(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function x5(){return x5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x5.apply(this,arguments)}var Fle=function(e){var r=e.yAxisId,n=tA(),a=rA(),i=r7(r);return i==null?null:j.createElement(Wd,x5({},i,{className:ir("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Eo(o,!0)}}))},Xl=(function(t){function e(){return Tle(this,e),Lle(this,e,arguments)}return Mle(e,t),kle(e,[{key:"render",value:function(){return j.createElement(Fle,this.props)}}])})(j.Component);b7(Xl,"displayName","YAxis");b7(Xl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function X6(t){return zle(t)||qle(t)||$le(t)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t,e){if(t){if(typeof t=="string")return w5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w5(t,e)}}function qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zle(t){if(Array.isArray(t))return w5(t)}function w5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N5=function(e,r,n,a,i){var s=Ui(e,aA),o=Ui(e,iv),l=[].concat(X6(s),X6(o)),c=Ui(e,ov),d="".concat(a,"Id"),f=a[0],p=r;if(l.length&&(p=l.reduce(function(m,g){if(g.props[d]===n&&Ks(g.props,"extendDomain")&&Xe(g.props[f])){var b=g.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},p)),c.length){var h="".concat(f,"1"),v="".concat(f,"2");p=c.reduce(function(m,g){if(g.props[d]===n&&Ks(g.props,"extendDomain")&&Xe(g.props[h])&&Xe(g.props[v])){var b=g.props[h],w=g.props[v];return[Math.min(m[0],b,w),Math.max(m[1],b,w)]}return m},p)}return i&&i.length&&(p=i.reduce(function(m,g){return Xe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},p)),p},t2={exports:{}},Z6;function Ule(){return Z6||(Z6=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||l,p),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,p,h,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],b=arguments.length,w,N;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,p),!0;case 5:return g.fn.call(g.context,d,f,p,h),!0;case 6:return g.fn.call(g.context,d,f,p,h,v),!0}for(N=1,w=new Array(b-1);N<b;N++)w[N-1]=arguments[N];g.fn.apply(g.context,w)}else{var _=g.length,A;for(N=0;N<_;N++)switch(g[N].once&&this.removeListener(c,g[N].fn,void 0,!0),b){case 1:g[N].fn.call(g[N].context);break;case 2:g[N].fn.call(g[N].context,d);break;case 3:g[N].fn.call(g[N].context,d,f);break;case 4:g[N].fn.call(g[N].context,d,f,p);break;default:if(!w)for(A=1,w=new Array(b-1);A<b;A++)w[A-1]=arguments[A];g[N].fn.apply(g[N].context,w)}}return!0},o.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!d)return s(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&s(this,h);else{for(var m=0,g=[],b=v.length;m<b;m++)(v[m].fn!==d||p&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(t2)),t2.exports}var Wle=Ule();const Hle=mr(Wle);var r2=new Hle,n2="recharts.syncMouseEvents";function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Vle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w7(n.key),n)}}function Kle(t,e,r){return e&&Gle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a2(t,e,r){return e=w7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7(t){var e=Yle(t,"string");return Ih(e)=="symbol"?e:e+""}function Yle(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xle=(function(){function t(){Vle(this,t),a2(this,"activeIndex",0),a2(this,"coordinateList",[]),a2(this,"layout","horizontal")}return Kle(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,p=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function Zle(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&Xe(n)&&Xe(a))return!0}return!1}function Jle(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function N7(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=sa(e,r,n,a),o=sa(e,r,n,i);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Qle(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,p=sa(o,l,c,f),h=sa(o,l,d,f);n=p.x,a=p.y,i=h.x,s=h.y}else return N7(e);return[{x:n,y:a},{x:i,y:s}]}function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function J6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function om(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(r),!0).forEach(function(n){ece(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ece(t,e,r){return e=tce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tce(t){var e=rce(t,"string");return Rh(e)=="symbol"?e:e+""}function rce(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nce(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!s||p!=="ScatterChart"&&a!=="axis")return null;var v,m=Gw;if(p==="ScatterChart")v=s,m=tie;else if(p==="BarChart")v=Jle(f,s,l,d),m=XS;else if(f==="radial"){var g=N7(s),b=g.cx,w=g.cy,N=g.radius,_=g.startAngle,A=g.endAngle;v={cx:b,cy:w,startAngle:_,endAngle:A,innerRadius:N,outerRadius:N},m=TM}else v={points:Qle(f,s,l)},m=Gw;var C=om(om(om(om({stroke:"#ccc",pointerEvents:"none"},l),v),ar(h,!1)),{},{payload:o,payloadIndex:c,className:ir("recharts-tooltip-cursor",h.className)});return j.isValidElement(h)?j.cloneElement(h,C):j.createElement(m,C)}var ace=["item"],ice=["children","className","width","height","style","compact","title","desc"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}function Q6(t,e){return lce(t)||oce(t,e)||A7(t,e)||sce()}function sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function lce(t){if(Array.isArray(t))return t}function eT(t,e){if(t==null)return{};var r=cce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j7(n.key),n)}}function fce(t,e,r){return e&&dce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t,e,r){return e=Zg(e),pce(t,S7()?Reflect.construct(e,r||[],Zg(t).constructor):e.apply(t,r))}function pce(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(t)}function mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(t)}function gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S5(t,e)}function S5(t,e){return S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S5(t,e)}function Ad(t){return bce(t)||yce(t)||A7(t)||vce()}function vce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(t,e){if(t){if(typeof t=="string")return A5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A5(t,e)}}function yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bce(t){if(Array.isArray(t))return A5(t)}function A5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kt(t,e,r){return e=j7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j7(t){var e=xce(t,"string");return Sd(e)=="symbol"?e:e+""}function xce(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wce={xAxis:["bottom","top"],yAxis:["left","right"]},Nce={width:"100%",height:"100%"},_7={x:0,y:0};function lm(t){return t}var Sce=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ace=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,o=a.radius;return ke(ke(ke({},a),sa(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return ke(ke(ke({},a),sa(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return _7},lv=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Ad(o),Ad(c)):o},[]);return s.length>0?s:e&&e.length&&Xe(a)&&Xe(i)?e.slice(a,i+1):[]};function P7(t){return t==="number"?[0,"auto"]:void 0}var j5=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,o=lv(r,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;p=rg(h,s.dataKey,a)}else p=f&&f[n]||o[n];return p?[].concat(Ad(l),[PM(c,p)]):l},[])},rT=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=Sce(i,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=Dte(s,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,p=j5(e,r,d,f),h=Ace(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},jce=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,h=AM(d,i);return n.reduce(function(v,m){var g,b=m.type.defaultProps!==void 0?ke(ke({},m.type.defaultProps),m.props):m.props,w=b.type,N=b.dataKey,_=b.allowDataOverflow,A=b.allowDuplicatedCategory,C=b.scale,E=b.ticks,R=b.includeHidden,L=b[s];if(v[L])return v;var U=lv(e.data,{graphicalItems:a.filter(function(B){var G,Z=s in B.props?B.props[s]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[s];return Z===L}),dataStartIndex:l,dataEndIndex:c}),S=U.length,O,k,M;Zle(b.domain,_,w)&&(O=zw(b.domain,null,_),h&&(w==="number"||C!=="auto")&&(M=qf(U,N,"category")));var $=P7(w);if(!O||O.length===0){var F,z=(F=b.domain)!==null&&F!==void 0?F:$;if(N){if(O=qf(U,N,w),w==="category"&&h){var W=CG(O);A&&W?(k=O,O=Fg(0,S)):A||(O=hE(z,O,m).reduce(function(B,G){return B.indexOf(G)>=0?B:[].concat(Ad(B),[G])},[]))}else if(w==="category")A?O=O.filter(function(B){return B!==""&&!rr(B)}):O=hE(z,O,m).reduce(function(B,G){return B.indexOf(G)>=0||G===""||rr(G)?B:[].concat(Ad(B),[G])},[]);else if(w==="number"){var q=zte(U,a.filter(function(B){var G,Z,te=s in B.props?B.props[s]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[s],ne="hide"in B.props?B.props.hide:(Z=B.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return te===L&&(R||!ne)}),N,i,d);q&&(O=q)}h&&(w==="number"||C!=="auto")&&(M=qf(U,N,"category"))}else h?O=Fg(0,S):o&&o[L]&&o[L].hasStack&&w==="number"?O=p==="expand"?[0,1]:_M(o[L].stackGroups,l,c):O=SM(U,a.filter(function(B){var G=s in B.props?B.props[s]:B.type.defaultProps[s],Z="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return G===L&&(R||!Z)}),w,d,!0);if(w==="number")O=N5(f,O,L,i,E),z&&(O=zw(z,O,_));else if(w==="category"&&z){var ee=z,de=O.every(function(B){return ee.indexOf(B)>=0});de&&(O=ee)}}return ke(ke({},v),{},kt({},L,ke(ke({},b),{},{axisType:i,domain:O,categoricalDomain:M,duplicateDomain:k,originalDomain:(g=b.domain)!==null&&g!==void 0?g:$,isCategorical:h,layout:d})))},{})},_ce=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,p=lv(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,v=AM(d,i),m=-1;return n.reduce(function(g,b){var w=b.type.defaultProps!==void 0?ke(ke({},b.type.defaultProps),b.props):b.props,N=w[s],_=P7("number");if(!g[N]){m++;var A;return v?A=Fg(0,h):o&&o[N]&&o[N].hasStack?(A=_M(o[N].stackGroups,l,c),A=N5(f,A,N,i)):(A=zw(_,SM(p,n.filter(function(C){var E,R,L=s in C.props?C.props[s]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[s],U="hide"in C.props?C.props.hide:(R=C.type.defaultProps)===null||R===void 0?void 0:R.hide;return L===N&&!U}),"number",d),a.defaultProps.allowDataOverflow),A=N5(f,A,N,i)),ke(ke({},g),{},kt({},N,ke(ke({axisType:i},a.defaultProps),{},{hide:!0,orientation:zi(wce,"".concat(i,".").concat(m%2),null),domain:A,originalDomain:_,isCategorical:v,layout:d})))}return g},{})},Pce=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),p=Ui(d,i),h={};return p&&p.length?h=jce(e,{axes:p,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=_ce(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},Cce=function(e){var r=_l(e),n=Eo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:NS(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Eg(r,n)}},nT=function(e){var r=e.children,n=e.defaultShowTooltip,a=fi(r,pd),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Ece=function(e){return!e||!e.length?!1:e.some(function(r){var n=Lo(r&&r.type);return n&&n.indexOf("Bar")>=0})},aT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Tce=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,d=n.height,f=n.children,p=n.margin||{},h=fi(f,pd),v=fi(f,Vs),m=Object.keys(l).reduce(function(A,C){var E=l[C],R=E.orientation;return!E.mirror&&!E.hide?ke(ke({},A),{},kt({},R,A[R]+E.width)):A},{left:p.left||0,right:p.right||0}),g=Object.keys(s).reduce(function(A,C){var E=s[C],R=E.orientation;return!E.mirror&&!E.hide?ke(ke({},A),{},kt({},R,zi(A,"".concat(R))+E.height)):A},{top:p.top||0,bottom:p.bottom||0}),b=ke(ke({},g),m),w=b.bottom;h&&(b.bottom+=h.props.height||pd.defaultProps.height),v&&r&&(b=$te(b,a,n,r));var N=c-b.left-b.right,_=d-b.top-b.bottom;return ke(ke({brushBottom:w},b),{},{width:Math.max(N,0),height:Math.max(_,0)})},Oce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},C7=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(b,w){var N=w.graphicalItems,_=w.stackGroups,A=w.offset,C=w.updateId,E=w.dataStartIndex,R=w.dataEndIndex,L=b.barSize,U=b.layout,S=b.barGap,O=b.barCategoryGap,k=b.maxBarSize,M=aT(U),$=M.numericAxisName,F=M.cateAxisName,z=Ece(N),W=[];return N.forEach(function(q,ee){var de=lv(b.data,{graphicalItems:[q],dataStartIndex:E,dataEndIndex:R}),B=q.type.defaultProps!==void 0?ke(ke({},q.type.defaultProps),q.props):q.props,G=B.dataKey,Z=B.maxBarSize,te=B["".concat($,"Id")],ne=B["".concat(F,"Id")],ie={},fe=l.reduce(function(Te,ze){var Ue=w["".concat(ze.axisType,"Map")],Ye=B["".concat(ze.axisType,"Id")];Ue&&Ue[Ye]||ze.axisType==="zAxis"||Bc();var Ze=Ue[Ye];return ke(ke({},Te),{},kt(kt({},ze.axisType,Ze),"".concat(ze.axisType,"Ticks"),Eo(Ze)))},ie),se=fe[F],he=fe["".concat(F,"Ticks")],oe=_&&_[te]&&_[te].hasStack&&ere(q,_[te].stackGroups),ae=Lo(q.type).indexOf("Bar")>=0,xe=Eg(se,he),we=[],Y=z&&Fte({barSize:L,stackGroups:_,totalSize:Oce(fe,F)});if(ae){var ge,De,Fe=rr(Z)?k:Z,Pe=(ge=(De=Eg(se,he,!0))!==null&&De!==void 0?De:Fe)!==null&&ge!==void 0?ge:0;we=Bte({barGap:S,barCategoryGap:O,bandSize:Pe!==xe?Pe:xe,sizeList:Y[ne],maxBarSize:Fe}),Pe!==xe&&(we=we.map(function(Te){return ke(ke({},Te),{},{position:ke(ke({},Te.position),{},{offset:Te.position.offset-Pe/2})})}))}var Ge=q&&q.type&&q.type.getComposedData;Ge&&W.push({props:ke(ke({},Ge(ke(ke({},fe),{},{displayedData:de,props:b,dataKey:G,item:q,bandSize:xe,barPosition:we,offset:A,stackedData:oe,layout:U,dataStartIndex:E,dataEndIndex:R}))),{},kt(kt(kt({key:q.key||"item-".concat(ee)},$,fe[$]),F,fe[F]),"animationId",C)),childIndex:qG(q,b.children),item:q})}),W},h=function(b,w){var N=b.props,_=b.dataStartIndex,A=b.dataEndIndex,C=b.updateId;if(!P4({props:N}))return null;var E=N.children,R=N.layout,L=N.stackOffset,U=N.data,S=N.reverseStackOrder,O=aT(R),k=O.numericAxisName,M=O.cateAxisName,$=Ui(E,n),F=Zte(U,$,"".concat(k,"Id"),"".concat(M,"Id"),L,S),z=l.reduce(function(B,G){var Z="".concat(G.axisType,"Map");return ke(ke({},B),{},kt({},Z,Pce(N,ke(ke({},G),{},{graphicalItems:$,stackGroups:G.axisType===k&&F,dataStartIndex:_,dataEndIndex:A}))))},{}),W=Tce(ke(ke({},z),{},{props:N,graphicalItems:$}),w?.legendBBox);Object.keys(z).forEach(function(B){z[B]=d(N,z[B],W,B.replace("Map",""),r)});var q=z["".concat(M,"Map")],ee=Cce(q),de=p(N,ke(ke({},z),{},{dataStartIndex:_,dataEndIndex:A,updateId:C,graphicalItems:$,stackGroups:F,offset:W}));return ke(ke({formattedGraphicalItems:de,graphicalItems:$,offset:W,stackGroups:F},ee),z)},v=(function(g){function b(w){var N,_,A;return uce(this,b),A=hce(this,b,[w]),kt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),kt(A,"accessibilityManager",new Xle),kt(A,"handleLegendBBoxUpdate",function(C){if(C){var E=A.state,R=E.dataStartIndex,L=E.dataEndIndex,U=E.updateId;A.setState(ke({legendBBox:C},h({props:A.props,dataStartIndex:R,dataEndIndex:L,updateId:U},ke(ke({},A.state),{},{legendBBox:C}))))}}),kt(A,"handleReceiveSyncEvent",function(C,E,R){if(A.props.syncId===C){if(R===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(E)}}),kt(A,"handleBrushChange",function(C){var E=C.startIndex,R=C.endIndex;if(E!==A.state.dataStartIndex||R!==A.state.dataEndIndex){var L=A.state.updateId;A.setState(function(){return ke({dataStartIndex:E,dataEndIndex:R},h({props:A.props,dataStartIndex:E,dataEndIndex:R,updateId:L},A.state))}),A.triggerSyncEvent({dataStartIndex:E,dataEndIndex:R})}}),kt(A,"handleMouseEnter",function(C){var E=A.getMouseInfo(C);if(E){var R=ke(ke({},E),{},{isTooltipActive:!0});A.setState(R),A.triggerSyncEvent(R);var L=A.props.onMouseEnter;Jt(L)&&L(R,C)}}),kt(A,"triggeredAfterMouseMove",function(C){var E=A.getMouseInfo(C),R=E?ke(ke({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(R),A.triggerSyncEvent(R);var L=A.props.onMouseMove;Jt(L)&&L(R,C)}),kt(A,"handleItemMouseEnter",function(C){A.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),kt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),kt(A,"handleMouseMove",function(C){C.persist(),A.throttleTriggeredAfterMouseMove(C)}),kt(A,"handleMouseLeave",function(C){A.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};A.setState(E),A.triggerSyncEvent(E);var R=A.props.onMouseLeave;Jt(R)&&R(E,C)}),kt(A,"handleOuterEvent",function(C){var E=$G(C),R=zi(A.props,"".concat(E));if(E&&Jt(R)){var L,U;/.*touch.*/i.test(E)?U=A.getMouseInfo(C.changedTouches[0]):U=A.getMouseInfo(C),R((L=U)!==null&&L!==void 0?L:{},C)}}),kt(A,"handleClick",function(C){var E=A.getMouseInfo(C);if(E){var R=ke(ke({},E),{},{isTooltipActive:!0});A.setState(R),A.triggerSyncEvent(R);var L=A.props.onClick;Jt(L)&&L(R,C)}}),kt(A,"handleMouseDown",function(C){var E=A.props.onMouseDown;if(Jt(E)){var R=A.getMouseInfo(C);E(R,C)}}),kt(A,"handleMouseUp",function(C){var E=A.props.onMouseUp;if(Jt(E)){var R=A.getMouseInfo(C);E(R,C)}}),kt(A,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),kt(A,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseDown(C.changedTouches[0])}),kt(A,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseUp(C.changedTouches[0])}),kt(A,"handleDoubleClick",function(C){var E=A.props.onDoubleClick;if(Jt(E)){var R=A.getMouseInfo(C);E(R,C)}}),kt(A,"handleContextMenu",function(C){var E=A.props.onContextMenu;if(Jt(E)){var R=A.getMouseInfo(C);E(R,C)}}),kt(A,"triggerSyncEvent",function(C){A.props.syncId!==void 0&&r2.emit(n2,A.props.syncId,C,A.eventEmitterSymbol)}),kt(A,"applySyncEvent",function(C){var E=A.props,R=E.layout,L=E.syncMethod,U=A.state.updateId,S=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)A.setState(ke({dataStartIndex:S,dataEndIndex:O},h({props:A.props,dataStartIndex:S,dataEndIndex:O,updateId:U},A.state)));else if(C.activeTooltipIndex!==void 0){var k=C.chartX,M=C.chartY,$=C.activeTooltipIndex,F=A.state,z=F.offset,W=F.tooltipTicks;if(!z)return;if(typeof L=="function")$=L(W,C);else if(L==="value"){$=-1;for(var q=0;q<W.length;q++)if(W[q].value===C.activeLabel){$=q;break}}var ee=ke(ke({},z),{},{x:z.left,y:z.top}),de=Math.min(k,ee.x+ee.width),B=Math.min(M,ee.y+ee.height),G=W[$]&&W[$].value,Z=j5(A.state,A.props.data,$),te=W[$]?{x:R==="horizontal"?W[$].coordinate:de,y:R==="horizontal"?B:W[$].coordinate}:_7;A.setState(ke(ke({},C),{},{activeLabel:G,activeCoordinate:te,activePayload:Z,activeTooltipIndex:$}))}else A.setState(C)}),kt(A,"renderCursor",function(C){var E,R=A.state,L=R.isTooltipActive,U=R.activeCoordinate,S=R.activePayload,O=R.offset,k=R.activeTooltipIndex,M=R.tooltipAxisBandSize,$=A.getTooltipEventType(),F=(E=C.props.active)!==null&&E!==void 0?E:L,z=A.props.layout,W=C.key||"_recharts-cursor";return ve.createElement(nce,{key:W,activeCoordinate:U,activePayload:S,activeTooltipIndex:k,chartName:r,element:C,isActive:F,layout:z,offset:O,tooltipAxisBandSize:M,tooltipEventType:$})}),kt(A,"renderPolarAxis",function(C,E,R){var L=zi(C,"type.axisType"),U=zi(A.state,"".concat(L,"Map")),S=C.type.defaultProps,O=S!==void 0?ke(ke({},S),C.props):C.props,k=U&&U[O["".concat(L,"Id")]];return j.cloneElement(C,ke(ke({},k),{},{className:ir(L,k.className),key:C.key||"".concat(E,"-").concat(R),ticks:Eo(k,!0)}))}),kt(A,"renderPolarGrid",function(C){var E=C.props,R=E.radialLines,L=E.polarAngles,U=E.polarRadius,S=A.state,O=S.radiusAxisMap,k=S.angleAxisMap,M=_l(O),$=_l(k),F=$.cx,z=$.cy,W=$.innerRadius,q=$.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(L)?L:Eo($,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(U)?U:Eo(M,!0).map(function(ee){return ee.coordinate}),cx:F,cy:z,innerRadius:W,outerRadius:q,key:C.key||"polar-grid",radialLines:R})}),kt(A,"renderLegend",function(){var C=A.state.formattedGraphicalItems,E=A.props,R=E.children,L=E.width,U=E.height,S=A.props.margin||{},O=L-(S.left||0)-(S.right||0),k=wM({children:R,formattedGraphicalItems:C,legendWidth:O,legendContent:c});if(!k)return null;var M=k.item,$=eT(k,ace);return j.cloneElement(M,ke(ke({},$),{},{chartWidth:L,chartHeight:U,margin:S,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),kt(A,"renderTooltip",function(){var C,E=A.props,R=E.children,L=E.accessibilityLayer,U=fi(R,hi);if(!U)return null;var S=A.state,O=S.isTooltipActive,k=S.activeCoordinate,M=S.activePayload,$=S.activeLabel,F=S.offset,z=(C=U.props.active)!==null&&C!==void 0?C:O;return j.cloneElement(U,{viewBox:ke(ke({},F),{},{x:F.left,y:F.top}),active:z,label:$,payload:z?M:[],coordinate:k,accessibilityLayer:L})}),kt(A,"renderBrush",function(C){var E=A.props,R=E.margin,L=E.data,U=A.state,S=U.offset,O=U.dataStartIndex,k=U.dataEndIndex,M=U.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:nm(A.handleBrushChange,C.props.onChange),data:L,x:Xe(C.props.x)?C.props.x:S.left,y:Xe(C.props.y)?C.props.y:S.top+S.height+S.brushBottom-(R.bottom||0),width:Xe(C.props.width)?C.props.width:S.width,startIndex:O,endIndex:k,updateId:"brush-".concat(M)})}),kt(A,"renderReferenceElement",function(C,E,R){if(!C)return null;var L=A,U=L.clipPathId,S=A.state,O=S.xAxisMap,k=S.yAxisMap,M=S.offset,$=C.type.defaultProps||{},F=C.props,z=F.xAxisId,W=z===void 0?$.xAxisId:z,q=F.yAxisId,ee=q===void 0?$.yAxisId:q;return j.cloneElement(C,{key:C.key||"".concat(E,"-").concat(R),xAxis:O[W],yAxis:k[ee],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:U})}),kt(A,"renderActivePoints",function(C){var E=C.item,R=C.activePoint,L=C.basePoint,U=C.childIndex,S=C.isRange,O=[],k=E.props.key,M=E.item.type.defaultProps!==void 0?ke(ke({},E.item.type.defaultProps),E.item.props):E.item.props,$=M.activeDot,F=M.dataKey,z=ke(ke({index:U,dataKey:F,cx:R.x,cy:R.y,r:4,fill:YS(E.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},ar($,!1)),ng($));return O.push(b.renderActiveDot($,z,"".concat(k,"-activePoint-").concat(U))),L?O.push(b.renderActiveDot($,ke(ke({},z),{},{cx:L.x,cy:L.y}),"".concat(k,"-basePoint-").concat(U))):S&&O.push(null),O}),kt(A,"renderGraphicChild",function(C,E,R){var L=A.filterFormatItem(C,E,R);if(!L)return null;var U=A.getTooltipEventType(),S=A.state,O=S.isTooltipActive,k=S.tooltipAxis,M=S.activeTooltipIndex,$=S.activeLabel,F=A.props.children,z=fi(F,hi),W=L.props,q=W.points,ee=W.isRange,de=W.baseLine,B=L.item.type.defaultProps!==void 0?ke(ke({},L.item.type.defaultProps),L.item.props):L.item.props,G=B.activeDot,Z=B.hide,te=B.activeBar,ne=B.activeShape,ie=!!(!Z&&O&&z&&(G||te||ne)),fe={};U!=="axis"&&z&&z.props.trigger==="click"?fe={onClick:nm(A.handleItemMouseEnter,C.props.onClick)}:U!=="axis"&&(fe={onMouseLeave:nm(A.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:nm(A.handleItemMouseEnter,C.props.onMouseEnter)});var se=j.cloneElement(C,ke(ke({},L.props),fe));function he(ze){return typeof k.dataKey=="function"?k.dataKey(ze.payload):null}if(ie)if(M>=0){var oe,ae;if(k.dataKey&&!k.allowDuplicatedCategory){var xe=typeof k.dataKey=="function"?he:"payload.".concat(k.dataKey.toString());oe=rg(q,xe,$),ae=ee&&de&&rg(de,xe,$)}else oe=q?.[M],ae=ee&&de&&de[M];if(ne||te){var we=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[j.cloneElement(C,ke(ke(ke({},L.props),fe),{},{activeIndex:we})),null,null]}if(!rr(oe))return[se].concat(Ad(A.renderActivePoints({item:L,activePoint:oe,basePoint:ae,childIndex:M,isRange:ee})))}else{var Y,ge=(Y=A.getItemByXY(A.state.activeCoordinate))!==null&&Y!==void 0?Y:{graphicalItem:se},De=ge.graphicalItem,Fe=De.item,Pe=Fe===void 0?C:Fe,Ge=De.childIndex,Te=ke(ke(ke({},L.props),fe),{},{activeIndex:Ge});return[j.cloneElement(Pe,Te),null,null]}return ee?[se,null,null]:[se,null]}),kt(A,"renderCustomized",function(C,E,R){return j.cloneElement(C,ke(ke({key:"recharts-customized-".concat(R)},A.props),A.state))}),kt(A,"renderMap",{CartesianGrid:{handler:lm,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:lm},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:lm},YAxis:{handler:lm},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((N=w.id)!==null&&N!==void 0?N:op("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=wR(A.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),A.state={},A}return gce(b,g),fce(b,[{key:"componentDidMount",value:function(){var N,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,_=N.children,A=N.data,C=N.height,E=N.layout,R=fi(_,hi);if(R){var L=R.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,S=j5(this.state,A,L,U),O=this.state.tooltipTicks[L].coordinate,k=(this.state.offset.top+C)/2,M=E==="horizontal",$=M?{x:O,y:k}:{y:O,x:k},F=this.state.formattedGraphicalItems.find(function(W){var q=W.item;return q.type.name==="Scatter"});F&&($=ke(ke({},$),F.props.points[L].tooltipPosition),S=F.props.points[L].tooltipPayload);var z={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:U,activePayload:S,activeCoordinate:$};this.setState(z),this.renderCursor(R),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var A,C;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(N){uw([fi(N.children,hi)],[fi(this.props.children,hi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=fi(this.props.children,hi);if(N&&typeof N.props.shared=="boolean"){var _=N.props.shared?"axis":"item";return o.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var _=this.container,A=_.getBoundingClientRect(),C=PZ(A),E={chartX:Math.round(N.pageX-C.left),chartY:Math.round(N.pageY-C.top)},R=A.width/_.offsetWidth||1,L=this.inRange(E.chartX,E.chartY,R);if(!L)return null;var U=this.state,S=U.xAxisMap,O=U.yAxisMap,k=this.getTooltipEventType(),M=rT(this.state,this.props.data,this.props.layout,L);if(k!=="axis"&&S&&O){var $=_l(S).scale,F=_l(O).scale,z=$&&$.invert?$.invert(E.chartX):null,W=F&&F.invert?F.invert(E.chartY):null;return ke(ke({},E),{},{xValue:z,yValue:W},M)}return M?ke(ke({},E),M):null}},{key:"inRange",value:function(N,_){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=N/A,R=_/A;if(C==="horizontal"||C==="vertical"){var L=this.state.offset,U=E>=L.left&&E<=L.left+L.width&&R>=L.top&&R<=L.top+L.height;return U?{x:E,y:R}:null}var S=this.state,O=S.angleAxisMap,k=S.radiusAxisMap;if(O&&k){var M=_l(O);return gE({x:E,y:R},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,_=this.getTooltipEventType(),A=fi(N,hi),C={};A&&_==="axis"&&(A.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=ng(this.props,this.handleOuterEvent);return ke(ke({},E),C)}},{key:"addListener",value:function(){r2.on(n2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){r2.removeListener(n2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,_,A){for(var C=this.state.formattedGraphicalItems,E=0,R=C.length;E<R;E++){var L=C[E];if(L.item===N||L.props.key===N.key||_===Lo(L.item.type)&&A===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,_=this.state.offset,A=_.left,C=_.top,E=_.height,R=_.width;return ve.createElement("defs",null,ve.createElement("clipPath",{id:N},ve.createElement("rect",{x:A,y:C,height:E,width:R})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(_,A){var C=Q6(A,2),E=C[0],R=C[1];return ke(ke({},_),{},kt({},E,R.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(_,A){var C=Q6(A,2),E=C[0],R=C[1];return ke(ke({},_),{},kt({},E,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(N){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[N])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(N){var _=this.state,A=_.formattedGraphicalItems,C=_.activeItem;if(A&&A.length)for(var E=0,R=A.length;E<R;E++){var L=A[E],U=L.props,S=L.item,O=S.type.defaultProps!==void 0?ke(ke({},S.type.defaultProps),S.props):S.props,k=Lo(S.type);if(k==="Bar"){var M=(U.data||[]).find(function(W){return Hae(N,W)});if(M)return{graphicalItem:L,payload:M}}else if(k==="RadialBar"){var $=(U.data||[]).find(function(W){return gE(N,W)});if($)return{graphicalItem:L,payload:$}}else if(tv(L,C)||rv(L,C)||Eh(L,C)){var F=Rie({graphicalItem:L,activeTooltipItem:C,itemData:O.data}),z=O.activeIndex===void 0?F:O.activeIndex;return{graphicalItem:ke(ke({},L),{},{childIndex:z}),payload:Eh(L,C)?O.data[F]:L.props.data[F]}}}return null}},{key:"render",value:function(){var N=this;if(!P4(this))return null;var _=this.props,A=_.children,C=_.className,E=_.width,R=_.height,L=_.style,U=_.compact,S=_.title,O=_.desc,k=eT(_,ice),M=ar(k,!1);if(U)return ve.createElement(I6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement(fw,Mu({},M,{width:E,height:R,title:S,desc:O}),this.renderClipPath(),E4(A,this.renderMap)));if(this.props.accessibilityLayer){var $,F;M.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,M.role=(F=this.props.role)!==null&&F!==void 0?F:"application",M.onKeyDown=function(W){N.accessibilityManager.keyboardEvent(W)},M.onFocus=function(){N.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return ve.createElement(I6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement("div",Mu({className:ir("recharts-wrapper",C),style:ke({position:"relative",cursor:"default",width:E,height:R},L)},z,{ref:function(q){N.container=q}}),ve.createElement(fw,Mu({},M,{width:E,height:R,title:S,desc:O,style:Nce}),this.renderClipPath(),E4(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);kt(v,"displayName",r),kt(v,"defaultProps",ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),kt(v,"getDerivedStateFromProps",function(g,b){var w=g.dataKey,N=g.data,_=g.children,A=g.width,C=g.height,E=g.layout,R=g.stackOffset,L=g.margin,U=b.dataStartIndex,S=b.dataEndIndex;if(b.updateId===void 0){var O=nT(g);return ke(ke(ke({},O),{},{updateId:0},h(ke(ke({props:g},O),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:N,prevWidth:A,prevHeight:C,prevLayout:E,prevStackOffset:R,prevMargin:L,prevChildren:_})}if(w!==b.prevDataKey||N!==b.prevData||A!==b.prevWidth||C!==b.prevHeight||E!==b.prevLayout||R!==b.prevStackOffset||!zu(L,b.prevMargin)){var k=nT(g),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},$=ke(ke({},rT(b,N,E)),{},{updateId:b.updateId+1}),F=ke(ke(ke({},k),M),$);return ke(ke(ke({},F),h(ke({props:g},F),b)),{},{prevDataKey:w,prevData:N,prevWidth:A,prevHeight:C,prevLayout:E,prevStackOffset:R,prevMargin:L,prevChildren:_})}if(!uw(_,b.prevChildren)){var z,W,q,ee,de=fi(_,pd),B=de&&(z=(W=de.props)===null||W===void 0?void 0:W.startIndex)!==null&&z!==void 0?z:U,G=de&&(q=(ee=de.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&q!==void 0?q:S,Z=B!==U||G!==S,te=!rr(N),ne=te&&!Z?b.updateId:b.updateId+1;return ke(ke({updateId:ne},h(ke(ke({props:g},b),{},{updateId:ne,dataStartIndex:B,dataEndIndex:G}),b)),{},{prevChildren:_,dataStartIndex:B,dataEndIndex:G})}return null}),kt(v,"renderActiveDot",function(g,b,w){var N;return j.isValidElement(g)?N=j.cloneElement(g,b):Jt(g)?N=g(b):N=ve.createElement(ZS,b),ve.createElement(vn,{className:"recharts-active-dot",key:w},N)});var m=j.forwardRef(function(b,w){return ve.createElement(v,Mu({},b,{ref:w}))});return m.displayName=v.displayName,m},oA=C7({chartName:"LineChart",GraphicalChild:gi,axisComponents:[{axisType:"xAxis",AxisComp:Yl},{axisType:"yAxis",AxisComp:Xl}],formatAxisMap:GM}),kce=C7({chartName:"BarChart",GraphicalChild:ql,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yl},{axisType:"yAxis",AxisComp:Xl}],formatAxisMap:GM});const iT=1095,sT=365;function oT(t){if(t.length===0)return{mean:0,median:0,max:0,min:0,stdDev:0,positivePercentage:0};const e=[...t].sort((d,f)=>d-f),r=t.reduce((d,f)=>d+f,0)/t.length,n=e.length%2===0?(e[e.length/2-1]+e[e.length/2])/2:e[Math.floor(e.length/2)],a=Math.max(...t),i=Math.min(...t),s=t.reduce((d,f)=>d+Math.pow(f-r,2),0)/t.length,o=Math.sqrt(s),c=t.filter(d=>d>0).length/t.length*100;return{mean:r,median:n,max:a,min:i,stdDev:o,positivePercentage:c}}async function lT(t,e,r,n,a,i){const s=e[r[0]];if(!s||s.length===0)return{bucketReturns:[],fundReturns:{},totalPeriods:0};const o=[],l={};t.forEach(p=>{l[p.id]=[]});const c=new Date(Br()),d=50,f=()=>new Promise(p=>setTimeout(p,0));for(let p=0;p<=s.length-n;p++){const h=s[p].date,v=new Date(h);v.setDate(v.getDate()+n-1);const m=v.toISOString().split("T")[0];if(v>c)continue;const g=1e5;let b=0,w=0,N=!0;const _={},A={};if(t.forEach(C=>{const E=e[C.id];if(!E||E.length===0){N=!1;return}const R=g*(C.weightage/100),L=ms(E,h),U=ms(E,m);if(L&&U&&L.nav>0&&U.nav>0){const S=(new Date(U.date).getTime()-new Date(L.date).getTime())/864e5,O=30;if(S>=n-O&&S<=n+O){const M=R/L.nav*U.nav;A[C.id]=R,_[C.id]=M,b+=R,w+=M}else N=!1}else N=!1}),N&&b>0&&w>0){const C=(v.getTime()-new Date(h).getTime())/864e5,E=C>0?(Math.pow(w/b,365/C)-1)*100:0;o.push(E),t.forEach(R=>{if(A[R.id]&&_[R.id]){const L=C>0?(Math.pow(_[R.id]/A[R.id],365/C)-1)*100:0;l[R.id].push(L)}})}(p+1)%d===0&&await f()}return{bucketReturns:o,fundReturns:l,totalPeriods:o.length}}async function Hd(t){if(t.length===0)throw new Error("At least one fund is required");const e=t.map(v=>new Date(v.launchDate)).filter(v=>!isNaN(v.getTime()));if(e.length===0)throw new Error("Invalid launch dates for funds");const n=new Date(Math.max(...e.map(v=>v.getTime()))).toISOString().split("T")[0],a=Br(),i=t.map(v=>v.id),s=await Rd(i,n,a);if(s.length===0)throw new Error("No NAV data available for the selected funds");const o={};s.forEach(v=>{o[v.schemeCode]=v.navData.map(m=>({date:m.date,nav:m.nav})).sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime())});let l=await lT(t,o,i,iT),c="3Y",d=iT,f;l.totalPeriods===0&&(l=await lT(t,o,i,sT),l.totalPeriods>0?(c="1Y",d=sT,f="Insufficient data for 3-year rolling returns. Showing 1-year rolling returns instead."):(c="insufficient",d=0,f="Not enough historical NAV data available. Need at least 1 year of data for rolling returns calculation."));const p=oT(l.bucketReturns),h=t.map(v=>{const m=l.fundReturns[v.id]||[],g=oT(m);return{fundId:v.id,fundName:v.name,...g}});return{rollingReturns:{bucket:p,funds:h},analysisStartDate:n,analysisEndDate:a,totalPeriods:l.totalPeriods,windowType:c,windowDays:d,message:f}}function lA({funds:t,onMetricsCalculated:e}){const[r,n]=j.useState({metrics:null,isLoading:!1,error:null});if(j.useEffect(()=>{let o=!0;return(async()=>{if(t.length===0){o&&n({metrics:null,isLoading:!1,error:null});return}o&&n(c=>({...c,isLoading:!0,error:null}));try{const c=await Hd(t);o&&(n({metrics:c,isLoading:!1,error:null}),e&&e(c))}catch(c){o&&n({metrics:null,isLoading:!1,error:c.message||"Failed to calculate rolling returns"})}})(),()=>{o=!1}},[t]),t.length===0)return null;if(r.isLoading)return u.jsx(Ve,{className:"p-6 border-slate-200",children:u.jsxs("div",{className:"flex items-center justify-center gap-3 text-slate-600",children:[u.jsx(Sa,{className:"h-5 w-5 animate-spin text-blue-600"}),u.jsx("span",{children:"Analyzing portfolio historical performance..."})]})});if(r.error)return u.jsxs(Ve,{className:"p-4 bg-red-50 border-red-200",children:[u.jsxs("div",{className:"flex items-center gap-2 text-red-700 mb-1",children:[u.jsx(Yf,{className:"h-4 w-4"}),u.jsx("span",{className:"font-medium",children:"Analysis Error"})]}),u.jsx("p",{className:"text-sm text-red-600",children:r.error})]});const{metrics:a}=r;if(!a||a.windowType==="insufficient")return u.jsxs(Ve,{className:"p-6 bg-amber-50 border-amber-200",children:[u.jsxs("div",{className:"flex items-center gap-2 text-amber-800 mb-2",children:[u.jsx(Yf,{className:"h-5 w-5"}),u.jsx("h3",{className:"font-semibold",children:"Insufficient Historical Data"})]}),u.jsx("p",{className:"text-sm text-amber-700",children:a?.message||"Not enough historical data available to calculate rolling returns for the selected funds."})]});const i=a.rollingReturns.bucket,s=a.windowType==="3Y";return u.jsxs(Ve,{className:"border-slate-200 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-slate-50/50",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[u.jsx(YB,{className:"h-5 w-5 text-blue-600"}),"Portfolio Performance Analysis"]}),u.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Based on ",s?"3-year":"1-year"," rolling returns (Daily Lumpsum)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 divide-x divide-y md:divide-y-0 border-slate-100",children:[u.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[u.jsx("div",{className:"text-sm text-slate-500 mb-1 flex items-center justify-center gap-1.5",children:"Average Return"}),u.jsxs("div",{className:`text-2xl font-bold ${i.mean>=0?"text-green-600":"text-red-600"}`,children:[i.mean.toFixed(2),"%"]}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Mean Annualized"})]}),u.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[u.jsx("div",{className:"text-sm text-slate-500 mb-1 flex items-center justify-center gap-1.5",children:"Best Performance"}),u.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",i.max.toFixed(2),"%"]}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Maximum Return"})]}),u.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[u.jsx("div",{className:"text-sm text-slate-500 mb-1 flex items-center justify-center gap-1.5",children:"Worst Performance"}),u.jsxs("div",{className:`text-2xl font-bold ${i.min>=0?"text-green-600":"text-red-600"}`,children:[i.min>0?"+":"",i.min.toFixed(2),"%"]}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Minimum Return"})]}),u.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[u.jsx("div",{className:"text-sm text-slate-500 mb-1 flex items-center justify-center gap-1.5",children:"Consistency"}),u.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[i.positivePercentage.toFixed(2),"%"]}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Positive Periods"})]})]})]})}function Sr(t){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(t)}var Ns=Uint8Array,vi=Uint16Array,cA=Int32Array,uA=new Ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dA=new Ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cT=new Ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E7=function(t,e){for(var r=new vi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new cA(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},T7=E7(uA,2),Lce=T7.b,_5=T7.r;Lce[28]=258,_5[258]=28;var Ice=E7(dA,0),uT=Ice.r,P5=new vi(32768);for(var Hr=0;Hr<32768;++Hr){var wl=(Hr&43690)>>1|(Hr&21845)<<1;wl=(wl&52428)>>2|(wl&13107)<<2,wl=(wl&61680)>>4|(wl&3855)<<4,P5[Hr]=((wl&65280)>>8|(wl&255)<<8)>>1}var Wf=(function(t,e,r){for(var n=t.length,a=0,i=new vi(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new vi(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new vi(1<<e);var l=15-e;for(a=0;a<n;++a)if(t[a])for(var c=a<<4|t[a],d=e-t[a],f=s[t[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)o[P5[f]>>l]=c}else for(o=new vi(n),a=0;a<n;++a)t[a]&&(o[a]=P5[s[t[a]-1]++]>>15-t[a]);return o}),qc=new Ns(288);for(var Hr=0;Hr<144;++Hr)qc[Hr]=8;for(var Hr=144;Hr<256;++Hr)qc[Hr]=9;for(var Hr=256;Hr<280;++Hr)qc[Hr]=7;for(var Hr=280;Hr<288;++Hr)qc[Hr]=8;var Jg=new Ns(32);for(var Hr=0;Hr<32;++Hr)Jg[Hr]=5;var Rce=Wf(qc,9,0),Mce=Wf(Jg,5,0),O7=function(t){return(t+7)/8|0},Dce=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ns(t.subarray(e,r))},No=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},_f=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},i2=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:L7,l:0};if(a==1){var s=new Ns(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(A,C){return A.f-C.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=d&&r[c].f<r[f].f?c++:f++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new vi(p+1),v=C5(r[d-1],h,0);if(v>e){var n=0,m=0,g=v-e,b=1<<g;for(i.sort(function(C,E){return h[E.s]-h[C.s]||C.f-E.f});n<a;++n){var w=i[n].s;if(h[w]>e)m+=b-(1<<v-h[w]),h[w]=e;else break}for(m>>=g;m>0;){var N=i[n].s;h[N]<e?m-=1<<e-h[N]++-1:++n}for(;n>=0&&m;--n){var _=i[n].s;h[_]==e&&(--h[_],++m)}v=e}return{t:new Ns(h),l:v}},C5=function(t,e,r){return t.s==-1?Math.max(C5(t.l,e,r+1),C5(t.r,e,r+1)):e[t.s]=r},dT=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new vi(++e),n=0,a=t[0],i=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==a&&o!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[o]}return{c:r.subarray(0,n),n:e}},Pf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},k7=function(t,e,r){var n=r.length,a=O7(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},fT=function(t,e,r,n,a,i,s,o,l,c,d){No(e,d++,r),++a[256];for(var f=i2(a,15),p=f.t,h=f.l,v=i2(i,15),m=v.t,g=v.l,b=dT(p),w=b.c,N=b.n,_=dT(m),A=_.c,C=_.n,E=new vi(19),R=0;R<w.length;++R)++E[w[R]&31];for(var R=0;R<A.length;++R)++E[A[R]&31];for(var L=i2(E,7),U=L.t,S=L.l,O=19;O>4&&!U[cT[O-1]];--O);var k=c+5<<3,M=Pf(a,qc)+Pf(i,Jg)+s,$=Pf(a,p)+Pf(i,m)+s+14+3*O+Pf(E,U)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&k<=M&&k<=$)return k7(e,d,t.subarray(l,l+c));var F,z,W,q;if(No(e,d,1+($<M)),d+=2,$<M){F=Wf(p,h,0),z=p,W=Wf(m,g,0),q=m;var ee=Wf(U,S,0);No(e,d,N-257),No(e,d+5,C-1),No(e,d+10,O-4),d+=14;for(var R=0;R<O;++R)No(e,d+3*R,U[cT[R]]);d+=3*O;for(var de=[w,A],B=0;B<2;++B)for(var G=de[B],R=0;R<G.length;++R){var Z=G[R]&31;No(e,d,ee[Z]),d+=U[Z],Z>15&&(No(e,d,G[R]>>5&127),d+=G[R]>>12)}}else F=Rce,z=qc,W=Mce,q=Jg;for(var R=0;R<o;++R){var te=n[R];if(te>255){var Z=te>>18&31;_f(e,d,F[Z+257]),d+=z[Z+257],Z>7&&(No(e,d,te>>23&31),d+=uA[Z]);var ne=te&31;_f(e,d,W[ne]),d+=q[ne],ne>3&&(_f(e,d,te>>5&8191),d+=dA[ne])}else _f(e,d,F[te]),d+=z[te]}return _f(e,d,F[256]),d+z[256]},Fce=new cA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),L7=new Ns(0),Bce=function(t,e,r,n,a,i){var s=i.z||t.length,o=new Ns(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,d=(i.r||0)&7;if(e){d&&(l[0]=i.r>>3);for(var f=Fce[e-1],p=f>>13,h=f&8191,v=(1<<r)-1,m=i.p||new vi(32768),g=i.h||new vi(v+1),b=Math.ceil(r/3),w=2*b,N=function(we){return(t[we]^t[we+1]<<b^t[we+2]<<w)&v},_=new cA(25e3),A=new vi(288),C=new vi(32),E=0,R=0,L=i.i||0,U=0,S=i.w||0,O=0;L+2<s;++L){var k=N(L),M=L&32767,$=g[k];if(m[M]=$,g[k]=M,S<=L){var F=s-L;if((E>7e3||U>24576)&&(F>423||!c)){d=fT(t,l,0,_,A,C,R,U,O,L-O,d),U=E=R=0,O=L;for(var z=0;z<286;++z)A[z]=0;for(var z=0;z<30;++z)C[z]=0}var W=2,q=0,ee=h,de=M-$&32767;if(F>2&&k==N(L-de))for(var B=Math.min(p,F)-1,G=Math.min(32767,L),Z=Math.min(258,F);de<=G&&--ee&&M!=$;){if(t[L+W]==t[L+W-de]){for(var te=0;te<Z&&t[L+te]==t[L+te-de];++te);if(te>W){if(W=te,q=de,te>B)break;for(var ne=Math.min(de,te-2),ie=0,z=0;z<ne;++z){var fe=L-de+z&32767,se=m[fe],he=fe-se&32767;he>ie&&(ie=he,$=fe)}}}M=$,$=m[M],de+=M-$&32767}if(q){_[U++]=268435456|_5[W]<<18|uT[q];var oe=_5[W]&31,ae=uT[q]&31;R+=uA[oe]+dA[ae],++A[257+oe],++C[ae],S=L+W,++E}else _[U++]=t[L],++A[t[L]]}}for(L=Math.max(L,S);L<s;++L)_[U++]=t[L],++A[t[L]];d=fT(t,l,c,_,A,C,R,U,O,L-O,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=g,i.p=m,i.i=L,i.w=S)}else{for(var L=i.w||0;L<s+c;L+=65535){var xe=L+65535;xe>=s&&(l[d/8|0]=c,xe=s),d=k7(l,d+1,t.subarray(L,xe))}i.i=s}return Dce(o,0,n+O7(d)+a)},I7=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},$ce=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Ns(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return Bce(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},R7=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},qce=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=I7();a.p(e.dictionary),R7(t,2,a.d())}};function E5(t,e){e||(e={});var r=I7();r.p(t);var n=$ce(t,e,e.dictionary?6:2,4);return qce(n,e),R7(n,n.length-4,r.d()),n}var zce=typeof TextDecoder<"u"&&new TextDecoder,Uce=0;try{zce.decode(L7,{stream:!0}),Uce=1}catch{}function Wce(t){if(Array.isArray(t))return t}function Hce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Vce(t,e){if(t){if(typeof t=="string")return hT(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hT(t,e):void 0}}function Gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pT(t,e){return Wce(t)||Hce(t,e)||Vce(t,e)||Gce()}function mT(t,e="utf8"){return new TextDecoder(e).decode(t)}const Kce=new TextEncoder;function Yce(t){return Kce.encode(t)}const Xce=1024*8,Zce=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),s2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class fA{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Xce,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof fA)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=s2[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===Zce&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const l=new s2[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new s2[r](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return mT(this.readBytes(e))}decodeText(e=1,r="utf8"){return mT(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Yce(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Vd(t){let e=t.length;for(;--e>=0;)t[e]=0}const Jce=3,Qce=258,M7=29,eue=256,tue=eue+1+M7,D7=30,rue=512,nue=new Array((tue+2)*2);Vd(nue);const aue=new Array(D7*2);Vd(aue);const iue=new Array(rue);Vd(iue);const sue=new Array(Qce-Jce+1);Vd(sue);const oue=new Array(M7);Vd(oue);const lue=new Array(D7);Vd(lue);const cue=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+e[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var T5=cue;const uue=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},due=new Uint32Array(uue()),fue=(t,e,r,n)=>{const a=due,i=n+r;t^=-1;for(let s=n;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var Fs=fue,O5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F7={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const hue=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var pue=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)hue(r,n)&&(t[n]=r[n])}}return t},mue=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let s=t[n];r.set(s,a),a+=s.length}return r},B7={assign:pue,flattenChunks:mue};let $7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$7=!1}const Mh=new Uint8Array(256);for(let t=0;t<256;t++)Mh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Mh[254]=Mh[254]=1;var gue=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,s=t.length,o=0;for(a=0;a<s;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),i=0,a=0;i<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const vue=(t,e)=>{if(e<65534&&t.subarray&&$7)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var yue=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=t[n++];if(s<128){i[a++]=s;continue}let o=Mh[s];if(o>4){i[a++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return vue(i,a)},bue=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Mh[t[r]]>e?r:e},k5={string2buf:gue,buf2string:yue,utf8border:bue};function xue(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wue=xue;const cm=16209,Nue=16191;var Sue=function(e,r){let n,a,i,s,o,l,c,d,f,p,h,v,m,g,b,w,N,_,A,C,E,R,L,U;const S=e.state;n=e.next_in,L=e.input,a=n+(e.avail_in-5),i=e.next_out,U=e.output,s=i-(r-e.avail_out),o=i+(e.avail_out-257),l=S.dmax,c=S.wsize,d=S.whave,f=S.wnext,p=S.window,h=S.hold,v=S.bits,m=S.lencode,g=S.distcode,b=(1<<S.lenbits)-1,w=(1<<S.distbits)-1;e:do{v<15&&(h+=L[n++]<<v,v+=8,h+=L[n++]<<v,v+=8),N=m[h&b];t:for(;;){if(_=N>>>24,h>>>=_,v-=_,_=N>>>16&255,_===0)U[i++]=N&65535;else if(_&16){A=N&65535,_&=15,_&&(v<_&&(h+=L[n++]<<v,v+=8),A+=h&(1<<_)-1,h>>>=_,v-=_),v<15&&(h+=L[n++]<<v,v+=8,h+=L[n++]<<v,v+=8),N=g[h&w];r:for(;;){if(_=N>>>24,h>>>=_,v-=_,_=N>>>16&255,_&16){if(C=N&65535,_&=15,v<_&&(h+=L[n++]<<v,v+=8,v<_&&(h+=L[n++]<<v,v+=8)),C+=h&(1<<_)-1,C>l){e.msg="invalid distance too far back",S.mode=cm;break e}if(h>>>=_,v-=_,_=i-s,C>_){if(_=C-_,_>d&&S.sane){e.msg="invalid distance too far back",S.mode=cm;break e}if(E=0,R=p,f===0){if(E+=c-_,_<A){A-=_;do U[i++]=p[E++];while(--_);E=i-C,R=U}}else if(f<_){if(E+=c+f-_,_-=f,_<A){A-=_;do U[i++]=p[E++];while(--_);if(E=0,f<A){_=f,A-=_;do U[i++]=p[E++];while(--_);E=i-C,R=U}}}else if(E+=f-_,_<A){A-=_;do U[i++]=p[E++];while(--_);E=i-C,R=U}for(;A>2;)U[i++]=R[E++],U[i++]=R[E++],U[i++]=R[E++],A-=3;A&&(U[i++]=R[E++],A>1&&(U[i++]=R[E++]))}else{E=i-C;do U[i++]=U[E++],U[i++]=U[E++],U[i++]=U[E++],A-=3;while(A>2);A&&(U[i++]=U[E++],A>1&&(U[i++]=U[E++]))}}else if((_&64)===0){N=g[(N&65535)+(h&(1<<_)-1)];continue r}else{e.msg="invalid distance code",S.mode=cm;break e}break}}else if((_&64)===0){N=m[(N&65535)+(h&(1<<_)-1)];continue t}else if(_&32){S.mode=Nue;break e}else{e.msg="invalid literal/length code",S.mode=cm;break e}break}}while(n<a&&i<o);A=v>>3,n-=A,v-=A<<3,h&=(1<<v)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<o?257+(o-i):257-(i-o),S.hold=h,S.bits=v};const wu=15,gT=852,vT=592,yT=0,o2=1,bT=2,Aue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jue=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_ue=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Pue=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Cue=(t,e,r,n,a,i,s,o)=>{const l=o.bits;let c=0,d=0,f=0,p=0,h=0,v=0,m=0,g=0,b=0,w=0,N,_,A,C,E,R=null,L;const U=new Uint16Array(wu+1),S=new Uint16Array(wu+1);let O=null,k,M,$;for(c=0;c<=wu;c++)U[c]=0;for(d=0;d<n;d++)U[e[r+d]]++;for(h=l,p=wu;p>=1&&U[p]===0;p--);if(h>p&&(h=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&U[f]===0;f++);for(h<f&&(h=f),g=1,c=1;c<=wu;c++)if(g<<=1,g-=U[c],g<0)return-1;if(g>0&&(t===yT||p!==1))return-1;for(S[1]=0,c=1;c<wu;c++)S[c+1]=S[c]+U[c];for(d=0;d<n;d++)e[r+d]!==0&&(s[S[e[r+d]]++]=d);if(t===yT?(R=O=s,L=20):t===o2?(R=Aue,O=jue,L=257):(R=_ue,O=Pue,L=0),w=0,d=0,c=f,E=i,v=h,m=0,A=-1,b=1<<h,C=b-1,t===o2&&b>gT||t===bT&&b>vT)return 1;for(;;){k=c-m,s[d]+1<L?(M=0,$=s[d]):s[d]>=L?(M=O[s[d]-L],$=R[s[d]-L]):(M=96,$=0),N=1<<c-m,_=1<<v,f=_;do _-=N,a[E+(w>>m)+_]=k<<24|M<<16|$|0;while(_!==0);for(N=1<<c-1;w&N;)N>>=1;if(N!==0?(w&=N-1,w+=N):w=0,d++,--U[c]===0){if(c===p)break;c=e[r+s[d]]}if(c>h&&(w&C)!==A){for(m===0&&(m=h),E+=f,v=c-m,g=1<<v;v+m<p&&(g-=U[v+m],!(g<=0));)v++,g<<=1;if(b+=1<<v,t===o2&&b>gT||t===bT&&b>vT)return 1;A=w&C,a[A]=h<<24|v<<16|E-i|0}}return w!==0&&(a[E+w]=c-m<<24|64<<16|0),o.bits=h,0};var Hf=Cue;const Eue=0,q7=1,z7=2,{Z_FINISH:xT,Z_BLOCK:Tue,Z_TREES:um,Z_OK:zc,Z_STREAM_END:Oue,Z_NEED_DICT:kue,Z_STREAM_ERROR:Hi,Z_DATA_ERROR:U7,Z_MEM_ERROR:W7,Z_BUF_ERROR:Lue,Z_DEFLATED:wT}=F7,cv=16180,NT=16181,ST=16182,AT=16183,jT=16184,_T=16185,PT=16186,CT=16187,ET=16188,TT=16189,Qg=16190,So=16191,l2=16192,OT=16193,c2=16194,kT=16195,LT=16196,IT=16197,RT=16198,dm=16199,fm=16200,MT=16201,DT=16202,FT=16203,BT=16204,$T=16205,u2=16206,qT=16207,zT=16208,Gr=16209,H7=16210,V7=16211,Iue=852,Rue=592,Mue=15,Due=Mue,UT=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Fue(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const tu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<cv||e.mode>V7?1:0},G7=t=>{if(tu(t))return Hi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=cv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Iue),e.distcode=e.distdyn=new Int32Array(Rue),e.sane=1,e.back=-1,zc},K7=t=>{if(tu(t))return Hi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,G7(t)},Y7=(t,e)=>{let r;if(tu(t))return Hi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Hi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,K7(t))},X7=(t,e)=>{if(!t)return Hi;const r=new Fue;t.state=r,r.strm=t,r.window=null,r.mode=cv;const n=Y7(t,e);return n!==zc&&(t.state=null),n},Bue=t=>X7(t,Due);let WT=!0,d2,f2;const $ue=t=>{if(WT){d2=new Int32Array(512),f2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Hf(q7,t.lens,0,288,d2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Hf(z7,t.lens,0,32,f2,0,t.work,{bits:5}),WT=!1}t.lencode=d2,t.lenbits=9,t.distcode=f2,t.distbits=5},Z7=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},que=(t,e)=>{let r,n,a,i,s,o,l,c,d,f,p,h,v,m,g=0,b,w,N,_,A,C,E,R;const L=new Uint8Array(4);let U,S;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(tu(t)||!t.output||!t.input&&t.avail_in!==0)return Hi;r=t.state,r.mode===So&&(r.mode=l2),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,f=o,p=l,R=zc;e:for(;;)switch(r.mode){case cv:if(r.wrap===0){r.mode=l2;break}for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,L[0]=c&255,L[1]=c>>>8&255,r.check=Fs(r.check,L,2,0),c=0,d=0,r.mode=NT;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Gr;break}if((c&15)!==wT){t.msg="unknown compression method",r.mode=Gr;break}if(c>>>=4,d-=4,E=(c&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=Gr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?TT:So,c=0,d=0;break;case NT:for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==wT){t.msg="unknown compression method",r.mode=Gr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Gr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Fs(r.check,L,2,0)),c=0,d=0,r.mode=ST;case ST:for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,L[2]=c>>>16&255,L[3]=c>>>24&255,r.check=Fs(r.check,L,4,0)),c=0,d=0,r.mode=AT;case AT:for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Fs(r.check,L,2,0)),c=0,d=0,r.mode=jT;case jT:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Fs(r.check,L,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=_T;case _T:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),E)),r.flags&512&&r.wrap&4&&(r.check=Fs(r.check,n,h,i)),o-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=PT;case PT:if(r.flags&2048){if(o===0)break e;h=0;do E=n[i+h++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Fs(r.check,n,h,i)),o-=h,i+=h,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=CT;case CT:if(r.flags&4096){if(o===0)break e;h=0;do E=n[i+h++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Fs(r.check,n,h,i)),o-=h,i+=h,E)break e}else r.head&&(r.head.comment=null);r.mode=ET;case ET:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Gr;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=So;break;case TT:for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}t.adler=r.check=UT(c),c=0,d=0,r.mode=Qg;case Qg:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=d,kue;t.adler=r.check=1,r.mode=So;case So:if(e===Tue||e===um)break e;case l2:if(r.last){c>>>=d&7,d-=d&7,r.mode=u2;break}for(;d<3;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=OT;break;case 1:if($ue(r),r.mode=dm,e===um){c>>>=2,d-=2;break e}break;case 2:r.mode=LT;break;case 3:t.msg="invalid block type",r.mode=Gr}c>>>=2,d-=2;break;case OT:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Gr;break}if(r.length=c&65535,c=0,d=0,r.mode=c2,e===um)break e;case c2:r.mode=kT;case kT:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;a.set(n.subarray(i,i+h),s),o-=h,i+=h,l-=h,s+=h,r.length-=h;break}r.mode=So;break;case LT:for(;d<14;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Gr;break}r.have=0,r.mode=IT;case IT:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.lens[O[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},R=Hf(Eue,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,R){t.msg="invalid code lengths set",r.mode=Gr;break}r.have=0,r.mode=RT;case RT:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[c&(1<<r.lenbits)-1],b=g>>>24,w=g>>>16&255,N=g&65535,!(b<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(N<16)c>>>=b,d-=b,r.lens[r.have++]=N;else{if(N===16){for(S=b+2;d<S;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(c>>>=b,d-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=Gr;break}E=r.lens[r.have-1],h=3+(c&3),c>>>=2,d-=2}else if(N===17){for(S=b+3;d<S;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=b,d-=b,E=0,h=3+(c&7),c>>>=3,d-=3}else{for(S=b+7;d<S;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=b,d-=b,E=0,h=11+(c&127),c>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Gr;break}for(;h--;)r.lens[r.have++]=E}}if(r.mode===Gr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Gr;break}if(r.lenbits=9,U={bits:r.lenbits},R=Hf(q7,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,R){t.msg="invalid literal/lengths set",r.mode=Gr;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},R=Hf(z7,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,R){t.msg="invalid distances set",r.mode=Gr;break}if(r.mode=dm,e===um)break e;case dm:r.mode=fm;case fm:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=d,Sue(t,p),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,r.mode===So&&(r.back=-1);break}for(r.back=0;g=r.lencode[c&(1<<r.lenbits)-1],b=g>>>24,w=g>>>16&255,N=g&65535,!(b<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(w&&(w&240)===0){for(_=b,A=w,C=N;g=r.lencode[C+((c&(1<<_+A)-1)>>_)],b=g>>>24,w=g>>>16&255,N=g&65535,!(_+b<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=_,d-=_,r.back+=_}if(c>>>=b,d-=b,r.back+=b,r.length=N,w===0){r.mode=$T;break}if(w&32){r.back=-1,r.mode=So;break}if(w&64){t.msg="invalid literal/length code",r.mode=Gr;break}r.extra=w&15,r.mode=MT;case MT:if(r.extra){for(S=r.extra;d<S;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DT;case DT:for(;g=r.distcode[c&(1<<r.distbits)-1],b=g>>>24,w=g>>>16&255,N=g&65535,!(b<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if((w&240)===0){for(_=b,A=w,C=N;g=r.distcode[C+((c&(1<<_+A)-1)>>_)],b=g>>>24,w=g>>>16&255,N=g&65535,!(_+b<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=_,d-=_,r.back+=_}if(c>>>=b,d-=b,r.back+=b,w&64){t.msg="invalid distance code",r.mode=Gr;break}r.offset=N,r.extra=w&15,r.mode=FT;case FT:if(r.extra){for(S=r.extra;d<S;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Gr;break}r.mode=BT;case BT:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Gr;break}h>r.wnext?(h-=r.wnext,v=r.wsize-h):v=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=a,v=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do a[s++]=m[v++];while(--h);r.length===0&&(r.mode=fm);break;case $T:if(l===0)break e;a[s++]=r.length,l--,r.mode=fm;break;case u2:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[i++]<<d,d+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Fs(r.check,a,p,s-p):T5(r.check,a,p,s-p)),p=l,r.wrap&4&&(r.flags?c:UT(c))!==r.check){t.msg="incorrect data check",r.mode=Gr;break}c=0,d=0}r.mode=qT;case qT:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Gr;break}c=0,d=0}r.mode=zT;case zT:R=Oue;break e;case Gr:R=U7;break e;case H7:return W7;case V7:default:return Hi}return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Gr&&(r.mode<u2||e!==xT))&&Z7(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Fs(r.check,a,p,t.next_out-p):T5(r.check,a,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===So?128:0)+(r.mode===dm||r.mode===c2?256:0),(f===0&&p===0||e===xT)&&R===zc&&(R=Lue),R},zue=t=>{if(tu(t))return Hi;let e=t.state;return e.window&&(e.window=null),t.state=null,zc},Uue=(t,e)=>{if(tu(t))return Hi;const r=t.state;return(r.wrap&2)===0?Hi:(r.head=e,e.done=!1,zc)},Wue=(t,e)=>{const r=e.length;let n,a,i;return tu(t)||(n=t.state,n.wrap!==0&&n.mode!==Qg)?Hi:n.mode===Qg&&(a=1,a=T5(a,e,r,0),a!==n.check)?U7:(i=Z7(t,e,r,r),i?(n.mode=H7,W7):(n.havedict=1,zc))};var Hue=K7,Vue=Y7,Gue=G7,Kue=Bue,Yue=X7,Xue=que,Zue=zue,Jue=Uue,Que=Wue,ede="pako inflate (from Nodeca project)",jo={inflateReset:Hue,inflateReset2:Vue,inflateResetKeep:Gue,inflateInit:Kue,inflateInit2:Yue,inflate:Xue,inflateEnd:Zue,inflateGetHeader:Jue,inflateSetDictionary:Que,inflateInfo:ede};function tde(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rde=tde;const J7=Object.prototype.toString,{Z_NO_FLUSH:nde,Z_FINISH:ade,Z_OK:Dh,Z_STREAM_END:h2,Z_NEED_DICT:p2,Z_STREAM_ERROR:ide,Z_DATA_ERROR:HT,Z_MEM_ERROR:sde}=F7;function mp(t){this.options=B7.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wue,this.strm.avail_out=0;let r=jo.inflateInit2(this.strm,e.windowBits);if(r!==Dh)throw new Error(O5[r]);if(this.header=new rde,jo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=k5.string2buf(e.dictionary):J7.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=jo.inflateSetDictionary(this.strm,e.dictionary),r!==Dh)))throw new Error(O5[r])}mp.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?ade:nde,J7.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=jo.inflate(r,s),i===p2&&a&&(i=jo.inflateSetDictionary(r,a),i===Dh?i=jo.inflate(r,s):i===HT&&(i=p2));r.avail_in>0&&i===h2&&r.state.wrap>0&&t[r.next_in]!==0;)jo.inflateReset(r),i=jo.inflate(r,s);switch(i){case ide:case HT:case p2:case sde:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===h2))if(this.options.to==="string"){let l=k5.utf8border(r.output,r.next_out),c=r.next_out-l,d=k5.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Dh&&o===0)){if(i===h2)return i=jo.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};mp.prototype.onData=function(t){this.chunks.push(t)};mp.prototype.onEnd=function(t){t===Dh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B7.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function ode(t,e){const r=new mp(e);if(r.push(t),r.err)throw r.msg||O5[r.err];return r.result}var lde=mp,cde=ode,ude={Inflate:lde,inflate:cde};const{Inflate:dde,inflate:fde}=ude;var VT=dde,hde=fde;const Q7=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Q7[t]=e}const GT=4294967295;function pde(t,e,r){let n=t;for(let a=0;a<r;a++)n=Q7[(n^e[a])&255]^n>>>8;return n}function mde(t,e){return(pde(GT,t,e)^GT)>>>0}function KT(t,e,r){const n=t.readUint32(),a=mde(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function eD(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function tD(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function rD(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function nD(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function aD(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+gde(e[i-a],r[i],r[i-a])&255}}function gde(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),s=Math.abs(n-r);return a<=i&&a<=s?t:i<=s?e:r}function vde(t,e,r,n,a,i){switch(t){case 0:eD(e,r,a);break;case 1:tD(e,r,a,i);break;case 2:rD(e,r,n,a);break;case 3:nD(e,r,n,a,i);break;case 4:aD(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const yde=new Uint16Array([255]),bde=new Uint8Array(yde.buffer),xde=bde[0]===255;function wde(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,l=new Uint8Array(n*r*o);let c=0;for(let d=0;d<7;d++){const f=s[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const v=p*o,m=new Uint8Array(v);for(let g=0;g<h;g++){const b=e[c++],w=e.subarray(c,c+v);c+=v;const N=new Uint8Array(v);vde(b,w,N,m,v,o),m.set(N);for(let _=0;_<p;_++){const A=f.x+_*f.xStep,C=f.y+g*f.yStep;if(!(A>=r||C>=n))for(let E=0;E<o;E++)l[(C*r+A)*o+E]=N[_*o+E]}}}if(i===16){const d=new Uint16Array(l.buffer);if(xde)for(let f=0;f<d.length;f++)d[f]=Nde(d[f]);return d}else return l}function Nde(t){return(t&255)<<8|t>>8&255}const Sde=new Uint16Array([255]),Ade=new Uint8Array(Sde.buffer),jde=Ade[0]===255,_de=new Uint8Array(0);function YT(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),l=new Uint8Array(n*o);let c=_de,d=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+o),p=l.subarray(h*o,(h+1)*o),e[d]){case 0:eD(f,p,o);break;case 1:tD(f,p,o,s);break;case 2:rD(f,p,c,o);break;case 3:nD(f,p,c,o,s);break;case 4:aD(f,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}c=p,d+=o+1}if(i===16){const h=new Uint16Array(l.buffer);if(jde)for(let v=0;v<h.length;v++)h[v]=Pde(h[v]);return h}else return l}function Pde(t){return(t&255)<<8|t>>8&255}const Im=Uint8Array.of(137,80,78,71,13,10,26,10);function XT(t){if(!Cde(t.readBytes(Im.length)))throw new Error("wrong PNG signature")}function Cde(t){if(t.length<Im.length)return!1;for(let e=0;e<Im.length;e++)if(t[e]!==Im[e])return!1;return!0}const Ede="tEXt",Tde=0,iD=new TextDecoder("latin1");function Ode(t){if(Lde(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const kde=/^[\u0000-\u00FF]*$/;function Lde(t){if(!kde.test(t))throw new Error("invalid latin1 text")}function Ide(t,e,r){const n=sD(e);t[n]=Rde(e,r-n.length-1)}function sD(t){for(t.mark();t.readByte()!==Tde;);const e=t.offset;t.reset();const r=iD.decode(t.readBytes(e-t.offset-1));return t.skip(1),Ode(r),r}function Rde(t,e){return iD.decode(t.readBytes(e))}const li={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},m2={UNKNOWN:-1,DEFLATE:0},ZT={UNKNOWN:-1,ADAPTIVE:0},g2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},hm={NONE:0,BACKGROUND:1,PREVIOUS:2},v2={SOURCE:0,OVER:1};class Mde extends fA{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new VT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=m2.UNKNOWN,this._filterMethod=ZT.UNKNOWN,this._interlaceMethod=g2.UNKNOWN,this._colorType=li.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(XT(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(XT(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Ede:Ide(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?KT(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?KT(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Dde(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case li.GREYSCALE:n=1;break;case li.TRUECOLOUR:n=3;break;case li.INDEXED_COLOUR:n=1;break;case li.GREYSCALE_ALPHA:n=2;break;case li.TRUECOLOUR_ALPHA:n=4;break;case li.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==m2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case li.GREYSCALE:case li.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case li.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case li.UNKNOWN:case li.GREYSCALE_ALPHA:case li.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=sD(this),n=this.readUint8();if(n!==m2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:hde(a)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=YT({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case hm.NONE:break;case hm.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const s=(a*e.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[s+o]=0}break;case hm.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,a=(i,s)=>{const o=((i+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,l=(i*r.width+s)*this._png.channels;return{index:o,frameIndex:l}};switch(r.blendOp){case v2.SOURCE:for(let i=0;i<r.height;i++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:l}=a(i,s);for(let c=0;c<this._png.channels;c++)e.data[o+c]=r.data[l+c]}break;case v2.OVER:for(let i=0;i<r.height;i++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:l}=a(i,s);for(let c=0;c<this._png.channels;c++){const d=r.data[l+this._png.channels-1]/n,f=c%(this._png.channels-1)===0?1:r.data[l+c],p=Math.floor(d*f+(1-d)*e.data[o+c]);e.data[o+c]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ZT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===g2.NO_INTERLACE)this._png.data=YT({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===g2.ADAM7)this._png.data=wde({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:hm.NONE,blendOp:v2.SOURCE,data:e}),this._inflator=new VT,this._writingDataChunks=!1}}function Dde(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var JT;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(JT||(JT={}));function Fde(t,e){return new Mde(t,e).decode()}var Ft=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function y2(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var Er={log:y2,warn:function(t){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):y2.call(null,arguments))},error:function(t){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):y2(t))}};function b2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){bc(n.response,e,r)},n.onerror=function(){Er.error("could not download file")},n.send()}function QT(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var bc=Ft.saveAs||((typeof window>"u"?"undefined":Sr(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ft.URL||Ft.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?QT(a.href)?b2(t,e,r):pm(a,a.target="_blank"):pm(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){pm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(QT(t))b2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){pm(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Sr(i)!=="object"&&(Er.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return b2(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Ft.HTMLElement)||Ft.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Sr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=Ft.URL||Ft.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oD(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var Rm=Ft.atob.bind(Ft),eO=Ft.btoa.bind(Ft);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function x2(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=ma(r,n,a,i,e[0],7,-680876936),i=ma(i,r,n,a,e[1],12,-389564586),a=ma(a,i,r,n,e[2],17,606105819),n=ma(n,a,i,r,e[3],22,-1044525330),r=ma(r,n,a,i,e[4],7,-176418897),i=ma(i,r,n,a,e[5],12,1200080426),a=ma(a,i,r,n,e[6],17,-1473231341),n=ma(n,a,i,r,e[7],22,-45705983),r=ma(r,n,a,i,e[8],7,1770035416),i=ma(i,r,n,a,e[9],12,-1958414417),a=ma(a,i,r,n,e[10],17,-42063),n=ma(n,a,i,r,e[11],22,-1990404162),r=ma(r,n,a,i,e[12],7,1804603682),i=ma(i,r,n,a,e[13],12,-40341101),a=ma(a,i,r,n,e[14],17,-1502002290),r=ga(r,n=ma(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=ga(i,r,n,a,e[6],9,-1069501632),a=ga(a,i,r,n,e[11],14,643717713),n=ga(n,a,i,r,e[0],20,-373897302),r=ga(r,n,a,i,e[5],5,-701558691),i=ga(i,r,n,a,e[10],9,38016083),a=ga(a,i,r,n,e[15],14,-660478335),n=ga(n,a,i,r,e[4],20,-405537848),r=ga(r,n,a,i,e[9],5,568446438),i=ga(i,r,n,a,e[14],9,-1019803690),a=ga(a,i,r,n,e[3],14,-187363961),n=ga(n,a,i,r,e[8],20,1163531501),r=ga(r,n,a,i,e[13],5,-1444681467),i=ga(i,r,n,a,e[2],9,-51403784),a=ga(a,i,r,n,e[7],14,1735328473),r=va(r,n=ga(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=va(i,r,n,a,e[8],11,-2022574463),a=va(a,i,r,n,e[11],16,1839030562),n=va(n,a,i,r,e[14],23,-35309556),r=va(r,n,a,i,e[1],4,-1530992060),i=va(i,r,n,a,e[4],11,1272893353),a=va(a,i,r,n,e[7],16,-155497632),n=va(n,a,i,r,e[10],23,-1094730640),r=va(r,n,a,i,e[13],4,681279174),i=va(i,r,n,a,e[0],11,-358537222),a=va(a,i,r,n,e[3],16,-722521979),n=va(n,a,i,r,e[6],23,76029189),r=va(r,n,a,i,e[9],4,-640364487),i=va(i,r,n,a,e[12],11,-421815835),a=va(a,i,r,n,e[15],16,530742520),r=ya(r,n=va(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=ya(i,r,n,a,e[7],10,1126891415),a=ya(a,i,r,n,e[14],15,-1416354905),n=ya(n,a,i,r,e[5],21,-57434055),r=ya(r,n,a,i,e[12],6,1700485571),i=ya(i,r,n,a,e[3],10,-1894986606),a=ya(a,i,r,n,e[10],15,-1051523),n=ya(n,a,i,r,e[1],21,-2054922799),r=ya(r,n,a,i,e[8],6,1873313359),i=ya(i,r,n,a,e[15],10,-30611744),a=ya(a,i,r,n,e[6],15,-1560198380),n=ya(n,a,i,r,e[13],21,1309151649),r=ya(r,n,a,i,e[4],6,-145523070),i=ya(i,r,n,a,e[11],10,-1120210379),a=ya(a,i,r,n,e[2],15,718787259),n=ya(n,a,i,r,e[9],21,-343485551),t[0]=El(r,t[0]),t[1]=El(n,t[1]),t[2]=El(a,t[2]),t[3]=El(i,t[3])}function uv(t,e,r,n,a,i){return e=El(El(e,t),El(n,i)),El(e<<a|e>>>32-a,r)}function ma(t,e,r,n,a,i,s){return uv(e&r|~e&n,t,e,a,i,s)}function ga(t,e,r,n,a,i,s){return uv(e&n|r&~n,t,e,a,i,s)}function va(t,e,r,n,a,i,s){return uv(e^r^n,t,e,a,i,s)}function ya(t,e,r,n,a,i,s){return uv(r^(e|~n),t,e,a,i,s)}function lD(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)x2(n,Bde(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(x2(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,x2(n,a),n}function Bde(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var tO="0123456789abcdef".split("");function $de(t){for(var e="",r=0;r<4;r++)e+=tO[t>>8*r+4&15]+tO[t>>8*r&15];return e}function qde(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function L5(t){return lD(t).map(qde).join("")}var zde=(function(t){for(var e=0;e<t.length;e++)t[e]=$de(t[e]);return t.join("")})(lD("hello"))!="5d41402abc4b2a76b9719d911017c592";function El(t,e){if(zde){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function I5(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+s.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=t,n=o}else o=n;var f=e.length,p=0,h=0,v="";for(l=0;l<f;l++)h=(h+(d=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=d,s=o[(o[p]+o[h])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var rO={print:4,modify:8,copy:16,"annot-forms":32};function ju(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(o){if(rO.perm!==void 0)throw new Error("Invalid permission: "+o);a+=rO[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=L5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=I5(this.encryptionKey,this.padding)}function _u(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function nO(t){if(Sr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(o){Ft.console&&Er.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function e0(t){if(!(this instanceof e0))return new e0(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function cD(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function xc(t,e,r,n,a){if(!(this instanceof xc))return new xc(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,cD.call(this,n,a)}function Du(t,e,r,n,a){if(!(this instanceof Du))return new Du(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,cD.call(this,n,a)}function bt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",d=null;Sr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=nO;var v="1.3",m=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(P){v=P};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var b=h.__private__.getPageFormat=function(P){return g[P]};a=a||"a4";var w="compat",N="advanced",_=w;function A(){this.saveGraphicsState(),Y(new gt(We,0,0,-We,0,Jn()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),c="n",_=N}function C(){this.restoreGraphicsState(),c="S",_=w}var E=h.__private__.combineFontStyleAndFontWeight=function(P,H){if(P=="bold"&&H=="normal"||P=="bold"&&H==400||P=="normal"&&H=="italic"||P=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(P=H==400||H==="normal"?P==="italic"?"italic":"normal":H!=700&&H!=="bold"||P!=="normal"?(H==700?"bold":H)+""+P:"bold"),P};h.advancedAPI=function(P){var H=_===w;return H&&A.call(this),typeof P!="function"||(P(this),H&&C.call(this)),this},h.compatAPI=function(P){var H=_===N;return H&&C.call(this),typeof P!="function"||(P(this),H&&A.call(this)),this},h.isAdvancedAPI=function(){return _===N};var R,L=function(P){if(_!==N)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=h.roundToPrecision=h.__private__.roundToPrecision=function(P,H){var le=e||H;if(isNaN(P)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(le).replace(/0+$/,"")};R=h.hpf=h.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return U(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return U(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return U(P,16)};var S=h.f2=h.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return U(P,2)},O=h.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return U(P,3)},k=h.scale=h.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return _===w?P*We:_===N?P:void 0},M=function(P){return k((function(H){return _===w?Jn()-H:_===N?H:void 0})(P))};h.__private__.setPrecision=h.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var $,F="00000000000000000000000000000000",z=h.__private__.getFileId=function(){return F},W=h.__private__.setFileId=function(P){return F=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Zr=new ju(d.userPermissions,d.userPassword,d.ownerPassword,F)),F};h.setFileId=function(P){return W(P),this},h.getFileId=function(){return z()};var q=h.__private__.convertDateToPDFDate=function(P){var H=P.getTimezoneOffset(),le=H<0?"+":"-",me=Math.floor(Math.abs(H/60)),Ne=Math.abs(H%60),Ie=[le,Z(me),"'",Z(Ne),"'"].join("");return["D:",P.getFullYear(),Z(P.getMonth()+1),Z(P.getDate()),Z(P.getHours()),Z(P.getMinutes()),Z(P.getSeconds()),Ie].join("")},ee=h.__private__.convertPDFDateToDate=function(P){var H=parseInt(P.substr(2,4),10),le=parseInt(P.substr(6,2),10)-1,me=parseInt(P.substr(8,2),10),Ne=parseInt(P.substr(10,2),10),Ie=parseInt(P.substr(12,2),10),Be=parseInt(P.substr(14,2),10);return new Date(H,le,me,Ne,Ie,Be,0)},de=h.__private__.setCreationDate=function(P){var H;if(P===void 0&&(P=new Date),P instanceof Date)H=q(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=P}return $=H},B=h.__private__.getCreationDate=function(P){var H=$;return P==="jsDate"&&(H=ee($)),H};h.setCreationDate=function(P){return de(P),this},h.getCreationDate=function(P){return B(P)};var G,Z=h.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},te=h.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ne=0,ie=[],fe=[],se=0,he=[],oe=[],ae=!1,xe=fe;h.__private__.setCustomOutputDestination=function(P){ae=!0,xe=P};var we=function(P){ae||(xe=P)};h.__private__.resetCustomOutputDestination=function(){ae=!1,xe=fe};var Y=h.__private__.out=function(P){return P=P.toString(),se+=P.length+1,xe.push(P),xe},ge=h.__private__.write=function(P){return Y(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},De=h.__private__.getArrayBuffer=function(P){for(var H=P.length,le=new ArrayBuffer(H),me=new Uint8Array(le);H--;)me[H]=P.charCodeAt(H);return le},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Fe};var Pe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(P){return Pe=_===N?P/We:P,this};var Ge,Te=h.__private__.getFontSize=h.getFontSize=function(){return _===w?Pe:Pe*We},ze=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(P){return ze=P,this},h.__private__.getR2L=h.getR2L=function(){return ze};var Ue,Ye=h.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Ge=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Ge=P}else Ge=parseInt(P,10)};h.__private__.getZoomMode=function(){return Ge};var Ze,wt=h.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Ue=P};h.__private__.getPageMode=function(){return Ue};var Pt=h.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Ze=P};h.__private__.getLayoutMode=function(){return Ze},h.__private__.setDisplayMode=h.setDisplayMode=function(P,H,le){return Ye(P),Pt(H),wt(le),this};var Ce={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(P){if(Object.keys(Ce).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ce[P]},h.__private__.getDocumentProperties=function(){return Ce},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(P){for(var H in Ce)Ce.hasOwnProperty(H)&&P[H]&&(Ce[H]=P[H]);return this},h.__private__.setDocumentProperty=function(P,H){if(Object.keys(Ce).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ce[P]=H};var Ae,We,qe,rt,st,mt={},Nt={},Yt=[],et={},zt={},tt={},ut={},Xt=null,_t=0,ot=[],Lt=new nO(h),en=t.hotfixes||[],Ar={},tn={},Or=[],gt=function P(H,le,me,Ne,Ie,Be){if(!(this instanceof P))return new P(H,le,me,Ne,Ie,Be);isNaN(H)&&(H=1),isNaN(le)&&(le=0),isNaN(me)&&(me=0),isNaN(Ne)&&(Ne=1),isNaN(Ie)&&(Ie=0),isNaN(Be)&&(Be=0),this._matrix=[H,le,me,Ne,Ie,Be]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(P)},gt.prototype.multiply=function(P){var H=P.sx*this.sx+P.shy*this.shx,le=P.sx*this.shy+P.shy*this.sy,me=P.shx*this.sx+P.sy*this.shx,Ne=P.shx*this.shy+P.sy*this.sy,Ie=P.tx*this.sx+P.ty*this.shx+this.tx,Be=P.tx*this.shy+P.ty*this.sy+this.ty;return new gt(H,le,me,Ne,Ie,Be)},gt.prototype.decompose=function(){var P=this.sx,H=this.shy,le=this.shx,me=this.sy,Ne=this.tx,Ie=this.ty,Be=Math.sqrt(P*P+H*H),ht=(P/=Be)*le+(H/=Be)*me;le-=P*ht,me-=H*ht;var At=Math.sqrt(le*le+me*me);return ht/=At,P*(me/=At)<H*(le/=At)&&(P=-P,H=-H,ht=-ht,Be=-Be),{scale:new gt(Be,0,0,At,0,0),translate:new gt(1,0,0,1,Ne,Ie),rotate:new gt(P,H,-H,P,0,0),skew:new gt(1,0,ht,1,0,0)}},gt.prototype.toString=function(P){return this.join(" ")},gt.prototype.inversed=function(){var P=this.sx,H=this.shy,le=this.shx,me=this.sy,Ne=this.tx,Ie=this.ty,Be=1/(P*me-H*le),ht=me*Be,At=-H*Be,Bt=-le*Be,Ht=P*Be;return new gt(ht,At,Bt,Ht,-ht*Ne-Bt*Ie,-At*Ne-Ht*Ie)},gt.prototype.applyToPoint=function(P){var H=P.x*this.sx+P.y*this.shx+this.tx,le=P.x*this.shy+P.y*this.sy+this.ty;return new lt(H,le)},gt.prototype.applyToRectangle=function(P){var H=this.applyToPoint(P),le=this.applyToPoint(new lt(P.x+P.w,P.y+P.h));return new Qt(H.x,H.y,le.x-H.x,le.y-H.y)},gt.prototype.clone=function(){var P=this.sx,H=this.shy,le=this.shx,me=this.sy,Ne=this.tx,Ie=this.ty;return new gt(P,H,le,me,Ne,Ie)},h.Matrix=gt;var Yr=h.matrixMult=function(P,H){return H.multiply(P)},_n=new gt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=_n;var yn=function(P,H){if(!zt[P]){var le=(H instanceof xc?"Sh":"P")+(Object.keys(et).length+1).toString(10);H.id=le,zt[P]=le,et[le]=H,Lt.publish("addPattern",H)}};h.ShadingPattern=xc,h.TilingPattern=Du,h.addShadingPattern=function(P,H){return L("addShadingPattern()"),yn(P,H),this},h.beginTilingPattern=function(P){L("beginTilingPattern()"),Lr(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},h.endTilingPattern=function(P,H){L("endTilingPattern()"),H.stream=oe[G].join(`
`),yn(P,H),Lt.publish("endTilingPattern",H),Or.pop().restore()};var cn,gr=h.__private__.newObject=function(){var P=kr();return Rt(P,!0),P},kr=h.__private__.newObjectDeferred=function(){return ne++,ie[ne]=function(){return se},ne},Rt=function(P,H){return H=typeof H=="boolean"&&H,ie[P]=se,H&&Y(P+" 0 obj"),P},Ia=h.__private__.newAdditionalObject=function(){var P={objId:kr(),content:""};return he.push(P),P},ca=kr(),bn=kr(),Kn=h.__private__.decodeColorString=function(P){var H=P.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var le=parseFloat(H[0]);H=[le,le,le,"r"]}for(var me="#",Ne=0;Ne<3;Ne++)me+=("0"+Math.floor(255*parseFloat(H[Ne])).toString(16)).slice(-2);return me},Yn=h.__private__.encodeColorString=function(P){var H;typeof P=="string"&&(P={ch1:P});var le=P.ch1,me=P.ch2,Ne=P.ch3,Ie=P.ch4,Be=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var ht=new oD(le);if(ht.ok)le=ht.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var At=parseInt(le.substr(1),16);le=At>>16&255,me=At>>8&255,Ne=255&At}if(me===void 0||Ie===void 0&&le===me&&me===Ne)H=typeof le=="string"?le+" "+Be[0]:P.precision===2?S(le/255)+" "+Be[0]:O(le/255)+" "+Be[0];else if(Ie===void 0||Sr(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",Be[1]].join(" ");H=typeof le=="string"?[le,me,Ne,Be[1]].join(" "):P.precision===2?[S(le/255),S(me/255),S(Ne/255),Be[1]].join(" "):[O(le/255),O(me/255),O(Ne/255),Be[1]].join(" ")}else H=typeof le=="string"?[le,me,Ne,Ie,Be[2]].join(" "):P.precision===2?[S(le),S(me),S(Ne),S(Ie),Be[2]].join(" "):[O(le),O(me),O(Ne),O(Ie),Be[2]].join(" ");return H},sr=h.__private__.getFilters=function(){return s},$n=h.__private__.putStream=function(P){var H=(P=P||{}).data||"",le=P.filters||sr(),me=P.alreadyAppliedFilters||[],Ne=P.addLength1||!1,Ie=H.length,Be=P.objectId,ht=function(En){return En};if(d!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ht=Zr.encryptor(Be,0));var At={};le===!0&&(le=["FlateEncode"]);var Bt=P.additionalKeyValues||[],Ht=(At=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(H,le):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(At.data.length!==0&&(Bt.push({key:"Length",value:At.data.length}),Ne===!0&&Bt.push({key:"Length1",value:Ie})),Ht.length!=0)if(Ht.split("/").length-1==1)Bt.push({key:"Filter",value:Ht});else{Bt.push({key:"Filter",value:"["+Ht+"]"});for(var cr=0;cr<Bt.length;cr+=1)if(Bt[cr].key==="DecodeParms"){for(var Qr=[],wn=0;wn<At.reverseChain.split("/").length-1;wn+=1)Qr.push("null");Qr.push(Bt[cr].value),Bt[cr].value="["+Qr.join(" ")+"]"}}Y("<<");for(var Rr=0;Rr<Bt.length;Rr++)Y("/"+Bt[Rr].key+" "+Bt[Rr].value);Y(">>"),At.data.length!==0&&(Y("stream"),Y(ht(At.data)),Y("endstream"))},Ka=h.__private__.putPage=function(P){var H=P.number,le=P.data,me=P.objId,Ne=P.contentsObjId;Rt(me,!0),Y("<</Type /Page"),Y("/Parent "+P.rootDictionaryObjId+" 0 R"),Y("/Resources "+P.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(R(P.mediaBox.bottomLeftX))+" "+parseFloat(R(P.mediaBox.bottomLeftY))+" "+R(P.mediaBox.topRightX)+" "+R(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&Y("/CropBox ["+R(P.cropBox.bottomLeftX)+" "+R(P.cropBox.bottomLeftY)+" "+R(P.cropBox.topRightX)+" "+R(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&Y("/BleedBox ["+R(P.bleedBox.bottomLeftX)+" "+R(P.bleedBox.bottomLeftY)+" "+R(P.bleedBox.topRightX)+" "+R(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&Y("/TrimBox ["+R(P.trimBox.bottomLeftX)+" "+R(P.trimBox.bottomLeftY)+" "+R(P.trimBox.topRightX)+" "+R(P.trimBox.topRightY)+"]"),P.artBox!==null&&Y("/ArtBox ["+R(P.artBox.bottomLeftX)+" "+R(P.artBox.bottomLeftY)+" "+R(P.artBox.topRightX)+" "+R(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&Y("/UserUnit "+P.userUnit),Lt.publish("putPage",{objId:me,pageContext:ot[H],pageNumber:H,page:le}),Y("/Contents "+Ne+" 0 R"),Y(">>"),Y("endobj");var Ie=le.join(`
`);return _===N&&(Ie+=`
Q`),Rt(Ne,!0),$n({data:Ie,filters:sr(),objectId:Ne}),Y("endobj"),me},ua=h.__private__.putPages=function(){var P,H,le=[];for(P=1;P<=_t;P++)ot[P].objId=kr(),ot[P].contentsObjId=kr();for(P=1;P<=_t;P++)le.push(Ka({number:P,data:oe[P],objId:ot[P].objId,contentsObjId:ot[P].contentsObjId,mediaBox:ot[P].mediaBox,cropBox:ot[P].cropBox,bleedBox:ot[P].bleedBox,trimBox:ot[P].trimBox,artBox:ot[P].artBox,userUnit:ot[P].userUnit,rootDictionaryObjId:ca,resourceDictionaryObjId:bn}));Rt(ca,!0),Y("<</Type /Pages");var me="/Kids [";for(H=0;H<_t;H++)me+=le[H]+" 0 R ";Y(me+"]"),Y("/Count "+_t),Y(">>"),Y("endobj"),Lt.publish("postPutPages")},Ya=function(P){Lt.publish("putFont",{font:P,out:Y,newObject:gr,putStream:$n}),P.isAlreadyPutted!==!0&&(P.objectNumber=gr(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+_u(P.postScriptName)),Y("/Subtype /Type1"),typeof P.encoding=="string"&&Y("/Encoding /"+P.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Ra=function(P){P.objectNumber=gr();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[R(P.x),R(P.y),R(P.x+P.width),R(P.y+P.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var le=P.pages[1].join(`
`);$n({data:le,additionalKeyValues:H,objectId:P.objectNumber}),Y("endobj")},Xr=function(P,H){H||(H=21);var le=gr(),me=(function(Be,ht){var At,Bt=[],Ht=1/(ht-1);for(At=0;At<1;At+=Ht)Bt.push(At);if(Bt.push(1),Be[0].offset!=0){var cr={offset:0,color:Be[0].color};Be.unshift(cr)}if(Be[Be.length-1].offset!=1){var Qr={offset:1,color:Be[Be.length-1].color};Be.push(Qr)}for(var wn="",Rr=0,En=0;En<Bt.length;En++){for(At=Bt[En];At>Be[Rr+1].offset;)Rr++;var Nn=Be[Rr].offset,Qn=(At-Nn)/(Be[Rr+1].offset-Nn),fo=Be[Rr].color,Qi=Be[Rr+1].color;wn+=te(Math.round((1-Qn)*fo[0]+Qn*Qi[0]).toString(16))+te(Math.round((1-Qn)*fo[1]+Qn*Qi[1]).toString(16))+te(Math.round((1-Qn)*fo[2]+Qn*Qi[2]).toString(16))}return wn.trim()})(P.colors,H),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+H+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$n({data:me,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),Y("endobj"),P.objectNumber=gr(),Y("<< /ShadingType "+P.type),Y("/ColorSpace /DeviceRGB");var Ie="/Coords ["+R(parseFloat(P.coords[0]))+" "+R(parseFloat(P.coords[1]))+" ";P.type===2?Ie+=R(parseFloat(P.coords[2]))+" "+R(parseFloat(P.coords[3])):Ie+=R(parseFloat(P.coords[2]))+" "+R(parseFloat(P.coords[3]))+" "+R(parseFloat(P.coords[4]))+" "+R(parseFloat(P.coords[5])),Y(Ie+="]"),P.matrix&&Y("/Matrix ["+P.matrix.toString()+"]"),Y("/Function "+le+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Xa=function(P,H){var le=kr(),me=gr();H.push({resourcesOid:le,objectOid:me}),P.objectNumber=me;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+P.boundingBox.map(R).join(" ")+"]"}),Ne.push({key:"XStep",value:R(P.xStep)}),Ne.push({key:"YStep",value:R(P.yStep)}),Ne.push({key:"Resources",value:le+" 0 R"}),P.matrix&&Ne.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),$n({data:P.stream,additionalKeyValues:Ne,objectId:P.objectNumber}),Y("endobj")},Qe=function(P){for(var H in P.objectNumber=gr(),Y("<<"),P)switch(H){case"opacity":Y("/ca "+S(P[H]));break;case"stroke-opacity":Y("/CA "+S(P[H]))}Y(">>"),Y("endobj")},Mt=function(P){Rt(P.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var H in Y("/Font <<"),mt)mt.hasOwnProperty(H)&&(f===!1||f===!0&&p.hasOwnProperty(H))&&Y("/"+H+" "+mt[H].objectNumber+" 0 R");Y(">>")})(),(function(){if(Object.keys(et).length>0){for(var H in Y("/Shading <<"),et)et.hasOwnProperty(H)&&et[H]instanceof xc&&et[H].objectNumber>=0&&Y("/"+H+" "+et[H].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),Y(">>")}})(),(function(H){if(Object.keys(et).length>0){for(var le in Y("/Pattern <<"),et)et.hasOwnProperty(le)&&et[le]instanceof h.TilingPattern&&et[le].objectNumber>=0&&et[le].objectNumber<H&&Y("/"+le+" "+et[le].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),Y(">>")}})(P.objectOid),(function(){if(Object.keys(tt).length>0){var H;for(H in Y("/ExtGState <<"),tt)tt.hasOwnProperty(H)&&tt[H].objectNumber>=0&&Y("/"+H+" "+tt[H].objectNumber+" 0 R");Lt.publish("putGStateDict"),Y(">>")}})(),(function(){for(var H in Y("/XObject <<"),Ar)Ar.hasOwnProperty(H)&&Ar[H].objectNumber>=0&&Y("/"+H+" "+Ar[H].objectNumber+" 0 R");Lt.publish("putXobjectDict"),Y(">>")})(),Y(">>"),Y("endobj")},hr=function(P){Nt[P.fontName]=Nt[P.fontName]||{},Nt[P.fontName][P.fontStyle]=P.id},$r=function(P,H,le,me,Ne){var Ie={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:P,fontName:H,fontStyle:le,encoding:me,isStandardFont:Ne||!1,metadata:{}};return Lt.publish("addFont",{font:Ie,instance:this}),mt[Ie.id]=Ie,hr(Ie),Ie.id},pr=h.__private__.pdfEscape=h.pdfEscape=function(P,H){return(function(le,me){var Ne,Ie,Be,ht,At,Bt,Ht,cr,Qr;if(Be=(me=me||{}).sourceEncoding||"Unicode",At=me.outputEncoding,(me.autoencode||At)&&mt[Ae].metadata&&mt[Ae].metadata[Be]&&mt[Ae].metadata[Be].encoding&&(ht=mt[Ae].metadata[Be].encoding,!At&&mt[Ae].encoding&&(At=mt[Ae].encoding),!At&&ht.codePages&&(At=ht.codePages[0]),typeof At=="string"&&(At=ht[At]),At)){for(Ht=!1,Bt=[],Ne=0,Ie=le.length;Ne<Ie;Ne++)(cr=At[le.charCodeAt(Ne)])?Bt.push(String.fromCharCode(cr)):Bt.push(le[Ne]),Bt[Ne].charCodeAt(0)>>8&&(Ht=!0);le=Bt.join("")}for(Ne=le.length;Ht===void 0&&Ne!==0;)le.charCodeAt(Ne-1)>>8&&(Ht=!0),Ne--;if(!Ht)return le;for(Bt=me.noBOM?[]:[254,255],Ne=0,Ie=le.length;Ne<Ie;Ne++){if((Qr=(cr=le.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(Qr),Bt.push(cr-(Qr<<8))}return String.fromCharCode.apply(void 0,Bt)})(P,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pn=h.__private__.beginPage=function(P){oe[++_t]=[],ot[_t]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Za(_t),we(oe[G])},Xn=function(P,H){var le,me,Ne;switch(r=H||r,typeof P=="string"&&(le=b(P.toLowerCase()),Array.isArray(le)&&(me=le[0],Ne=le[1])),Array.isArray(P)&&(me=P[0]*We,Ne=P[1]*We),isNaN(me)&&(me=a[0],Ne=a[1]),(me>14400||Ne>14400)&&(Er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Ne=Math.min(14400,Ne)),a=[me,Ne],r.substr(0,1)){case"l":Ne>me&&(a=[Ne,me]);break;case"p":me>Ne&&(a=[Ne,me])}Pn(a),Ot(ks),Y(Xi),pe!==0&&Y(pe+" J"),Ee!==0&&Y(Ee+" j"),Lt.publish("addPage",{pageNumber:_t})},xn=function(P){P>0&&P<=_t&&(oe.splice(P,1),ot.splice(P,1),_t--,G>_t&&(G=_t),this.setPage(G))},Za=function(P){P>0&&P<=_t&&(G=P)},Ts=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return oe.length-1},Ni=function(P,H,le){var me,Ne=void 0;return le=le||{},P=P!==void 0?P:mt[Ae].fontName,H=H!==void 0?H:mt[Ae].fontStyle,me=P.toLowerCase(),Nt[me]!==void 0&&Nt[me][H]!==void 0?Ne=Nt[me][H]:Nt[P]!==void 0&&Nt[P][H]!==void 0?Ne=Nt[P][H]:le.disableWarning===!1&&Er.warn("Unable to look up font label for font '"+P+"', '"+H+"'. Refer to getFontList() for available fonts."),Ne||le.noFallback||(Ne=Nt.times[H])==null&&(Ne=Nt.times.normal),Ne},qn=h.__private__.putInfo=function(){var P=gr(),H=function(me){return me};for(var le in d!==null&&(H=Zr.encryptor(P,0)),Y("<<"),Y("/Producer ("+pr(H("jsPDF "+bt.version))+")"),Ce)Ce.hasOwnProperty(le)&&Ce[le]&&Y("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+pr(H(Ce[le]))+")");Y("/CreationDate ("+pr(H($))+")"),Y(">>"),Y("endobj")},Si=h.__private__.putCatalog=function(P){var H=(P=P||{}).rootDictionaryObjId||ca;switch(gr(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+H+" 0 R"),Ge||(Ge="fullwidth"),Ge){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+Ge;le.substr(le.length-1)==="%"&&(Ge=parseInt(Ge)/100),typeof Ge=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+S(Ge)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Ue&&Y("/PageMode /"+Ue),Lt.publish("putCatalog"),Y(">>"),Y("endobj")},Os=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ne+1)),Y("/Root "+ne+" 0 R"),Y("/Info "+(ne-1)+" 0 R"),d!==null&&Y("/Encrypt "+Zr.oid+" 0 R"),Y("/ID [ <"+F+"> <"+F+"> ]"),Y(">>")},xr=h.__private__.putHeader=function(){Y("%PDF-"+v),Y("%")},Ai=h.__private__.putXRef=function(){var P="0000000000";Y("xref"),Y("0 "+(ne+1)),Y("0000000000 65535 f ");for(var H=1;H<=ne;H++)typeof ie[H]=="function"?Y((P+ie[H]()).slice(-10)+" 00000 n "):ie[H]!==void 0?Y((P+ie[H]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},zn=h.__private__.buildDocument=function(){var P;ne=0,se=0,fe=[],ie=[],he=[],ca=kr(),bn=kr(),we(fe),Lt.publish("buildDocument"),xr(),ua(),(function(){Lt.publish("putAdditionalObjects");for(var le=0;le<he.length;le++){var me=he[le];Rt(me.objId,!0),Y(me.content),Y("endobj")}Lt.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var le in mt)mt.hasOwnProperty(le)&&(f===!1||f===!0&&p.hasOwnProperty(le))&&Ya(mt[le])})(),(function(){var le;for(le in tt)tt.hasOwnProperty(le)&&Qe(tt[le])})(),(function(){for(var le in Ar)Ar.hasOwnProperty(le)&&Ra(Ar[le])})(),(function(le){var me;for(me in et)et.hasOwnProperty(me)&&(et[me]instanceof xc?Xr(et[me]):et[me]instanceof Du&&Xa(et[me],le))})(P),Lt.publish("putResources"),P.forEach(Mt),Mt({resourcesOid:bn,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),d!==null&&(Zr.oid=gr(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Zr.v),Y("/R "+Zr.r),Y("/U <"+Zr.toHexString(Zr.U)+">"),Y("/O <"+Zr.toHexString(Zr.O)+">"),Y("/P "+Zr.P),Y(">>"),Y("endobj")),qn(),Si();var H=se;return Ai(),Os(),Y("startxref"),Y(""+H),Y("%%EOF"),we(oe[G]),fe.join(`
`)},Yi=h.__private__.getBlob=function(P){return new Blob([De(P)],{type:"application/pdf"})},oo=h.output=h.__private__.output=(cn=function(P,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",P){case void 0:return zn();case"save":h.save(H.filename);break;case"arraybuffer":return De(zn());case"blob":return Yi(zn());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(Yi(zn()))||void 0;Er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",me=zn();try{le=eO(me)}catch{le=eO(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+H.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Ne=H.pdfObjectUrl,Ie="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",ht=Ft.open();return ht!==null&&ht.document.write(Be),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Bt=Ft.open();if(Bt!==null){Bt.document.write(At);var Ht=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=H.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Qr=Ft.open();if(Qr!==null&&(Qr.document.write(cr),Qr.document.title=H.filename),Qr||typeof safari>"u")return Qr;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",H);default:return null}},cn.foo=function(){try{return cn.apply(this,arguments)}catch(le){var P=le.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var H="Error in function "+P.split(`
`)[0].split("<")[0]+": "+le.message;if(!Ft.console)throw new Error(H);Ft.console.error(H,le),Ft.alert&&alert(H)}},cn.foo.bar=cn,cn.foo),da=function(P){return Array.isArray(en)===!0&&en.indexOf(P)>-1};switch(n){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=da("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);We=n}var Zr=null;de(),W();var Ja=h.__private__.getPageInfo=h.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[P].objId,pageNumber:P,pageContext:ot[P]}},Qo=h.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in ot)if(ot[H].objId===P)break;return Ja(H)},lo=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ot[G].objId,pageNumber:G,pageContext:ot[G]}};h.addPage=function(){return Xn.apply(this,arguments),this},h.setPage=function(){return Za.apply(this,arguments),we.call(this,oe[G]),this},h.insertPage=function(P){return this.addPage(),this.movePage(G,P),this},h.movePage=function(P,H){var le,me;if(P>H){le=oe[P],me=ot[P];for(var Ne=P;Ne>H;Ne--)oe[Ne]=oe[Ne-1],ot[Ne]=ot[Ne-1];oe[H]=le,ot[H]=me,this.setPage(H)}else if(P<H){le=oe[P],me=ot[P];for(var Ie=P;Ie<H;Ie++)oe[Ie]=oe[Ie+1],ot[Ie]=ot[Ie+1];oe[H]=le,ot[H]=me,this.setPage(H)}return this},h.deletePage=function(){return xn.apply(this,arguments),this},h.__private__.text=h.text=function(P,H,le,me,Ne){var Ie,Be,ht,At,Bt,Ht,cr,Qr,wn,Rr=(me=me||{}).scope||this;if(typeof P=="number"&&typeof H=="number"&&(typeof le=="string"||Array.isArray(le))){var En=le;le=H,H=P,P=En}if(arguments[3]instanceof gt==0?(ht=arguments[4],At=arguments[5],Sr(cr=arguments[3])==="object"&&cr!==null||(typeof ht=="string"&&(At=ht,ht=null),typeof cr=="string"&&(At=cr,cr=null),typeof cr=="number"&&(ht=cr,cr=null),me={flags:cr,angle:ht,align:At})):(L("The transform parameter of text() with a Matrix value"),wn=Ne),isNaN(H)||isNaN(le)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return Rr;var Nn,Qn="",fo=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:Jr,Qi=Rr.internal.scaleFactor;function ho(vr){return vr=vr.split("	").join(Array(me.TabLen||9).join(" ")),pr(vr,cr)}function Xd(vr){for(var Pr,dn=vr.concat(),Tn=[],go=dn.length;go--;)typeof(Pr=dn.shift())=="string"?Tn.push(Pr):Array.isArray(vr)&&(Pr.length===1||Pr[1]===void 0&&Pr[2]===void 0)?Tn.push(Pr[0]):Tn.push([Pr[0],Pr[1],Pr[2]]);return Tn}function cu(vr,Pr){var dn;if(typeof vr=="string")dn=Pr(vr)[0];else if(Array.isArray(vr)){for(var Tn,go,of=vr.concat(),fu=[],Ap=of.length;Ap--;)typeof(Tn=of.shift())=="string"?fu.push(Pr(Tn)[0]):Array.isArray(Tn)&&typeof Tn[0]=="string"&&(go=Pr(Tn[0],Tn[1],Tn[2]),fu.push([go[0],go[1],go[2]]));dn=fu}return dn}var al=!1,sc=!0;if(typeof P=="string")al=!0;else if(Array.isArray(P)){var oc=P.concat();Be=[];for(var il,ea=oc.length;ea--;)(typeof(il=oc.shift())!="string"||Array.isArray(il)&&typeof il[0]!="string")&&(sc=!1);al=sc}if(al===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var lc=Pe/Rr.internal.scaleFactor,cc=lc*(fo-1);switch(me.baseline){case"bottom":le-=cc;break;case"top":le+=lc-cc;break;case"hanging":le+=lc-2*cc;break;case"middle":le+=lc/2-cc}if((Ht=me.maxWidth||0)>0&&(typeof P=="string"?P=Rr.splitTextToSize(P,Ht):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(vr,Pr){return vr.concat(Rr.splitTextToSize(Pr,Ht))},[]))),Ie={text:P,x:H,y:le,options:me,mutex:{pdfEscape:pr,activeFontKey:Ae,fonts:mt,activeFontSize:Pe}},Lt.publish("preProcessText",Ie),P=Ie.text,ht=(me=Ie.options).angle,wn instanceof gt==0&&ht&&typeof ht=="number"){ht*=Math.PI/180,me.rotationDirection===0&&(ht=-ht),_===N&&(ht=-ht);var Zd=Math.cos(ht),Jd=Math.sin(ht);wn=new gt(Zd,Jd,-Jd,Zd,0,0)}else ht&&ht instanceof gt&&(wn=ht);_!==N||wn||(wn=_n),(Bt=me.charSpace||I)!==void 0&&(Qn+=R(k(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qr=me.horizontalScale)!==void 0&&(Qn+=R(100*Qr)+` Tz
`),me.lang;var _a=-1,po=me.renderingMode!==void 0?me.renderingMode:me.stroke,uu=Rr.internal.getCurrentPageInfo().pageContext;switch(po){case 0:case!1:case"fill":_a=0;break;case 1:case!0:case"stroke":_a=1;break;case 2:case"fillThenStroke":_a=2;break;case 3:case"invisible":_a=3;break;case 4:case"fillAndAddForClipping":_a=4;break;case 5:case"strokeAndAddPathForClipping":_a=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_a=6;break;case 7:case"addToPathForClipping":_a=7}var Np=uu.usedRenderingMode!==void 0?uu.usedRenderingMode:-1;_a!==-1?Qn+=_a+` Tr
`:Np!==-1&&(Qn+=`0 Tr
`),_a!==-1&&(uu.usedRenderingMode=_a),At=me.align||"left";var Pi,uc=Pe*fo,Qd=Rr.internal.pageSize.getWidth(),ef=mt[Ae];Bt=me.charSpace||I,Ht=me.maxWidth||0,cr=Object.assign({autoencode:!0,noBOM:!0},me.flags);var sl=[],dc=function(vr){return Rr.getStringUnitWidth(vr,{font:ef,charSpace:Bt,fontSize:Pe,doKerning:!1})*Pe/Qi};if(Object.prototype.toString.call(P)==="[object Array]"){var ei;Be=Xd(P),At!=="left"&&(Pi=Be.map(dc));var ti,ol=0;if(At==="right"){H-=Pi[0],P=[],ea=Be.length;for(var mo=0;mo<ea;mo++)mo===0?(ti=Fa(H),ei=ja(le)):(ti=k(ol-Pi[mo]),ei=-uc),P.push([Be[mo],ti,ei]),ol=Pi[mo]}else if(At==="center"){H-=Pi[0]/2,P=[],ea=Be.length;for(var ll=0;ll<ea;ll++)ll===0?(ti=Fa(H),ei=ja(le)):(ti=k((ol-Pi[ll])/2),ei=-uc),P.push([Be[ll],ti,ei]),ol=Pi[ll]}else if(At==="left"){P=[],ea=Be.length;for(var tf=0;tf<ea;tf++)P.push(Be[tf])}else if(At==="justify"&&ef.encoding==="Identity-H"){P=[],ea=Be.length,Ht=Ht!==0?Ht:Qd;for(var du=0,un=0;un<ea;un++)if(ei=un===0?ja(le):-uc,ti=un===0?Fa(H):du,un<ea-1){var Sp=k((Ht-Pi[un])/(Be[un].split(" ").length-1)),Is=Be[un].split(" ");P.push([Is[0]+" ",ti,ei]),du=0;for(var Rs=1;Rs<Is.length;Rs++){var rf=(dc(Is[Rs-1]+" "+Is[Rs])-dc(Is[Rs]))*Qi+Sp;Rs==Is.length-1?P.push([Is[Rs],rf,0]):P.push([Is[Rs]+" ",rf,0]),du-=rf}}else P.push([Be[un],ti,ei]);P.push(["",du,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],ea=Be.length,Ht=Ht!==0?Ht:Qd,un=0;un<ea;un++){ei=un===0?ja(le):-uc,ti=un===0?Fa(H):0;var nf=Be[un].split(" ").length-1,af=nf>0?(Ht-Pi[un])/nf:0;un<ea-1?sl.push(R(k(af))):sl.push(0),P.push([Be[un],ti,ei])}}}(typeof me.R2L=="boolean"?me.R2L:ze)===!0&&(P=cu(P,function(vr,Pr,dn){return[vr.split("").reverse().join(""),Pr,dn]})),Ie={text:P,x:H,y:le,options:me,mutex:{pdfEscape:pr,activeFontKey:Ae,fonts:mt,activeFontSize:Pe}},Lt.publish("postProcessText",Ie),P=Ie.text,Nn=Ie.mutex.isHex||!1;var sf=mt[Ae].encoding;sf!=="WinAnsiEncoding"&&sf!=="StandardEncoding"||(P=cu(P,function(vr,Pr,dn){return[ho(vr),Pr,dn]})),Be=Xd(P),P=[];for(var cl,ul,dl,fc=Array.isArray(Be[0])?1:0,fl="",hc=function(vr,Pr,dn){var Tn="";return dn instanceof gt?(dn=typeof me.angle=="number"?Yr(dn,new gt(1,0,0,1,vr,Pr)):Yr(new gt(1,0,0,1,vr,Pr),dn),_===N&&(dn=Yr(new gt(1,0,0,-1,0,0),dn)),Tn=dn.join(" ")+` Tm
`):Tn=R(vr)+" "+R(Pr)+` Td
`,Tn},Ci=0;Ci<Be.length;Ci++){switch(fl="",fc){case 1:dl=(Nn?"<":"(")+Be[Ci][0]+(Nn?">":")"),cl=parseFloat(Be[Ci][1]),ul=parseFloat(Be[Ci][2]);break;case 0:dl=(Nn?"<":"(")+Be[Ci]+(Nn?">":")"),cl=Fa(H),ul=ja(le)}sl!==void 0&&sl[Ci]!==void 0&&(fl=sl[Ci]+` Tw
`),Ci===0?P.push(fl+hc(cl,ul,wn)+dl):fc===0?P.push(fl+dl):fc===1&&P.push(fl+hc(cl,ul,wn)+dl)}P=fc===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Ms=`BT
/`;return Ms+=Ae+" "+Pe+` Tf
`,Ms+=R(Pe*fo)+` TL
`,Ms+=Ji+`
`,Ms+=Qn,Ms+=P,Y(Ms+="ET"),p[Ae]=!0,Rr};var tc=h.__private__.clip=h.clip=function(P){return Y(P==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return tc("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Ma=h.__private__.isValidStyle=function(P){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(H=!0),H};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(P){return Ma(P)&&(c=P),this};var ji=h.__private__.getStyle=h.getStyle=function(P){var H=c;switch(P){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=P}return H},fa=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(P){return ha("f",P),this},h.fillEvenOdd=function(P){return ha("f*",P),this},h.fillStroke=function(P){return ha("B",P),this},h.fillStrokeEvenOdd=function(P){return ha("B*",P),this};var ha=function(P,H){Sr(H)==="object"?Da(H,P):Y(P)},Zn=function(P){P===null||_===N&&P===void 0||(P=ji(P),Y(P))};function rc(P,H,le,me,Ne){var Ie=new Du(H||this.boundingBox,le||this.xStep,me||this.yStep,this.gState,Ne||this.matrix);Ie.stream=this.stream;var Be=P+"$$"+this.cloneIndex+++"$$";return yn(Be,Ie),Ie}var Da=function(P,H){var le=zt[P.key],me=et[le];if(me instanceof xc)Y("q"),Y(nc(H)),me.gState&&h.setGState(me.gState),Y(P.matrix.toString()+" cm"),Y("/"+le+" sh"),Y("Q");else if(me instanceof Du){var Ne=new gt(1,0,0,-1,0,Jn());P.matrix&&(Ne=Ne.multiply(P.matrix||_n),le=rc.call(me,P.key,P.boundingBox,P.xStep,P.yStep,Ne).id),Y("q"),Y("/Pattern cs"),Y("/"+le+" scn"),me.gState&&h.setGState(me.gState),Y(H),Y("Q")}},nc=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},co=h.moveTo=function(P,H){return Y(R(k(P))+" "+R(M(H))+" m"),this},el=h.lineTo=function(P,H){return Y(R(k(P))+" "+R(M(H))+" l"),this},Aa=h.curveTo=function(P,H,le,me,Ne,Ie){return Y([R(k(P)),R(M(H)),R(k(le)),R(M(me)),R(k(Ne)),R(M(Ie)),"c"].join(" ")),this};h.__private__.line=h.line=function(P,H,le,me,Ne){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(me)||!Ma(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return _===w?this.lines([[le-P,me-H]],P,H,[1,1],Ne||"S"):this.lines([[le-P,me-H]],P,H,[1,1]).stroke()},h.__private__.lines=h.lines=function(P,H,le,me,Ne,Ie){var Be,ht,At,Bt,Ht,cr,Qr,wn,Rr,En,Nn,Qn;if(typeof P=="number"&&(Qn=le,le=H,H=P,P=Qn),me=me||[1,1],Ie=Ie||!1,isNaN(H)||isNaN(le)||!Array.isArray(P)||!Array.isArray(me)||!Ma(Ne)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(co(H,le),Be=me[0],ht=me[1],Bt=P.length,En=H,Nn=le,At=0;At<Bt;At++)(Ht=P[At]).length===2?(En=Ht[0]*Be+En,Nn=Ht[1]*ht+Nn,el(En,Nn)):(cr=Ht[0]*Be+En,Qr=Ht[1]*ht+Nn,wn=Ht[2]*Be+En,Rr=Ht[3]*ht+Nn,En=Ht[4]*Be+En,Nn=Ht[5]*ht+Nn,Aa(cr,Qr,wn,Rr,En,Nn));return Ie&&fa(),Zn(Ne),this},h.path=function(P){for(var H=0;H<P.length;H++){var le=P[H],me=le.c;switch(le.op){case"m":co(me[0],me[1]);break;case"l":el(me[0],me[1]);break;case"c":Aa.apply(this,me);break;case"h":fa()}}return this},h.__private__.rect=h.rect=function(P,H,le,me,Ne){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(me)||!Ma(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w&&(me=-me),Y([R(k(P)),R(M(H)),R(k(le)),R(k(me)),"re"].join(" ")),Zn(Ne),this},h.__private__.triangle=h.triangle=function(P,H,le,me,Ne,Ie,Be){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(me)||isNaN(Ne)||isNaN(Ie)||!Ma(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-P,me-H],[Ne-le,Ie-me],[P-Ne,H-Ie]],P,H,[1,1],Be,!0),this},h.__private__.roundedRect=h.roundedRect=function(P,H,le,me,Ne,Ie,Be){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(me)||isNaN(Ne)||isNaN(Ie)||!Ma(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*le),Ie=Math.min(Ie,.5*me),this.lines([[le-2*Ne,0],[Ne*ht,0,Ne,Ie-Ie*ht,Ne,Ie],[0,me-2*Ie],[0,Ie*ht,-Ne*ht,Ie,-Ne,Ie],[2*Ne-le,0],[-Ne*ht,0,-Ne,-Ie*ht,-Ne,-Ie],[0,2*Ie-me],[0,-Ie*ht,Ne*ht,-Ie,Ne,-Ie]],P+Ne,H,[1,1],Be,!0),this},h.__private__.ellipse=h.ellipse=function(P,H,le,me,Ne){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(me)||!Ma(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*le,Be=4/3*(Math.SQRT2-1)*me;return co(P+le,H),Aa(P+le,H-Be,P+Ie,H-me,P,H-me),Aa(P-Ie,H-me,P-le,H-Be,P-le,H),Aa(P-le,H+Be,P-Ie,H+me,P,H+me),Aa(P+Ie,H+me,P+le,H+Be,P+le,H),Zn(Ne),this},h.__private__.circle=h.circle=function(P,H,le,me){if(isNaN(P)||isNaN(H)||isNaN(le)||!Ma(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,H,le,le,me)},h.setFont=function(P,H,le){return le&&(H=E(H,le)),Ae=Ni(P,H,{disableWarning:!1}),this};var tl=h.__private__.getFont=h.getFont=function(){return mt[Ni.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var P,H,le={};for(P in Nt)if(Nt.hasOwnProperty(P))for(H in le[P]=[],Nt[P])Nt[P].hasOwnProperty(H)&&le[P].push(H);return le},h.addFont=function(P,H,le,me,Ne){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(le=E(le,me)),$r.call(this,P,H,le,Ne=Ne||"Identity-H")};var Jr,ks=t.lineWidth||.200025,rl=h.__private__.getLineWidth=h.getLineWidth=function(){return ks},Ot=h.__private__.setLineWidth=h.setLineWidth=function(P){return ks=P,Y(R(k(P))+" w"),this};h.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(P,H){if(P=P||[],H=H||0,isNaN(H)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(le){return R(k(le))}).join(" "),H=R(k(H)),Y("["+P+"] "+H+" d"),this};var uo=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Jr};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Jr};var Ls=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Jr=P),this},ac=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Jr};Ls(t.lineHeight);var Fa=h.__private__.getHorizontalCoordinate=function(P){return k(P)},ja=h.__private__.getVerticalCoordinate=function(P){return _===N?P:ot[G].mediaBox.topRightY-ot[G].mediaBox.bottomLeftY-k(P)},nl=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(P){return R(Fa(P))},Ba=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(P){return R(ja(P))},Xi=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Kn(Xi)},h.__private__.setStrokeColor=h.setDrawColor=function(P,H,le,me){return Xi=Yn({ch1:P,ch2:H,ch3:le,ch4:me,pdfColorType:"draw",precision:2}),Y(Xi),this};var Zi=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Kn(Zi)},h.__private__.setFillColor=h.setFillColor=function(P,H,le,me){return Zi=Yn({ch1:P,ch2:H,ch3:le,ch4:me,pdfColorType:"fill",precision:2}),Y(Zi),this};var Ji=t.textColor||"0 g",ic=h.__private__.getTextColor=h.getTextColor=function(){return Kn(Ji)};h.__private__.setTextColor=h.setTextColor=function(P,H,le,me){return Ji=Yn({ch1:P,ch2:H,ch3:le,ch4:me,pdfColorType:"text",precision:3}),this};var I=t.charSpace,J=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(I||0)};h.__private__.setCharSpace=h.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return I=P,this};var pe=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(P){var H=h.CapJoinStyles[P];if(H===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pe=H,Y(H+" J"),this};var Ee=0;h.__private__.setLineJoin=h.setLineJoin=function(P){var H=h.CapJoinStyles[P];if(H===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ee=H,Y(H+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(R(k(P))+" M"),this},h.GState=e0,h.setGState=function(P){(P=typeof P=="string"?tt[ut[P]]:It(null,P)).equals(Xt)||(Y("/"+P.id+" gs"),Xt=P)};var It=function(P,H){if(!P||!ut[P]){var le=!1;for(var me in tt)if(tt.hasOwnProperty(me)&&tt[me].equals(H)){le=!0;break}if(le)H=tt[me];else{var Ne="GS"+(Object.keys(tt).length+1).toString(10);tt[Ne]=H,H.id=Ne}return P&&(ut[P]=H.id),Lt.publish("addGState",H),H}};h.addGState=function(P,H){return It(P,H),this},h.saveGraphicsState=function(){return Y("q"),Yt.push({key:Ae,size:Pe,color:Ji}),this},h.restoreGraphicsState=function(){Y("Q");var P=Yt.pop();return Ae=P.key,Pe=P.size,Ji=P.color,Xt=null,this},h.setCurrentTransformationMatrix=function(P){return Y(P.toString()+" cm"),this},h.comment=function(P){return Y("#"+P),this};var lt=function(P,H){var le=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Ie){isNaN(Ie)||(le=parseFloat(Ie))}});var me=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Ie){isNaN(Ie)||(me=parseFloat(Ie))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Ie){Ne=Ie.toString()}}),this},Qt=function(P,H,le,me){lt.call(this,P,H),this.type="rect";var Ne=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(Be){isNaN(Be)||(Ne=parseFloat(Be))}});var Ie=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Be){isNaN(Be)||(Ie=parseFloat(Be))}}),this},Zt=function(){this.page=_t,this.currentPage=G,this.pages=oe.slice(0),this.pagesContext=ot.slice(0),this.x=qe,this.y=rt,this.matrix=st,this.width=rn(G),this.height=Vr(G),this.outputDestination=xe,this.id="",this.objectNumber=-1};Zt.prototype.restore=function(){_t=this.page,G=this.currentPage,ot=this.pagesContext,oe=this.pages,qe=this.x,rt=this.y,st=this.matrix,Cn(G,this.width),Ir(G,this.height),xe=this.outputDestination};var Lr=function(P,H,le,me,Ne){Or.push(new Zt),_t=G=0,oe=[],qe=P,rt=H,st=Ne,Pn([le,me])};for(var er in h.beginFormObject=function(P,H,le,me,Ne){return Lr(P,H,le,me,Ne),this},h.endFormObject=function(P){return(function(H){if(tn[H])Or.pop().restore();else{var le=new Zt,me="Xo"+(Object.keys(Ar).length+1).toString(10);le.id=me,tn[H]=me,Ar[me]=le,Lt.publish("addFormObject",le),Or.pop().restore()}})(P),this},h.doFormObject=function(P,H){var le=Ar[tn[P]];return Y("q"),Y(H.toString()+" cm"),Y("/"+le.id+" Do"),Y("Q"),this},h.getFormObject=function(P){var H=Ar[tn[P]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},h.save=function(P,H){return P=P||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(bc(Yi(zn()),P),typeof bc.unload=="function"&&Ft.setTimeout&&setTimeout(bc.unload,911),this):new Promise(function(le,me){try{var Ne=bc(Yi(zn()),P);typeof bc.unload=="function"&&Ft.setTimeout&&setTimeout(bc.unload,911),le(Ne)}catch(Ie){me(Ie.message)}})},bt.API)bt.API.hasOwnProperty(er)&&(er==="events"&&bt.API.events.length?(function(P,H){var le,me,Ne;for(Ne=H.length-1;Ne!==-1;Ne--)le=H[Ne][0],me=H[Ne][1],P.subscribe.apply(P,[le].concat(typeof me=="function"?[me]:me))})(Lt,bt.API.events):h[er]=bt.API[er]);function rn(P){return ot[P].mediaBox.topRightX-ot[P].mediaBox.bottomLeftX}function Cn(P,H){ot[P].mediaBox.topRightX=H+ot[P].mediaBox.bottomLeftX}function Vr(P){return ot[P].mediaBox.topRightY-ot[P].mediaBox.bottomLeftY}function Ir(P,H){ot[P].mediaBox.topRightY=H+ot[P].mediaBox.bottomLeftY}var _r=h.getPageWidth=function(P){return rn(P=P||G)/We},Qa=h.setPageWidth=function(P,H){Cn(P,H*We)},Jn=h.getPageHeight=function(P){return Vr(P=P||G)/We},_i=h.setPageHeight=function(P,H){Ir(P,H*We)};return h.internal={pdfEscape:pr,getStyle:ji,getFont:tl,getFontSize:Te,getCharSpace:J,getTextColor:ic,getLineHeight:uo,getLineHeightFactor:ac,getLineWidth:rl,write:ge,getHorizontalCoordinate:Fa,getVerticalCoordinate:ja,getCoordinateString:nl,getVerticalCoordinateString:Ba,collections:{},newObject:gr,newAdditionalObject:Ia,newObjectDeferred:kr,newObjectDeferredBegin:Rt,getFilters:sr,putStream:$n,events:Lt,scaleFactor:We,pageSize:{getWidth:function(){return _r(G)},setWidth:function(P){Qa(G,P)},getHeight:function(){return Jn(G)},setHeight:function(P){_i(G,P)}},encryptionOptions:d,encryption:Zr,getEncryptor:function(P){return d!==null?Zr.encryptor(P,0):function(H){return H}},output:oo,getNumberOfPages:Ts,get pages(){return oe},out:Y,f2:S,f3:O,getPageInfo:Ja,getPageInfoByObjId:Qo,getCurrentPageInfo:lo,getPDFVersion:m,Point:lt,Rectangle:Qt,Matrix:gt,hasHotfix:da},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return _r(G)},set:function(P){Qa(G,P)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Jn(G)},set:function(P){_i(G,P)},enumerable:!0,configurable:!0}),(function(P){for(var H=0,le=Fe.length;H<le;H++){var me=$r.call(this,P[H][0],P[H][1],P[H][2],Fe[H][3],!0);f===!1&&(p[me]=!0);var Ne=P[H][0].split("-");hr({id:me,fontName:Ne[0],fontStyle:Ne[1]||""})}Lt.publish("addFonts",{fonts:mt,dictionary:Nt})}).call(h,Fe),Ae="F1",Xn(a,r),Lt.publish("initialized"),h}ju.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ju.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ju.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ju.prototype.processOwnerPassword=function(t,e){return I5(L5(e).substr(0,5),t)},ju.prototype.encryptor=function(t,e){var r=L5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return I5(r,n)}},e0.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Sr(t)!==Sr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},bt.API={events:[]},bt.version="4.0.0";var sn=bt.API,hA=1,ru=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ut=function(t){return t.toFixed(2)},Nl=function(t){return t.toFixed(5)};sn.__acroform__={};var Ga=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},aO=function(t){return t*hA},Bs=function(t){var e=new dD,r=ft.internal.getHeight(t)||0,n=ft.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ut(n)),Number(Ut(r))],e},Ude=sn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Wde=sn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Hde=sn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},pn=sn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Hde(t,e-1)},mn=sn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ude(t,e-1)},gn=sn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wde(t,e-1)},Vde=sn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Ut(l.lowerLeft_X)),Number(Ut(l.lowerLeft_Y)),Number(Ut(l.upperRight_X)),Number(Ut(l.upperRight_Y))]},Gde=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=R5(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Ut(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Bs(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},R5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(S){return S.split(`
`)}):a.map(function(S){return[S]});var i=r,s=ft.internal.getHeight(t)||0;s=s<0?-s:s;var o=ft.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(S,O,k){if(S+1<a.length){var M=O+" "+a[S+1][0];return mm(M,t,k).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var c,d,f=mm("3",t,i).height,p=t.multiline?s-i:(s-f)/2,h=p+=2,v=0,m=0,g=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+mm(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var b="",w=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var _=!1;if(a[N].length!==1&&g!==a[N].length-1){if((f+2)*(w+2)+2>s)continue e;b+=a[N][g],_=!0,m=N,N--}else{b=(b+=a[N][g]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var A=parseInt(N),C=l(A,b,i),E=N>=a.length-1;if(C&&!E){b+=" ",g=0;continue}if(C||E){if(E)m=A;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;m=A}}for(var R="",L=v;L<=m;L++){var U=a[L];if(t.multiline){if(L===m){R+=U[g]+" ",g=(g+1)%U.length;continue}if(L===v){R+=U[U.length-1]+" ";continue}}R+=U[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,d=mm(R,t,i).width,t.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}e+=Ut(c)+" "+Ut(h)+` Td
`,e+="("+ru(R)+`) Tj
`,e+=-Ut(c)+` 0 Td
`,h=-(i+2),d=0,v=_?m:m+1,w++,b=""}break}return n.text=e,n.fontSize=i,n},mm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Kde={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Yde=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Xde=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(_s.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Kde)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hA=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new fD,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Yde(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Vde(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ft.createDefaultAppearanceStream(o),Sr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Gde(o);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var v=h[s];typeof v=="function"&&(v=v.call(a,o)),f+="/"+s+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,o)),f+="/"+s+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&(function(m,g){for(var b in m)if(m.hasOwnProperty(b)){var w=b,N=m[b];g.internal.newObjectDeferredBegin(N.objId,!0),Sr(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete m[w]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},uD=sn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Sr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+ru(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w2=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+ru(n(t))+")"},Ws=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ws.prototype.toString=function(){return this.objId+" 0 R"},Ws.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ws.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:uD(a,this.objId,this.scope)}):a instanceof Ws?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var dD=function(){Ws.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ga(dD,Ws);var fD=function(){Ws.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ru(r(t))+")"}},set:function(r){t=r}})};Ga(fD,Ws);var _s=function t(){Ws.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pn(e,3)},set:function(b){b?this.F=mn(e,3):this.F=gn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof t0)return;i="FieldObject"+t.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+ru(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/hA:c},set:function(b){c=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof t0||this instanceof Cc))return w2(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Vn==0?w2(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof Vn==0?b.substr(0,1)==="("?Nu(b.substr(1,b.length-2)):Nu(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vn==1?Nu(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Vn==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Vn==0?w2(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof Vn==0?b.substr(0,1)==="("?Nu(b.substr(1,b.length-2)):Nu(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vn==1?Nu(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof Vn==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(b){b=!!b,m=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(b){v=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,1)},set:function(b){b?this.Ff=mn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,2)},set:function(b){b?this.Ff=mn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,3)},set:function(b){b?this.Ff=mn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');g=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(g){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Ga(_s,Ws);var Hu=function(){_s.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uD(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,18)},set:function(r){r?this.Ff=mn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,20)},set:function(r){r?(this.Ff=mn(this.Ff,20),e.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,22)},set:function(r){r?this.Ff=mn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(r){r?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,27)},set:function(r){r?this.Ff=mn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ga(Hu,_s);var Vu=function(){Hu.call(this),this.fontName="helvetica",this.combo=!1};Ga(Vu,Hu);var Gu=function(){Vu.call(this),this.combo=!0};Ga(Gu,Vu);var Mm=function(){Gu.call(this),this.edit=!0};Ga(Mm,Gu);var Vn=function(){_s.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,15)},set:function(r){r?this.Ff=mn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,16)},set:function(r){r?this.Ff=mn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,17)},set:function(r){r?this.Ff=mn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(r){r?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+ru(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Sr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ga(Vn,_s);var Dm=function(){Vn.call(this),this.pushButton=!0};Ga(Dm,Vn);var Ku=function(){Vn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ga(Ku,Vn);var t0=function(){var t,e;_s.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+ru(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Sr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ga(t0,_s),Ku.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ku.prototype.createOption=function(t){var e=new t0;return e.Parent=this,e.optionName=t,this.Kids.push(e),Zde.call(this.scope,e),e};var Fm=function(){Vn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};Ga(Fm,Vn);var Cc=function(){_s.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,13)},set:function(e){e?this.Ff=mn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,21)},set:function(e){e?this.Ff=mn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(e){e?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,24)},set:function(e){e?this.Ff=mn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,25)},set:function(e){e?this.Ff=mn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(e){e?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ga(Cc,_s);var Bm=function(){Cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,14)},set:function(t){t?this.Ff=mn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};Ga(Bm,Cc);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Bs(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=R5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ut(ft.internal.getWidth(t))+" "+Ut(ft.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ut(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Bs(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=ft.internal.getHeight(t),s=ft.internal.getWidth(t),o=R5(t,t.caption);return a.push("1 g"),a.push("0 0 "+Ut(s)+" "+Ut(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ut(s-1)+" "+Ut(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ut(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Bs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ut(ft.internal.getWidth(t))+" "+Ut(ft.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ft.RadioButton.Circle.YesNormal,e.D[t]=ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Bs(t);e.scope=t.scope;var r=[],n=ft.internal.getWidth(t)<=ft.internal.getHeight(t)?ft.internal.getWidth(t)/4:ft.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=ft.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Nl(ft.internal.getWidth(t)/2)+" "+Nl(ft.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bs(t);e.scope=t.scope;var r=[],n=ft.internal.getWidth(t)<=ft.internal.getHeight(t)?ft.internal.getWidth(t)/4:ft.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ft.internal.Bezier_C).toFixed(5)),s=Number((n*ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nl(ft.internal.getWidth(t)/2)+" "+Nl(ft.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Nl(ft.internal.getWidth(t)/2)+" "+Nl(ft.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Bs(t);e.scope=t.scope;var r=[],n=ft.internal.getWidth(t)<=ft.internal.getHeight(t)?ft.internal.getWidth(t)/4:ft.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nl(ft.internal.getWidth(t)/2)+" "+Nl(ft.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ft.RadioButton.Cross.YesNormal,e.D[t]=ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Bs(t);e.scope=t.scope;var r=[],n=ft.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ut(ft.internal.getWidth(t)-2)+" "+Ut(ft.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ut(n.x1.x)+" "+Ut(n.x1.y)+" m"),r.push(Ut(n.x2.x)+" "+Ut(n.x2.y)+" l"),r.push(Ut(n.x4.x)+" "+Ut(n.x4.y)+" m"),r.push(Ut(n.x3.x)+" "+Ut(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bs(t);e.scope=t.scope;var r=ft.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ut(ft.internal.getWidth(t))+" "+Ut(ft.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ut(ft.internal.getWidth(t)-2)+" "+Ut(ft.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ut(r.x1.x)+" "+Ut(r.x1.y)+" m"),n.push(Ut(r.x2.x)+" "+Ut(r.x2.y)+" l"),n.push(Ut(r.x4.x)+" "+Ut(r.x4.y)+" m"),n.push(Ut(r.x3.x)+" "+Ut(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Bs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ut(ft.internal.getWidth(t))+" "+Ut(ft.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ft.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ft.internal.getWidth(t),r=ft.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ft.internal.getWidth=function(t){var e=0;return Sr(t)==="object"&&(e=aO(t.Rect[2])),e},ft.internal.getHeight=function(t){var e=0;return Sr(t)==="object"&&(e=aO(t.Rect[3])),e};var Zde=sn.addField=function(t){if(Xde(this,t),!(t instanceof _s))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};sn.AcroFormChoiceField=Hu,sn.AcroFormListBox=Vu,sn.AcroFormComboBox=Gu,sn.AcroFormEditBox=Mm,sn.AcroFormButton=Vn,sn.AcroFormPushButton=Dm,sn.AcroFormRadioButton=Ku,sn.AcroFormCheckBox=Fm,sn.AcroFormTextField=Cc,sn.AcroFormPasswordField=Bm,sn.AcroFormAppearance=ft,sn.AcroForm={ChoiceField:Hu,ListBox:Vu,ComboBox:Gu,EditBox:Mm,Button:Vn,PushButton:Dm,RadioButton:Ku,CheckBox:Fm,TextField:Cc,PasswordField:Bm,Appearance:ft},bt.AcroForm={ChoiceField:Hu,ListBox:Vu,ComboBox:Gu,EditBox:Mm,Button:Vn,PushButton:Dm,RadioButton:Ku,CheckBox:Fm,TextField:Cc,PasswordField:Bm,Appearance:ft};bt.AcroForm;function hD(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(S,O){var k,M,$,F,z,W=r;if((O=O||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(C(S))for(z in n)for($=n[z],k=0;k<$.length;k+=1){for(F=!0,M=0;M<$[k].length;M+=1)if($[k][M]!==void 0&&$[k][M]!==S[M]){F=!1;break}if(F===!0){W=z;break}}else for(z in n)for($=n[z],k=0;k<$.length;k+=1){for(F=!0,M=0;M<$[k].length;M+=1)if($[k][M]!==void 0&&$[k][M]!==S.charCodeAt(M)){F=!1;break}if(F===!0){W=z;break}}return W===r&&O!==r&&(W=O),W},i=function S(O){for(var k=this.internal.write,M=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:O.width}),F.push({key:"Height",value:O.height}),O.colorSpace===b.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===b.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var z="",W=0,q=O.transparency.length;W<q;W++)z+=O.transparency[W]+" "+O.transparency[W]+" ";F.push({key:"Mask",value:"["+z+"]"})}O.sMask!==void 0&&F.push({key:"SMask",value:O.objectId+1+" 0 R"});var ee=O.filter!==void 0?["/"+O.filter]:void 0;if(M({data:O.data,additionalKeyValues:F,alreadyAppliedFilters:ee,objectId:O.objectId}),k("endobj"),"sMask"in O&&O.sMask!==void 0){var de,B=(de=O.sMaskBitsPerComponent)!==null&&de!==void 0?de:O.bitsPerComponent,G={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:O.sMask};"filter"in O&&(G.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(O.width),G.filter=O.filter),S.call(this,G)}if(O.colorSpace===b.INDEXED){var Z=this.internal.newObject();M({data:R(new Uint8Array(O.palette)),objectId:Z}),k("endobj")}},s=function(){var S=this.internal.collections[e+"images"];for(var O in S)i.call(this,S[O])},o=function(){var S,O=this.internal.collections[e+"images"],k=this.internal.write;for(var M in O)k("/I"+(S=O[M]).index,S.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var S=this.internal.collections[e+"images"];return l.call(this),S},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(S){return typeof t["process"+S.toUpperCase()]=="function"},p=function(S){return Sr(S)==="object"&&S.nodeType===1},h=function(S,O){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var k=""+S.getAttribute("src");if(k.indexOf("data:image/")===0)return Rm(unescape(k).split("base64,").pop());var M=t.loadFile(k,!0);if(M!==void 0)return M}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var $;switch(O){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;default:$="image/jpeg"}return Rm(S.toDataURL($,1).split("base64,").pop())}},v=function(S){var O=this.internal.collections[e+"images"];if(O){for(var k in O)if(S===O[k].alias)return O[k]}},m=function(S,O,k){return S||O||(S=-96,O=-96),S<0&&(S=-1*k.width*72/S/this.internal.scaleFactor),O<0&&(O=-1*k.height*72/O/this.internal.scaleFactor),S===0&&(S=O*k.width/k.height),O===0&&(O=S*k.height/k.width),[S,O]},g=function(S,O,k,M,$,F){var z=m.call(this,k,M,$),W=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,ee=c.call(this);if(k=z[0],M=z[1],ee[$.index]=$,F){F*=Math.PI/180;var de=Math.cos(F),B=Math.sin(F),G=function(te){return te.toFixed(4)},Z=[G(de),G(B),G(-1*B),G(de),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,W(S),q(O+M),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([W(k),"0","0",W(M),"0","0","cm"].join(" "))):this.internal.write([W(k),"0","0",W(M),W(S),q(O+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(S){var O,k,M=0;if(typeof S=="string")for(k=S.length,O=0;O<k;O++)M=(M<<5)-M+S.charCodeAt(O),M|=0;else if(C(S))for(k=S.byteLength/2,O=0;O<k;O++)M=(M<<5)-M+S[O],M|=0;return M},_=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var O=!0;return S.length===0&&(O=!1),S.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(O=!1),O},A=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var O=S.indexOf(",");return O<0?null:S.substring(0,O).trim().endsWith("base64")?S.substring(O+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},E=t.__addimage__.binaryStringToUint8Array=function(S){for(var O=S.length,k=new Uint8Array(O),M=0;M<O;M++)k[M]=S.charCodeAt(M);return k},R=t.__addimage__.arrayBufferToBinaryString=function(S){for(var O="",k=C(S)?S:new Uint8Array(S),M=0;M<k.length;M+=8192)O+=String.fromCharCode.apply(null,k.subarray(M,M+8192));return O};t.addImage=function(){var S,O,k,M,$,F,z,W,q;if(typeof arguments[1]=="number"?(O=r,k=arguments[1],M=arguments[2],$=arguments[3],F=arguments[4],z=arguments[5],W=arguments[6],q=arguments[7]):(O=arguments[1],k=arguments[2],M=arguments[3],$=arguments[4],F=arguments[5],z=arguments[6],W=arguments[7],q=arguments[8]),Sr(S=arguments[0])==="object"&&!p(S)&&"imageData"in S){var ee=S;S=ee.imageData,O=ee.format||O||r,k=ee.x||k||0,M=ee.y||M||0,$=ee.w||ee.width||$,F=ee.h||ee.height||F,z=ee.alias||z,W=ee.compression||W,q=ee.rotation||ee.angle||q}var de=this.internal.getFilters();if(W===void 0&&de.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(k)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=L.call(this,S,O,z,W);return g.call(this,k,M,$,F,B,q),this};var L=function(S,O,k,M){var $,F,z;if(typeof S=="string"&&a(S)===r){S=unescape(S);var W=U(S,!1);(W!==""||(W=t.loadFile(S,!0))!==void 0)&&(S=W)}if(p(S)&&(S=h(S,O)),O=a(S,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((z=k)==null||z.length===0)&&(k=(function(q){return typeof q=="string"||C(q)?N(q):C(q.data)?N(q.data):null})(S)),($=v.call(this,k))||(S instanceof Uint8Array||O==="RGBA"||(F=S,S=E(S)),$=this["process"+O.toUpperCase()](S,d.call(this),k,(function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in t.image_compression?q:w.NONE})(M),F)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},U=t.__addimage__.convertBase64ToBinaryString=function(S,O){O=typeof O!="boolean"||O;var k,M="";if(typeof S=="string"){var $;k=($=A(S))!==null&&$!==void 0?$:S;try{M=Rm(k)}catch(F){if(O)throw _(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(S){var O,k,M="";if(p(S)&&(S=h(S)),typeof S=="string"&&a(S)===r&&((M=U(S,!1))===""&&(M=t.loadFile(S)||""),S=M),k=a(S),!f(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(S instanceof Uint8Array||(S=E(S)),!(O=this["process"+k.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=k,O}})(bt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};bt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(b(n.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+h(b(w))+") >>",m.content=i;var N=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(m.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var A=this.annotations._nameMap[n.options.name];n.options.pageNumber=A.page,n.options.top=A.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var C=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(c*d)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(bt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var g=0,b=r,w="",N=0;for(g=0;g<m.length;g+=1)b[m.charCodeAt(g)]!==void 0?(N++,typeof(b=b[m.charCodeAt(g)])=="number"&&(w+=String.fromCharCode(b),b=r,N=0),g===m.length-1&&(b=r,w+=m.charAt(g-(N-1)),g-=N-1,N=0)):(b=r,w+=m.charAt(g-N),g-=N,N=0);return w};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,g,b){return s(m)?i(m)===!1?-1:!c(m)||!s(g)&&!s(b)||!s(b)&&o(g)||o(m)&&!s(g)||o(m)&&l(g)||o(m)&&o(g)?0:d(m)&&s(g)&&!o(g)&&s(b)&&c(b)?3:o(m)||!s(b)?1:2:-1},h=function(m){var g=0,b=0,w=0,N="",_="",A="",C=(m=m||"").split("\\s+"),E=[];for(g=0;g<C.length;g+=1){for(E.push(""),b=0;b<C[g].length;b+=1)N=C[g][b],_=C[g][b-1],A=C[g][b+1],s(N)?(w=p(N,_,A),E[g]+=w!==-1?String.fromCharCode(e[N.charCodeAt(0)][w]):N):E[g]+=N;E[g]=f(E[g])}return E.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var m,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(g)){var w=0;for(b=[],w=0;w<g.length;w+=1)Array.isArray(g[w])?b.push([h(g[w][0]),g[w][1],g[w][2]]):b.push([h(g[w])]);m=b}else m=h(g);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",v])})(bt.API),bt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(bt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,v=0,m=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,_){return N.concat(g.splitTextToSize(_,b))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(m=this.getStringUnitWidth(l[w],{font:f})*d)&&(h=m);return h!==0&&(v=l.length),{w:h/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,v,m,g,b=[],w=[],N=[],_={},A={},C=[],E=[],R=(p=p||{}).autoSize||!1,L=p.printHeaders!==!1,U=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,S=p.margins||Object.assign({width:this.getPageWidth()},e),O=typeof p.padding=="number"?p.padding:3,k=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=M,this.setFontSize(U),f==null)w=b=Object.keys(d[0]),N=b.map(function(){return"left"});else if(Array.isArray(f)&&Sr(f[0])==="object")for(b=f.map(function(ee){return ee.name}),w=f.map(function(ee){return ee.prompt||ee.name||""}),N=f.map(function(ee){return ee.align||"left"}),h=0;h<f.length;h+=1)A[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=b=f,N=b.map(function(){return"left"}));if(R||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(_[g=b[h]]=d.map(function(ee){return ee[g]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[g],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)C.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[g]=Math.max.apply(null,C)+O+O,C=[]}if(L){var $={};for(h=0;h<b.length;h+=1)$[b[h]]={},$[b[h]].text=w[h],$[b[h]].align=N[h];var F=o.call(this,$,A);E=b.map(function(ee){return new i(l,c,A[ee],F,$[ee].text,void 0,$[ee].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var z=f.reduce(function(ee,de){return ee[de.name]=de.align,ee},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var W=o.call(this,d[h],A);for(m=0;m<b.length;m+=1){var q=d[h][b[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:q},this),s.call(this,new i(l,c,A[b[m]],W,q,h+2,z[b[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(bt.API);var pD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M5=hD(mD),gD=[100,200,300,400,500,600,700,800,900],Jde=hD(gD);function N2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return pD[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof M5[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function iO(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var Qde={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oO(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function lO(t){return t.trimLeft()}function efe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function tfe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var gm,cO,uO,Su,vm,dO,fO,hO,S2=["times"];function pO(t,e,r,n,a){var i=4,s=gO;switch(a){case bt.API.image_compression.FAST:i=1,s=mO;break;case bt.API.image_compression.MEDIUM:i=6,s=vO;break;case bt.API.image_compression.SLOW:i=9,s=yO}t=(function(l,c,d,f){for(var p,h=l.length/c,v=new Uint8Array(l.length+h),m=[rfe,mO,gO,vO,yO],g=0;g<h;g+=1){var b=g*c,w=l.subarray(b,b+c);if(f)v.set(f(w,d,p),b+g);else{for(var N=m.length,_=[],A=0;A<N;A+=1)_[A]=m[A](w,d,p);var C=afe(_.concat());v.set(_[C],b+g)}p=w}return v})(t,e,Math.ceil(r*n/8),s);var o=E5(t,{level:i});return bt.API.__addimage__.arrayBufferToBinaryString(o)}function rfe(t){var e=Array.apply([],t);return e.unshift(0),e}function mO(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function gO(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=t[i]-s+256&255}return a}function vO(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=t[i-e]||0,o=r&&r[i]||0;a[i+1]=t[i]+256-(s+o>>>1)&255}return a}function yO(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=nfe(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-s+256&255}return a}function nfe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function afe(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function A2(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return vD(t,a)>>i&s}function bO(t,e,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,d,f){if(d+1<c.byteLength)c.setUint16(d,f,!1);else{var p=f>>8&255;c.setUint8(d,p)}})(t,i,vD(t,i)&~(o<<s)&65535|l)}function vD(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function ife(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<1+(7&a);t[e++],t[e++];var o=null,l=null;i&&(o=e,l=s,e+=3*s);var c=!0,d=[],f=0,p=null,h=0,v=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,_=t[e++],A=_>>6&1,C=1<<1+(7&_),E=o,R=l,L=!1;_>>7&&(L=!0,E=e,R=C,e+=3*C);var U=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}d.push({x:g,y:b,width:w,height:N,has_local_palette:L,palette_offset:E,palette_size:R,data_offset:U,data_length:e-U,transparent_index:p,interlaced:!!A,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,k){var M=this.frameInfo(O),$=M.width*M.height,F=new Uint8Array($);xO(t,M.data_offset,F,$);var z=M.palette_offset,W=M.transparent_index;W===null&&(W=256);var q=M.width,ee=r-q,de=q,B=4*(M.y*r+M.x),G=4*((M.y+M.height)*r+M.x),Z=B,te=4*ee;M.interlaced===!0&&(te+=4*r*7);for(var ne=8,ie=0,fe=F.length;ie<fe;++ie){var se=F[ie];if(de===0&&(de=q,(Z+=te)>=G&&(te=4*ee+4*r*(ne-1),Z=B+(q+ee)*(ne<<1),ne>>=1)),se===W)Z+=4;else{var he=t[z+3*se],oe=t[z+3*se+1],ae=t[z+3*se+2];k[Z++]=ae,k[Z++]=oe,k[Z++]=he,k[Z++]=255}--de}},this.decodeAndBlitFrameRGBA=function(O,k){var M=this.frameInfo(O),$=M.width*M.height,F=new Uint8Array($);xO(t,M.data_offset,F,$);var z=M.palette_offset,W=M.transparent_index;W===null&&(W=256);var q=M.width,ee=r-q,de=q,B=4*(M.y*r+M.x),G=4*((M.y+M.height)*r+M.x),Z=B,te=4*ee;M.interlaced===!0&&(te+=4*r*7);for(var ne=8,ie=0,fe=F.length;ie<fe;++ie){var se=F[ie];if(de===0&&(de=q,(Z+=te)>=G&&(te=4*ee+4*r*(ne-1),Z=B+(q+ee)*(ne<<1),ne>>=1)),se===W)Z+=4;else{var he=t[z+3*se],oe=t[z+3*se+1],ae=t[z+3*se+2];k[Z++]=he,k[Z++]=oe,k[Z++]=ae,k[Z++]=255}--de}}}function xO(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,d=0,f=0,p=0,h=t[e++],v=new Int32Array(4096),m=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<l)break;var g=f&c;if(f>>=l,d-=l,g!==i){if(g===s)break;for(var b=g<o?g:m,w=0,N=b;N>i;)N=v[N]>>8,++w;var _=N;if(p+w+(b!==g?1:0)>n)return void Er.log("Warning, gif stream longer than expected.");r[p++]=_;var A=p+=w;for(b!==g&&(r[p++]=_),N=b;w--;)N=v[N],r[--A]=255&N,N>>=8;m!==null&&o<4096&&(v[o++]=m<<8|_,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else o=s+1,c=(1<<(l=a+1))-1,m=null}return p!==n&&Er.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function j2(t){var e,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),v=new Array(64),m=[],g=0,b=7,w=new Array(64),N=new Array(64),_=new Array(64),A=new Array(256),C=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(B,G){for(var Z=0,te=0,ne=new Array,ie=1;ie<=16;ie++){for(var fe=1;fe<=B[ie];fe++)ne[G[te]]=[],ne[G[te]][0]=Z,ne[G[te]][1]=ie,te++,Z++;Z*=2}return ne}function z(B){for(var G=B[0],Z=B[1]-1;Z>=0;)G&1<<Z&&(g|=1<<b),Z--,--b<0&&(g==255?(W(255),W(0)):W(g),b=7,g=0)}function W(B){m.push(B)}function q(B){W(B>>8&255),W(255&B)}function ee(B,G,Z,te,ne){for(var ie,fe=ne[0],se=ne[240],he=(function(Pe,Ge){var Te,ze,Ue,Ye,Ze,wt,Pt,Ce,Ae,We,qe=0;for(Ae=0;Ae<8;++Ae){Te=Pe[qe],ze=Pe[qe+1],Ue=Pe[qe+2],Ye=Pe[qe+3],Ze=Pe[qe+4],wt=Pe[qe+5],Pt=Pe[qe+6];var rt=Te+(Ce=Pe[qe+7]),st=Te-Ce,mt=ze+Pt,Nt=ze-Pt,Yt=Ue+wt,et=Ue-wt,zt=Ye+Ze,tt=Ye-Ze,ut=rt+zt,Xt=rt-zt,_t=mt+Yt,ot=mt-Yt;Pe[qe]=ut+_t,Pe[qe+4]=ut-_t;var Lt=.707106781*(ot+Xt);Pe[qe+2]=Xt+Lt,Pe[qe+6]=Xt-Lt;var en=.382683433*((ut=tt+et)-(ot=Nt+st)),Ar=.5411961*ut+en,tn=1.306562965*ot+en,Or=.707106781*(_t=et+Nt),gt=st+Or,Yr=st-Or;Pe[qe+5]=Yr+Ar,Pe[qe+3]=Yr-Ar,Pe[qe+1]=gt+tn,Pe[qe+7]=gt-tn,qe+=8}for(qe=0,Ae=0;Ae<8;++Ae){Te=Pe[qe],ze=Pe[qe+8],Ue=Pe[qe+16],Ye=Pe[qe+24],Ze=Pe[qe+32],wt=Pe[qe+40],Pt=Pe[qe+48];var _n=Te+(Ce=Pe[qe+56]),yn=Te-Ce,cn=ze+Pt,gr=ze-Pt,kr=Ue+wt,Rt=Ue-wt,Ia=Ye+Ze,ca=Ye-Ze,bn=_n+Ia,Kn=_n-Ia,Yn=cn+kr,sr=cn-kr;Pe[qe]=bn+Yn,Pe[qe+32]=bn-Yn;var $n=.707106781*(sr+Kn);Pe[qe+16]=Kn+$n,Pe[qe+48]=Kn-$n;var Ka=.382683433*((bn=ca+Rt)-(sr=gr+yn)),ua=.5411961*bn+Ka,Ya=1.306562965*sr+Ka,Ra=.707106781*(Yn=Rt+gr),Xr=yn+Ra,Xa=yn-Ra;Pe[qe+40]=Xa+ua,Pe[qe+24]=Xa-ua,Pe[qe+8]=Xr+Ya,Pe[qe+56]=Xr-Ya,qe++}for(Ae=0;Ae<64;++Ae)We=Pe[Ae]*Ge[Ae],h[Ae]=We>0?We+.5|0:We-.5|0;return h})(B,G),oe=0;oe<64;++oe)v[E[oe]]=he[oe];var ae=v[0]-Z;Z=v[0],ae==0?z(te[0]):(z(te[p[ie=32767+ae]]),z(f[ie]));for(var xe=63;xe>0&&v[xe]==0;)xe--;if(xe==0)return z(fe),Z;for(var we,Y=1;Y<=xe;){for(var ge=Y;v[Y]==0&&Y<=xe;)++Y;var De=Y-ge;if(De>=16){we=De>>4;for(var Fe=1;Fe<=we;++Fe)z(se);De&=15}ie=32767+v[Y],z(ne[(De<<4)+p[ie]]),z(f[ie]),Y++}return xe!=63&&z(fe),Z}function de(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(G){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ne=s((Z[te]*G+50)/100);ne=Math.min(Math.max(ne,1),255),o[E[te]]=ne}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var se=s((ie[fe]*G+50)/100);se=Math.min(Math.max(se,1),255),l[E[fe]]=se}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,ae=0;ae<8;ae++)for(var xe=0;xe<8;xe++)c[oe]=1/(o[E[oe]]*he[ae]*he[xe]*8),d[oe]=1/(l[E[oe]]*he[ae]*he[xe]*8),oe++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,G){G&&de(G),m=new Array,g=0,b=7,q(65496),q(65504),q(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),q(1),q(1),W(0),W(0),(function(){q(65499),q(132),W(0);for(var ze=0;ze<64;ze++)W(o[ze]);W(1);for(var Ue=0;Ue<64;Ue++)W(l[Ue])})(),(function(ze,Ue){q(65472),q(17),W(8),q(Ue),q(ze),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})(B.width,B.height),(function(){q(65476),q(418),W(0);for(var ze=0;ze<16;ze++)W(R[ze+1]);for(var Ue=0;Ue<=11;Ue++)W(L[Ue]);W(16);for(var Ye=0;Ye<16;Ye++)W(U[Ye+1]);for(var Ze=0;Ze<=161;Ze++)W(S[Ze]);W(1);for(var wt=0;wt<16;wt++)W(O[wt+1]);for(var Pt=0;Pt<=11;Pt++)W(k[Pt]);W(17);for(var Ce=0;Ce<16;Ce++)W(M[Ce+1]);for(var Ae=0;Ae<=161;Ae++)W($[Ae])})(),q(65498),q(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Z=0,te=0,ne=0;g=0,b=7,this.encode.displayName="_encode_";for(var ie,fe,se,he,oe,ae,xe,we,Y,ge=B.data,De=B.width,Fe=B.height,Pe=4*De,Ge=0;Ge<Fe;){for(ie=0;ie<Pe;){for(oe=Pe*Ge+ie,xe=-1,we=0,Y=0;Y<64;Y++)ae=oe+(we=Y>>3)*Pe+(xe=4*(7&Y)),Ge+we>=Fe&&(ae-=Pe*(Ge+1+we-Fe)),ie+xe>=Pe&&(ae-=ie+xe-Pe+4),fe=ge[ae++],se=ge[ae++],he=ge[ae++],w[Y]=(C[fe]+C[se+256|0]+C[he+512|0]>>16)-128,N[Y]=(C[fe+768|0]+C[se+1024|0]+C[he+1280|0]>>16)-128,_[Y]=(C[fe+1280|0]+C[se+1536|0]+C[he+1792|0]>>16)-128;Z=ee(w,c,Z,e,n),te=ee(N,d,te,r,a),ne=ee(_,d,ne,r,a),ie+=32}Ge+=8}if(b>=0){var Te=[];Te[1]=b+1,Te[0]=(1<<b+1)-1,z(Te)}return q(65497),new Uint8Array(m)},t=t||50,(function(){for(var B=String.fromCharCode,G=0;G<256;G++)A[G]=B(G)})(),e=F(R,L),r=F(O,k),n=F(U,S),a=F(M,$),(function(){for(var B=1,G=2,Z=1;Z<=15;Z++){for(var te=B;te<G;te++)p[32767+te]=Z,f[32767+te]=[],f[32767+te][1]=Z,f[32767+te][0]=te;for(var ne=-(G-1);ne<=-B;ne++)p[32767+ne]=Z,f[32767+ne]=[],f[32767+ne][1]=Z,f[32767+ne][0]=G-1+ne;B<<=1,G<<=1}})(),(function(){for(var B=0;B<256;B++)C[B]=19595*B,C[B+256|0]=38470*B,C[B+512|0]=7471*B+32768,C[B+768|0]=-11059*B,C[B+1024|0]=-21709*B,C[B+1280|0]=32768*B+8421375,C[B+1536|0]=-27439*B,C[B+1792|0]=-5329*B})(),de(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function as(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wO(t){function e(L){if(!L)throw Error("assert :P")}function r(L,U,S){for(var O=0;4>O;O++)if(L[U+O]!=S.charCodeAt(O))return!0;return!1}function n(L,U,S,O,k){for(var M=0;M<k;M++)L[U+M]=S[O+M]}function a(L,U,S,O){for(var k=0;k<O;k++)L[U+k]=S}function i(L){return new Int32Array(L)}function s(L,U){for(var S=[],O=0;O<L;O++)S.push(new U);return S}function o(L,U){var S=[];return(function O(k,M,$){for(var F=$[M],z=0;z<F&&(k.push($.length>M+1?[]:new U),!($.length<M+1));z++)O(k[z],M+1,$)})(S,0,L),S}var l=function(){var L=this;function U(y,x){for(var T=1<<x-1>>>0;y&T;)T>>>=1;return T?(y&T-1)+T:y}function S(y,x,T,D,V){e(!(D%T));do y[x+(D-=T)]=V;while(0<D)}function O(y,x,T,D,V){if(e(2328>=V),512>=V)var K=i(512);else if((K=i(V))==null)return 0;return(function(X,Q,re,ce,ye,_e){var ue,be,Se=Q,Oe=1<<re,je=i(16),Le=i(16);for(e(ye!=0),e(ce!=null),e(X!=null),e(0<re),be=0;be<ye;++be){if(15<ce[be])return 0;++je[ce[be]]}if(je[0]==ye)return 0;for(Le[1]=0,ue=1;15>ue;++ue){if(je[ue]>1<<ue)return 0;Le[ue+1]=Le[ue]+je[ue]}for(be=0;be<ye;++be)ue=ce[be],0<ce[be]&&(_e[Le[ue]++]=be);if(Le[15]==1)return(ce=new k).g=0,ce.value=_e[0],S(X,Se,1,Oe,ce),Oe;var Re,He=-1,$e=Oe-1,jt=0,dt=1,Vt=1,vt=1<<re;for(be=0,ue=1,ye=2;ue<=re;++ue,ye<<=1){if(dt+=Vt<<=1,0>(Vt-=je[ue]))return 0;for(;0<je[ue];--je[ue])(ce=new k).g=ue,ce.value=_e[be++],S(X,Se+jt,ye,vt,ce),jt=U(jt,ue)}for(ue=re+1,ye=2;15>=ue;++ue,ye<<=1){if(dt+=Vt<<=1,0>(Vt-=je[ue]))return 0;for(;0<je[ue];--je[ue]){if(ce=new k,(jt&$e)!=He){for(Se+=vt,Re=1<<(He=ue)-re;15>He&&!(0>=(Re-=je[He]));)++He,Re<<=1;Oe+=vt=1<<(Re=He-re),X[Q+(He=jt&$e)].g=Re+re,X[Q+He].value=Se-Q-He}ce.g=ue-re,ce.value=_e[be++],S(X,Se+(jt>>re),ye,vt,ce),jt=U(jt,ue)}}return dt!=2*Le[15]-1?0:Oe})(y,x,T,D,V,K)}function k(){this.value=this.g=0}function M(){this.value=this.g=0}function $(){this.G=s(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(dc,M)}function F(y,x,T,D){e(y!=null),e(x!=null),e(2147483648>D),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=x,y.pa=T,y.Jd=x,y.Yc=T+D,y.Zc=4<=D?T+D-4+1:T,fe(y)}function z(y,x){for(var T=0;0<x--;)T|=he(y,128)<<x;return T}function W(y,x){var T=z(y,x);return se(y)?-T:T}function q(y,x,T,D){var V,K=0;for(e(y!=null),e(x!=null),e(4294967288>D),y.Sb=D,y.Ra=0,y.u=0,y.h=0,4<D&&(D=4),V=0;V<D;++V)K+=x[T+V]<<8*V;y.Ra=K,y.bb=D,y.oa=x,y.pa=T}function ee(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<ol-8>>>0,++y.bb,y.u-=8;te(y)&&(y.h=1,y.u=0)}function de(y,x){if(e(0<=x),!y.h&&x<=ti){var T=Z(y)&ei[x];return y.u+=x,ee(y),T}return y.h=1,y.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(y){return y.Ra>>>(y.u&ol-1)>>>0}function te(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>ol}function ne(y,x){y.u=x,y.h=te(y)}function ie(y){y.u>=mo&&(e(y.u>=mo),ee(y))}function fe(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function se(y){return z(y,1)}function he(y,x){var T=y.Ca;0>y.b&&fe(y);var D=y.b,V=T*x>>>8,K=(y.I>>>D>V)+0;for(K?(T-=V,y.I-=V+1<<D>>>0):T=V+1,D=T,V=0;256<=D;)V+=8,D>>=8;return D=7^V+ll[D],y.b-=D,y.Ca=(T<<D)-1,K}function oe(y,x,T){y[x+0]=T>>24&255,y[x+1]=T>>16&255,y[x+2]=T>>8&255,y[x+3]=255&T}function ae(y,x){return y[x+0]|y[x+1]<<8}function xe(y,x){return ae(y,x)|y[x+2]<<16}function we(y,x){return ae(y,x)|ae(y,x+2)<<16}function Y(y,x){var T=1<<x;return e(y!=null),e(0<x),y.X=i(T),y.X==null?0:(y.Mb=32-x,y.Xa=x,1)}function ge(y,x){e(y!=null),e(x!=null),e(y.Xa==x.Xa),n(x.X,0,y.X,0,1<<x.Xa)}function De(){this.X=[],this.Xa=this.Mb=0}function Fe(y,x,T,D){e(T!=null),e(D!=null);var V=T[0],K=D[0];return V==0&&(V=(y*K+x/2)/x),K==0&&(K=(x*V+y/2)/y),0>=V||0>=K?0:(T[0]=V,D[0]=K,1)}function Pe(y,x){return y+(1<<x)-1>>>x}function Ge(y,x){return((4278255360&y)+(4278255360&x)>>>0&4278255360)+((16711935&y)+(16711935&x)>>>0&16711935)>>>0}function Te(y,x){L[x]=function(T,D,V,K,X,Q,re){var ce;for(ce=0;ce<X;++ce){var ye=L[y](Q[re+ce-1],V,K+ce);Q[re+ce]=Ge(T[D+ce],ye)}}}function ze(){this.ud=this.hd=this.jd=0}function Ue(y,x){return((4278124286&(y^x))>>>1)+(y&x)>>>0}function Ye(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Ze(y,x){return Ye(y+(y-x+.5>>1))}function wt(y,x,T){return Math.abs(x-T)-Math.abs(y-T)}function Pt(y,x,T,D,V,K,X){for(D=K[X-1],T=0;T<V;++T)K[X+T]=D=Ge(y[x+T],D)}function Ce(y,x,T,D,V){var K;for(K=0;K<T;++K){var X=y[x+K],Q=X>>8&255,re=16711935&(re=(re=16711935&X)+((Q<<16)+Q));D[V+K]=(4278255360&X)+re>>>0}}function Ae(y,x){x.jd=255&y,x.hd=y>>8&255,x.ud=y>>16&255}function We(y,x,T,D,V,K){var X;for(X=0;X<D;++X){var Q=x[T+X],re=Q>>>8,ce=Q,ye=255&(ye=(ye=Q>>>16)+((y.jd<<24>>24)*(re<<24>>24)>>>5));ce=255&(ce=(ce+=(y.hd<<24>>24)*(re<<24>>24)>>>5)+((y.ud<<24>>24)*(ye<<24>>24)>>>5)),V[K+X]=(4278255360&Q)+(ye<<16)+ce}}function qe(y,x,T,D,V){L[x]=function(K,X,Q,re,ce,ye,_e,ue,be){for(re=_e;re<ue;++re)for(_e=0;_e<be;++_e)ce[ye++]=V(Q[D(K[X++])])},L[y]=function(K,X,Q,re,ce,ye,_e){var ue=8>>K.b,be=K.Ea,Se=K.K[0],Oe=K.w;if(8>ue)for(K=(1<<K.b)-1,Oe=(1<<ue)-1;X<Q;++X){var je,Le=0;for(je=0;je<be;++je)je&K||(Le=D(re[ce++])),ye[_e++]=V(Se[Le&Oe]),Le>>=ue}else L["VP8LMapColor"+T](re,ce,Se,Oe,ye,_e,X,Q,be)}}function rt(y,x,T,D,V){for(T=x+T;x<T;){var K=y[x++];D[V++]=K>>16&255,D[V++]=K>>8&255,D[V++]=255&K}}function st(y,x,T,D,V){for(T=x+T;x<T;){var K=y[x++];D[V++]=K>>16&255,D[V++]=K>>8&255,D[V++]=255&K,D[V++]=K>>24&255}}function mt(y,x,T,D,V){for(T=x+T;x<T;){var K=(X=y[x++])>>16&240|X>>12&15,X=240&X|X>>28&15;D[V++]=K,D[V++]=X}}function Nt(y,x,T,D,V){for(T=x+T;x<T;){var K=(X=y[x++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;D[V++]=K,D[V++]=X}}function Yt(y,x,T,D,V){for(T=x+T;x<T;){var K=y[x++];D[V++]=255&K,D[V++]=K>>8&255,D[V++]=K>>16&255}}function et(y,x,T,D,V,K){if(K==0)for(T=x+T;x<T;)oe(D,((K=y[x++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),V+=32;else n(D,V,y,x,T)}function zt(y,x){L[x][0]=L[y+"0"],L[x][1]=L[y+"1"],L[x][2]=L[y+"2"],L[x][3]=L[y+"3"],L[x][4]=L[y+"4"],L[x][5]=L[y+"5"],L[x][6]=L[y+"6"],L[x][7]=L[y+"7"],L[x][8]=L[y+"8"],L[x][9]=L[y+"9"],L[x][10]=L[y+"10"],L[x][11]=L[y+"11"],L[x][12]=L[y+"12"],L[x][13]=L[y+"13"],L[x][14]=L[y+"0"],L[x][15]=L[y+"0"]}function tt(y){return y==kv||y==Lv||y==Tp||y==Iv}function ut(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ut,this.f.kb=new Xt,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function en(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Ar(y,x){var T=y.T,D=x.ba.f.RGBA,V=D.eb,K=D.fb+y.ka*D.A,X=Ti[x.ba.S],Q=y.y,re=y.O,ce=y.f,ye=y.N,_e=y.ea,ue=y.W,be=x.cc,Se=x.dc,Oe=x.Mc,je=x.Nc,Le=y.ka,Re=y.ka+y.T,He=y.U,$e=He+1>>1;for(Le==0?X(Q,re,null,null,ce,ye,_e,ue,ce,ye,_e,ue,V,K,null,null,He):(X(x.ec,x.fc,Q,re,be,Se,Oe,je,ce,ye,_e,ue,V,K-D.A,V,K,He),++T);Le+2<Re;Le+=2)be=ce,Se=ye,Oe=_e,je=ue,ye+=y.Rc,ue+=y.Rc,K+=2*D.A,X(Q,(re+=2*y.fa)-y.fa,Q,re,be,Se,Oe,je,ce,ye,_e,ue,V,K-D.A,V,K,He);return re+=y.fa,y.j+Re<y.o?(n(x.ec,x.fc,Q,re,He),n(x.cc,x.dc,ce,ye,$e),n(x.Mc,x.Nc,_e,ue,$e),T--):1&Re||X(Q,re,null,null,ce,ye,_e,ue,ce,ye,_e,ue,V,K+D.A,null,null,He),T}function tn(y,x,T){var D=y.F,V=[y.J];if(D!=null){var K=y.U,X=x.ba.S,Q=X==Ep||X==Tp;x=x.ba.f.RGBA;var re=[0],ce=y.ka;re[0]=y.T,y.Kb&&(ce==0?--re[0]:(--ce,V[0]-=y.width),y.j+y.ka+y.T==y.o&&(re[0]=y.o-y.j-ce));var ye=x.eb;ce=x.fb+ce*x.A,y=GA(D,V[0],y.width,K,re,ye,ce+(Q?0:3),x.A),e(T==re),y&&tt(X)&&lf(ye,ce,Q,K,re,x.A)}return 0}function Or(y){var x=y.ma,T=x.ba.S,D=11>T,V=T==Pp||T==Cp||T==Ep||T==Ov||T==12||tt(T);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Qd(x.Oa,y,V?11:12))return 0;if(V&&tt(T)&&Xd(),y.da)alert("todo:use_scaling");else{if(D){if(x.Ib=en,y.Kb){if(T=y.U+1>>1,x.memory=i(y.U+2*T),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+y.U,x.Mc=x.cc,x.Nc=x.dc+T,x.Ib=Ar,Xd()}}else alert("todo:EmitYUV");V&&(x.Jb=tn,D&&Qi())}if(D&&!c3){for(y=0;256>y;++y)wB[y]=89858*(y-128)+kp>>Op,AB[y]=-22014*(y-128)+kp,SB[y]=-45773*(y-128),NB[y]=113618*(y-128)+kp>>Op;for(y=uf;y<Dv;++y)x=76283*(y-16)+kp>>Op,jB[y-uf]=qn(x,255),_B[y-uf]=qn(x+8>>4,15);c3=1}return 1}function gt(y){var x=y.ma,T=y.U,D=y.T;return e(!(1&y.ka)),0>=T||0>=D?0:(T=x.Ib(y,x),x.Jb!=null&&x.Jb(y,x,T),x.Dc+=T,1)}function Yr(y){y.ma.memory=null}function _n(y,x,T,D){return de(y,8)!=47?0:(x[0]=de(y,14)+1,T[0]=de(y,14)+1,D[0]=de(y,1),de(y,3)!=0?0:!y.h)}function yn(y,x){if(4>y)return y+1;var T=y-2>>1;return(2+(1&y)<<T)+de(x,T)+1}function cn(y,x){return 120<x?x-120:1<=(T=((T=oB[x-1])>>4)*y+(8-(15&T)))?T:1;var T}function gr(y,x,T){var D=Z(T),V=y[x+=255&D].g-8;return 0<V&&(ne(T,T.u+8),D=Z(T),x+=y[x].value,x+=D&(1<<V)-1),ne(T,T.u+y[x].g),y[x].value}function kr(y,x,T){return T.g+=y.g,T.value+=y.value<<x>>>0,e(8>=T.g),y.g}function Rt(y,x,T){var D=y.xc;return e((x=D==0?0:y.vc[y.md*(T>>D)+(x>>D)])<y.Wb),y.Ya[x]}function Ia(y,x,T,D){var V=y.ab,K=y.c*x,X=y.C;x=X+x;var Q=T,re=D;for(D=y.Ta,T=y.Ua;0<V--;){var ce=y.gc[V],ye=X,_e=x,ue=Q,be=re,Se=(re=D,Q=T,ce.Ea);switch(e(ye<_e),e(_e<=ce.nc),ce.hc){case 2:un(ue,be,(_e-ye)*Se,re,Q);break;case 0:var Oe=ye,je=_e,Le=re,Re=Q,He=(vt=ce).Ea;Oe==0&&(tf(ue,be,null,null,1,Le,Re),Pt(ue,be+1,0,0,He-1,Le,Re+1),be+=He,Re+=He,++Oe);for(var $e=1<<vt.b,jt=$e-1,dt=Pe(He,vt.b),Vt=vt.K,vt=vt.w+(Oe>>vt.b)*dt;Oe<je;){var nr=Vt,On=vt,Gt=1;for(du(ue,be,Le,Re-He,1,Le,Re);Gt<He;){var yt=(Gt&~jt)+$e;yt>He&&(yt=He),(0,nf[nr[On++]>>8&15])(ue,be+ +Gt,Le,Re+Gt-He,yt-Gt,Le,Re+Gt),Gt=yt}be+=He,Re+=He,++Oe&jt||(vt+=dt)}_e!=ce.nc&&n(re,Q-Se,re,Q+(_e-ye-1)*Se,Se);break;case 1:for(Se=ue,je=be,He=(ue=ce.Ea)-(Re=ue&~(Le=(be=1<<ce.b)-1)),Oe=Pe(ue,ce.b),$e=ce.K,ce=ce.w+(ye>>ce.b)*Oe;ye<_e;){for(jt=$e,dt=ce,Vt=new ze,vt=je+Re,nr=je+ue;je<vt;)Ae(jt[dt++],Vt),af(Vt,Se,je,be,re,Q),je+=be,Q+=be;je<nr&&(Ae(jt[dt++],Vt),af(Vt,Se,je,He,re,Q),je+=He,Q+=He),++ye&Le||(ce+=Oe)}break;case 3:if(ue==re&&be==Q&&0<ce.b){for(je=re,ue=Se=Q+(_e-ye)*Se-(Re=(_e-ye)*Pe(ce.Ea,ce.b)),be=re,Le=Q,Oe=[],Re=(He=Re)-1;0<=Re;--Re)Oe[Re]=be[Le+Re];for(Re=He-1;0<=Re;--Re)je[ue+Re]=Oe[Re];Sp(ce,ye,_e,re,Se,re,Q)}else Sp(ce,ye,_e,ue,be,re,Q)}Q=D,re=T}re!=T&&n(D,T,Q,re,K)}function ca(y,x){var T=y.V,D=y.Ba+y.c*y.C,V=x-y.C;if(e(x<=y.l.o),e(16>=V),0<V){var K=y.l,X=y.Ta,Q=y.Ua,re=K.width;if(Ia(y,V,T,D),V=Q=[Q],e((T=y.C)<(D=x)),e(K.v<K.va),D>K.o&&(D=K.o),T<K.j){var ce=K.j-T;T=K.j,V[0]+=ce*re}if(T>=D?T=0:(V[0]+=4*K.v,K.ka=T-K.j,K.U=K.va-K.v,K.T=D-T,T=1),T){if(Q=Q[0],11>(T=y.ca).S){var ye=T.f.RGBA,_e=(D=T.S,V=K.U,K=K.T,ce=ye.eb,ye.A),ue=K;for(ye=ye.fb+y.Ma*ye.A;0<ue--;){var be=X,Se=Q,Oe=V,je=ce,Le=ye;switch(D){case _p:sf(be,Se,Oe,je,Le);break;case Pp:cl(be,Se,Oe,je,Le);break;case kv:cl(be,Se,Oe,je,Le),lf(je,Le,0,Oe,1,0);break;case e3:fc(be,Se,Oe,je,Le);break;case Cp:et(be,Se,Oe,je,Le,1);break;case Lv:et(be,Se,Oe,je,Le,1),lf(je,Le,0,Oe,1,0);break;case Ep:et(be,Se,Oe,je,Le,0);break;case Tp:et(be,Se,Oe,je,Le,0),lf(je,Le,1,Oe,1,0);break;case Ov:ul(be,Se,Oe,je,Le);break;case Iv:ul(be,Se,Oe,je,Le),VA(je,Le,Oe,1,0);break;case t3:dl(be,Se,Oe,je,Le);break;default:e(0)}Q+=re,ye+=_e}y.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=T.height)}}y.C=x,e(y.C<=y.i)}function bn(y){var x;if(0<y.ua)return 0;for(x=0;x<y.Wb;++x){var T=y.Ya[x].G,D=y.Ya[x].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function Kn(y,x,T,D,V,K){if(y.Z!=0){var X=y.qd,Q=y.rd;for(e(pl[y.Z]!=null);x<T;++x)pl[y.Z](X,Q,D,V,D,V,K),X=D,Q=V,V+=K;y.qd=X,y.rd=Q}}function Yn(y,x){var T=y.l.ma,D=T.Z==0||T.Z==1?y.l.j:y.C;if(D=y.C<D?D:y.C,e(x<=y.l.o),x>D){var V=y.l.width,K=T.ca,X=T.tb+V*D,Q=y.V,re=y.Ba+y.c*D,ce=y.gc;e(y.ab==1),e(ce[0].hc==3),Rs(ce[0],D,x,Q,re,K,X),Kn(T,D,x,K,X,V)}y.C=y.Ma=x}function sr(y,x,T,D,V,K,X){var Q=y.$/D,re=y.$%D,ce=y.m,ye=y.s,_e=T+y.$,ue=_e;V=T+D*V;var be=T+D*K,Se=280+ye.ua,Oe=y.Pb?Q:16777216,je=0<ye.ua?ye.Wa:null,Le=ye.wc,Re=_e<be?Rt(ye,re,Q):null;e(y.C<K),e(be<=V);var He=!1;e:for(;;){for(;He||_e<be;){var $e=0;if(Q>=Oe){var jt=_e-T;e((Oe=y).Pb),Oe.wd=Oe.m,Oe.xd=jt,0<Oe.s.ua&&ge(Oe.s.Wa,Oe.s.vb),Oe=Q+cB}if(re&Le||(Re=Rt(ye,re,Q)),e(Re!=null),Re.Qb&&(x[_e]=Re.qb,He=!0),!He)if(ie(ce),Re.jc){$e=ce,jt=x;var dt=_e,Vt=Re.pd[Z($e)&dc-1];e(Re.jc),256>Vt.g?(ne($e,$e.u+Vt.g),jt[dt]=Vt.value,$e=0):(ne($e,$e.u+Vt.g-256),e(256<=Vt.value),$e=Vt.value),$e==0&&(He=!0)}else $e=gr(Re.G[0],Re.H[0],ce);if(ce.h)break;if(He||256>$e){if(!He)if(Re.nd)x[_e]=(Re.qb|$e<<8)>>>0;else{if(ie(ce),He=gr(Re.G[1],Re.H[1],ce),ie(ce),jt=gr(Re.G[2],Re.H[2],ce),dt=gr(Re.G[3],Re.H[3],ce),ce.h)break;x[_e]=(dt<<24|He<<16|$e<<8|jt)>>>0}if(He=!1,++_e,++re>=D&&(re=0,++Q,X!=null&&Q<=K&&!(Q%16)&&X(y,Q),je!=null))for(;ue<_e;)$e=x[ue++],je.X[(506832829*$e&4294967295)>>>je.Mb]=$e}else if(280>$e){if($e=yn($e-256,ce),jt=gr(Re.G[4],Re.H[4],ce),ie(ce),jt=cn(D,jt=yn(jt,ce)),ce.h)break;if(_e-T<jt||V-_e<$e)break e;for(dt=0;dt<$e;++dt)x[_e+dt]=x[_e+dt-jt];for(_e+=$e,re+=$e;re>=D;)re-=D,++Q,X!=null&&Q<=K&&!(Q%16)&&X(y,Q);if(e(_e<=V),re&Le&&(Re=Rt(ye,re,Q)),je!=null)for(;ue<_e;)$e=x[ue++],je.X[(506832829*$e&4294967295)>>>je.Mb]=$e}else{if(!($e<Se))break e;for(He=$e-280,e(je!=null);ue<_e;)$e=x[ue++],je.X[(506832829*$e&4294967295)>>>je.Mb]=$e;$e=_e,e(!(He>>>(jt=je).Xa)),x[$e]=jt.X[He],He=!0}He||e(ce.h==te(ce))}if(y.Pb&&ce.h&&_e<V)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&ge(y.s.vb,y.s.Wa);else{if(ce.h)break e;X?.(y,Q>K?K:Q),y.a=0,y.$=_e-T}return 1}return y.a=3,0}function $n(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var x=y.Wa;x!=null&&(x.X=null),y.vb=null,e(y!=null)}function Ka(){var y=new Bt;return y==null?null:(y.a=0,y.xb=a3,zt("Predictor","VP8LPredictors"),zt("Predictor","VP8LPredictors_C"),zt("PredictorAdd","VP8LPredictorsAdd"),zt("PredictorAdd","VP8LPredictorsAdd_C"),un=Ce,af=We,sf=rt,cl=st,ul=mt,dl=Nt,fc=Yt,L.VP8LMapColor32b=Is,L.VP8LMapColor8b=rf,y)}function ua(y,x,T,D,V){var K=1,X=[y],Q=[x],re=D.m,ce=D.s,ye=null,_e=0;e:for(;;){if(T)for(;K&&de(re,1);){var ue=X,be=Q,Se=D,Oe=1,je=Se.m,Le=Se.gc[Se.ab],Re=de(je,2);if(Se.Oc&1<<Re)K=0;else{switch(Se.Oc|=1<<Re,Le.hc=Re,Le.Ea=ue[0],Le.nc=be[0],Le.K=[null],++Se.ab,e(4>=Se.ab),Re){case 0:case 1:Le.b=de(je,3)+2,Oe=ua(Pe(Le.Ea,Le.b),Pe(Le.nc,Le.b),0,Se,Le.K),Le.K=Le.K[0];break;case 3:var He,$e=de(je,8)+1,jt=16<$e?0:4<$e?1:2<$e?2:3;if(ue[0]=Pe(Le.Ea,jt),Le.b=jt,He=Oe=ua($e,1,0,Se,Le.K)){var dt,Vt=$e,vt=Le,nr=1<<(8>>vt.b),On=i(nr);if(On==null)He=0;else{var Gt=vt.K[0],yt=vt.w;for(On[0]=vt.K[0][0],dt=1;dt<1*Vt;++dt)On[dt]=Ge(Gt[yt+dt],On[dt-1]);for(;dt<4*nr;++dt)On[dt]=0;vt.K[0]=null,vt.K[0]=On,He=1}}Oe=He;break;case 2:break;default:e(0)}K=Oe}}if(X=X[0],Q=Q[0],K&&de(re,1)&&!(K=1<=(_e=de(re,4))&&11>=_e)){D.a=3;break e}var Je;if(Je=K)t:{var fn,Wt,or,qr=D,ta=X,Pa=Q,nn=_e,pa=T,Ca=qr.m,kn=qr.s,ur=[null],wr=1,an=0,Nr=lB[nn];r:for(;;){if(pa&&de(Ca,1)){var ra=de(Ca,3)+2,ts=Pe(ta,ra),hn=Pe(Pa,ra),$a=ts*hn;if(!ua(ts,hn,0,qr,ur))break r;for(ur=ur[0],kn.xc=ra,fn=0;fn<$a;++fn){var Cr=ur[fn]>>8&65535;ur[fn]=Cr,Cr>=wr&&(wr=Cr+1)}}if(Ca.h)break r;for(Wt=0;5>Wt;++Wt){var Ln=r3[Wt];!Wt&&0<nn&&(Ln+=1<<nn),an<Ln&&(an=Ln)}var ni=s(wr*Nr,k),Ea=wr,ai=s(Ea,$);if(ai==null)var ii=null;else e(65536>=Ea),ii=ai;var qa=i(an);if(ii==null||qa==null||ni==null){qr.a=1;break r}var si=ni;for(fn=or=0;fn<wr;++fn){var Mr=ii[fn],oi=Mr.G,rs=Mr.H,pc=0,yo=1,na=0;for(Wt=0;5>Wt;++Wt){Ln=r3[Wt],oi[Wt]=si,rs[Wt]=or,!Wt&&0<nn&&(Ln+=1<<nn);a:{var Ip,Fv=Ln,Rp=qr,df=qa,EB=si,TB=or,Bv=0,ml=Rp.m,OB=de(ml,1);if(a(df,0,0,Fv),OB){var kB=de(ml,1)+1,LB=de(ml,1),f3=de(ml,LB==0?1:8);df[f3]=1,kB==2&&(df[f3=de(ml,8)]=1);var Mp=1}else{var h3=i(19),p3=de(ml,4)+4;if(19<p3){Rp.a=3;var Dp=0;break a}for(Ip=0;Ip<p3;++Ip)h3[sB[Ip]]=de(ml,3);var $v=void 0,ff=void 0,m3=Rp,IB=h3,Fp=Fv,g3=df,qv=0,gl=m3.m,v3=8,y3=s(128,k);n:for(;O(y3,0,7,IB,19);){if(de(gl,1)){var RB=2+2*de(gl,3);if(($v=2+de(gl,RB))>Fp)break n}else $v=Fp;for(ff=0;ff<Fp&&$v--;){ie(gl);var b3=y3[0+(127&Z(gl))];ne(gl,gl.u+b3.g);var hu=b3.value;if(16>hu)g3[ff++]=hu,hu!=0&&(v3=hu);else{var MB=hu==16,x3=hu-16,DB=aB[x3],w3=de(gl,nB[x3])+DB;if(ff+w3>Fp)break n;for(var FB=MB?v3:0;0<w3--;)g3[ff++]=FB}}qv=1;break n}qv||(m3.a=3),Mp=qv}(Mp=Mp&&!ml.h)&&(Bv=O(EB,TB,8,df,Fv)),Mp&&Bv!=0?Dp=Bv:(Rp.a=3,Dp=0)}if(Dp==0)break r;if(yo&&iB[Wt]==1&&(yo=si[or].g==0),pc+=si[or].g,or+=Dp,3>=Wt){var hf,zv=qa[0];for(hf=1;hf<Ln;++hf)qa[hf]>zv&&(zv=qa[hf]);na+=zv}}if(Mr.nd=yo,Mr.Qb=0,yo&&(Mr.qb=(oi[3][rs[3]+0].value<<24|oi[1][rs[1]+0].value<<16|oi[2][rs[2]+0].value)>>>0,pc==0&&256>oi[0][rs[0]+0].value&&(Mr.Qb=1,Mr.qb+=oi[0][rs[0]+0].value<<8)),Mr.jc=!Mr.Qb&&6>na,Mr.jc){var Bp,bo=Mr;for(Bp=0;Bp<dc;++Bp){var vl=Bp,yl=bo.pd[vl],$p=bo.G[0][bo.H[0]+vl];256<=$p.value?(yl.g=$p.g+256,yl.value=$p.value):(yl.g=0,yl.value=0,vl>>=kr($p,8,yl),vl>>=kr(bo.G[1][bo.H[1]+vl],16,yl),vl>>=kr(bo.G[2][bo.H[2]+vl],0,yl),kr(bo.G[3][bo.H[3]+vl],24,yl))}}}kn.vc=ur,kn.Wb=wr,kn.Ya=ii,kn.yc=ni,Je=1;break t}Je=0}if(!(K=Je)){D.a=3;break e}if(0<_e){if(ce.ua=1<<_e,!Y(ce.Wa,_e)){D.a=1,K=0;break e}}else ce.ua=0;var Uv=D,N3=X,BB=Q,Wv=Uv.s,Hv=Wv.xc;if(Uv.c=N3,Uv.i=BB,Wv.md=Pe(N3,Hv),Wv.wc=Hv==0?-1:(1<<Hv)-1,T){D.xb=gB;break e}if((ye=i(X*Q))==null){D.a=1,K=0;break e}K=(K=sr(D,ye,0,X,Q,Q,null))&&!re.h;break e}return K?(V!=null?V[0]=ye:(e(ye==null),e(T)),D.$=0,T||$n(ce)):$n(ce),K}function Ya(y,x){var T=y.c*y.i,D=T+x+16*x;return e(y.c<=x),y.V=i(D),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+T+x,1)}function Ra(y,x){var T=y.C,D=x-T,V=y.V,K=y.Ba+y.c*T;for(e(x<=y.l.o);0<D;){var X=16<D?16:D,Q=y.l.ma,re=y.l.width,ce=re*X,ye=Q.ca,_e=Q.tb+re*T,ue=y.Ta,be=y.Ua;Ia(y,X,V,K),KA(ue,be,ye,_e,ce),Kn(Q,T,T+X,ye,_e,re),D-=X,V+=X*y.c,T+=X}e(T==x),y.C=y.Ma=x}function Xr(){this.ub=this.yd=this.td=this.Rb=0}function Xa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qe(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Mt(){this.Yb=(function(){var y=[];return(function x(T,D,V){for(var K=V[D],X=0;X<K&&(T.push(V.length>D+1?[]:0),!(V.length<D+1));X++)x(T[X],D+1,V)})(y,0,[3,11]),y})()}function hr(){this.jb=i(3),this.Wc=o([4,8],Mt),this.Xc=o([4,17],Mt)}function $r(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function pr(){this.ld=this.La=this.dd=this.tc=0}function Pn(){this.Na=this.la=0}function Xn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Za(){this.uc=this.M=this.Nb=0,this.wa=Array(new pr),this.Y=0,this.ya=Array(new xn),this.aa=0,this.l=new Si}function Ts(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ni(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Xr,this.Kc=new Xa,this.ed=new $r,this.Qa=new Qe,this.Ic=this.$c=this.Aa=0,this.D=new Za,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,B),this.ia=0,this.pb=s(4,Xn),this.Pa=new hr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ts),this.Hd=0,this.rb=Array(new Pn),this.sb=0,this.wa=Array(new pr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xn),this.L=this.aa=0,this.gd=o([4,2],pr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qn(y,x){return 0>y?0:y>x?x:y}function Si(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Os(){var y=new Ni;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,cf||(cf=Yi)),y}function xr(y,x,T){return y.a==0&&(y.a=x,y.sc=T,y.cb=0),0}function Ai(y,x,T){return 3<=T&&y[x+0]==157&&y[x+1]==1&&y[x+2]==42}function zn(y,x){if(y==null)return 0;if(y.a=0,y.sc="OK",x==null)return xr(y,2,"null VP8Io passed to VP8GetHeaders()");var T=x.data,D=x.w,V=x.ha;if(4>V)return xr(y,7,"Truncated header.");var K=T[D+0]|T[D+1]<<8|T[D+2]<<16,X=y.Od;if(X.Rb=!(1&K),X.td=K>>1&7,X.yd=K>>4&1,X.ub=K>>5,3<X.td)return xr(y,3,"Incorrect keyframe parameters.");if(!X.yd)return xr(y,4,"Frame not displayable.");D+=3,V-=3;var Q=y.Kc;if(X.Rb){if(7>V)return xr(y,7,"cannot parse picture header");if(!Ai(T,D,V))return xr(y,3,"Bad code word");Q.c=16383&(T[D+4]<<8|T[D+3]),Q.Td=T[D+4]>>6,Q.i=16383&(T[D+6]<<8|T[D+5]),Q.Ud=T[D+6]>>6,D+=7,V-=7,y.za=Q.c+15>>4,y.Ub=Q.i+15>>4,x.width=Q.c,x.height=Q.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,a((K=y.Pa).jb,0,255,K.jb.length),e((K=y.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,a(K.Zb,0,0,K.Zb.length),a(K.Lb,0,0,K.Lb)}if(X.ub>V)return xr(y,7,"bad partition length");F(K=y.m,T,D,X.ub),D+=X.ub,V-=X.ub,X.Rb&&(Q.Ld=se(K),Q.Kd=se(K)),Q=y.Qa;var re,ce=y.Pa;if(e(K!=null),e(Q!=null),Q.Cb=se(K),Q.Cb){if(Q.Bb=se(K),se(K)){for(Q.Fb=se(K),re=0;4>re;++re)Q.Zb[re]=se(K)?W(K,7):0;for(re=0;4>re;++re)Q.Lb[re]=se(K)?W(K,6):0}if(Q.Bb)for(re=0;3>re;++re)ce.jb[re]=se(K)?z(K,8):255}else Q.Bb=0;if(K.Ka)return xr(y,3,"cannot parse segment header");if((Q=y.ed).zd=se(K),Q.Tb=z(K,6),Q.wb=z(K,3),Q.Pc=se(K),Q.Pc&&se(K)){for(ce=0;4>ce;++ce)se(K)&&(Q.vd[ce]=W(K,6));for(ce=0;4>ce;++ce)se(K)&&(Q.od[ce]=W(K,6))}if(y.L=Q.Tb==0?0:Q.zd?1:2,K.Ka)return xr(y,3,"cannot parse filter header");var ye=V;if(V=re=D,D=re+ye,Q=ye,y.Xb=(1<<z(y.m,2))-1,ye<3*(ce=y.Xb))T=7;else{for(re+=3*ce,Q-=3*ce,ye=0;ye<ce;++ye){var _e=T[V+0]|T[V+1]<<8|T[V+2]<<16;_e>Q&&(_e=Q),F(y.Jc[+ye],T,re,_e),re+=_e,Q-=_e,V+=3}F(y.Jc[+ce],T,re,Q),T=re<D?0:5}if(T!=0)return xr(y,T,"cannot parse partitions");for(T=z(re=y.m,7),V=se(re)?W(re,4):0,D=se(re)?W(re,4):0,Q=se(re)?W(re,4):0,ce=se(re)?W(re,4):0,re=se(re)?W(re,4):0,ye=y.Qa,_e=0;4>_e;++_e){if(ye.Cb){var ue=ye.Zb[_e];ye.Fb||(ue+=T)}else{if(0<_e){y.pb[_e]=y.pb[0];continue}ue=T}var be=y.pb[_e];be.Sc[0]=Rv[qn(ue+V,127)],be.Sc[1]=Mv[qn(ue+0,127)],be.Eb[0]=2*Rv[qn(ue+D,127)],be.Eb[1]=101581*Mv[qn(ue+Q,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=Rv[qn(ue+ce,117)],be.Qc[1]=Mv[qn(ue+re,127)],be.lc=ue+re}if(!X.Rb)return xr(y,4,"Not a key frame.");for(se(K),X=y.Pa,T=0;4>T;++T){for(V=0;8>V;++V)for(D=0;3>D;++D)for(Q=0;11>Q;++Q)ce=he(K,pB[T][V][D][Q])?z(K,8):fB[T][V][D][Q],X.Wc[T][V].Yb[D][Q]=ce;for(V=0;17>V;++V)X.Xc[T][V]=X.Wc[T][mB[V]]}return y.kc=se(K),y.kc&&(y.Bd=z(K,8)),y.cb=1}function Yi(y,x,T,D,V,K,X){var Q=x[V].Yb[T];for(T=0;16>V;++V){if(!he(y,Q[T+0]))return V;for(;!he(y,Q[T+1]);)if(Q=x[++V].Yb[0],T=0,V==16)return 16;var re=x[V+1].Yb;if(he(y,Q[T+2])){var ce=y,ye=0;if(he(ce,(ue=Q)[(_e=T)+3]))if(he(ce,ue[_e+6])){for(Q=0,_e=2*(ye=he(ce,ue[_e+8]))+(ue=he(ce,ue[_e+9+ye])),ye=0,ue=uB[_e];ue[Q];++Q)ye+=ye+he(ce,ue[Q]);ye+=3+(8<<_e)}else he(ce,ue[_e+7])?(ye=7+2*he(ce,165),ye+=he(ce,145)):ye=5+he(ce,159);else ye=he(ce,ue[_e+4])?3+he(ce,ue[_e+5]):2;Q=re[2]}else ye=1,Q=re[1];re=X+dB[V],0>(ce=y).b&&fe(ce);var _e,ue=ce.b,be=(_e=ce.Ca>>1)-(ce.I>>ue)>>31;--ce.b,ce.Ca+=be,ce.Ca|=1,ce.I-=(_e+1&be)<<ue,K[re]=((ye^be)-be)*D[(0<V)+0]}return 16}function oo(y){var x=y.rb[y.sb-1];x.la=0,x.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function da(y,x,T,D,V){V=y[x+T+32*D]+(V>>3),y[x+T+32*D]=-256&V?0>V?0:255:V}function Zr(y,x,T,D,V,K){da(y,x,0,T,D+V),da(y,x,1,T,D+K),da(y,x,2,T,D-K),da(y,x,3,T,D-V)}function Ja(y){return(20091*y>>16)+y}function Qo(y,x,T,D){var V,K=0,X=i(16);for(V=0;4>V;++V){var Q=y[x+0]+y[x+8],re=y[x+0]-y[x+8],ce=(35468*y[x+4]>>16)-Ja(y[x+12]),ye=Ja(y[x+4])+(35468*y[x+12]>>16);X[K+0]=Q+ye,X[K+1]=re+ce,X[K+2]=re-ce,X[K+3]=Q-ye,K+=4,x++}for(V=K=0;4>V;++V)Q=(y=X[K+0]+4)+X[K+8],re=y-X[K+8],ce=(35468*X[K+4]>>16)-Ja(X[K+12]),da(T,D,0,0,Q+(ye=Ja(X[K+4])+(35468*X[K+12]>>16))),da(T,D,1,0,re+ce),da(T,D,2,0,re-ce),da(T,D,3,0,Q-ye),K++,D+=32}function lo(y,x,T,D){var V=y[x+0]+4,K=35468*y[x+4]>>16,X=Ja(y[x+4]),Q=35468*y[x+1]>>16;Zr(T,D,0,V+X,y=Ja(y[x+1]),Q),Zr(T,D,1,V+K,y,Q),Zr(T,D,2,V-K,y,Q),Zr(T,D,3,V-X,y,Q)}function tc(y,x,T,D,V){Qo(y,x,T,D),V&&Qo(y,x+16,T,D+4)}function Ma(y,x,T,D){hc(y,x+0,T,D,1),hc(y,x+32,T,D+128,1)}function ji(y,x,T,D){var V;for(y=y[x+0]+4,V=0;4>V;++V)for(x=0;4>x;++x)da(T,D,x,V,y)}function fa(y,x,T,D){y[x+0]&&vr(y,x+0,T,D),y[x+16]&&vr(y,x+16,T,D+4),y[x+32]&&vr(y,x+32,T,D+128),y[x+48]&&vr(y,x+48,T,D+128+4)}function ha(y,x,T,D){var V,K=i(16);for(V=0;4>V;++V){var X=y[x+0+V]+y[x+12+V],Q=y[x+4+V]+y[x+8+V],re=y[x+4+V]-y[x+8+V],ce=y[x+0+V]-y[x+12+V];K[0+V]=X+Q,K[8+V]=X-Q,K[4+V]=ce+re,K[12+V]=ce-re}for(V=0;4>V;++V)X=(y=K[0+4*V]+3)+K[3+4*V],Q=K[1+4*V]+K[2+4*V],re=K[1+4*V]-K[2+4*V],ce=y-K[3+4*V],T[D+0]=X+Q>>3,T[D+16]=ce+re>>3,T[D+32]=X-Q>>3,T[D+48]=ce-re>>3,D+=64}function Zn(y,x,T){var D,V=x-32,K=ri,X=255-y[V-1];for(D=0;D<T;++D){var Q,re=K,ce=X+y[x-1];for(Q=0;Q<T;++Q)y[x+Q]=re[ce+y[V+Q]];x+=32}}function rc(y,x){Zn(y,x,4)}function Da(y,x){Zn(y,x,8)}function nc(y,x){Zn(y,x,16)}function co(y,x){var T;for(T=0;16>T;++T)n(y,x+32*T,y,x-32,16)}function el(y,x){var T;for(T=16;0<T;--T)a(y,x,y[x-1],16),x+=32}function Aa(y,x,T){var D;for(D=0;16>D;++D)a(x,T+32*D,y,16)}function tl(y,x){var T,D=16;for(T=0;16>T;++T)D+=y[x-1+32*T]+y[x+T-32];Aa(D>>5,y,x)}function Jr(y,x){var T,D=8;for(T=0;16>T;++T)D+=y[x-1+32*T];Aa(D>>4,y,x)}function ks(y,x){var T,D=8;for(T=0;16>T;++T)D+=y[x+T-32];Aa(D>>4,y,x)}function rl(y,x){Aa(128,y,x)}function Ot(y,x,T){return y+2*x+T+2>>2}function uo(y,x){var T,D=x-32;for(D=new Uint8Array([Ot(y[D-1],y[D+0],y[D+1]),Ot(y[D+0],y[D+1],y[D+2]),Ot(y[D+1],y[D+2],y[D+3]),Ot(y[D+2],y[D+3],y[D+4])]),T=0;4>T;++T)n(y,x+32*T,D,0,D.length)}function Ls(y,x){var T=y[x-1],D=y[x-1+32],V=y[x-1+64],K=y[x-1+96];oe(y,x+0,16843009*Ot(y[x-1-32],T,D)),oe(y,x+32,16843009*Ot(T,D,V)),oe(y,x+64,16843009*Ot(D,V,K)),oe(y,x+96,16843009*Ot(V,K,K))}function ac(y,x){var T,D=4;for(T=0;4>T;++T)D+=y[x+T-32]+y[x-1+32*T];for(D>>=3,T=0;4>T;++T)a(y,x+32*T,D,4)}function Fa(y,x){var T=y[x-1+0],D=y[x-1+32],V=y[x-1+64],K=y[x-1-32],X=y[x+0-32],Q=y[x+1-32],re=y[x+2-32],ce=y[x+3-32];y[x+0+96]=Ot(D,V,y[x-1+96]),y[x+1+96]=y[x+0+64]=Ot(T,D,V),y[x+2+96]=y[x+1+64]=y[x+0+32]=Ot(K,T,D),y[x+3+96]=y[x+2+64]=y[x+1+32]=y[x+0+0]=Ot(X,K,T),y[x+3+64]=y[x+2+32]=y[x+1+0]=Ot(Q,X,K),y[x+3+32]=y[x+2+0]=Ot(re,Q,X),y[x+3+0]=Ot(ce,re,Q)}function ja(y,x){var T=y[x+1-32],D=y[x+2-32],V=y[x+3-32],K=y[x+4-32],X=y[x+5-32],Q=y[x+6-32],re=y[x+7-32];y[x+0+0]=Ot(y[x+0-32],T,D),y[x+1+0]=y[x+0+32]=Ot(T,D,V),y[x+2+0]=y[x+1+32]=y[x+0+64]=Ot(D,V,K),y[x+3+0]=y[x+2+32]=y[x+1+64]=y[x+0+96]=Ot(V,K,X),y[x+3+32]=y[x+2+64]=y[x+1+96]=Ot(K,X,Q),y[x+3+64]=y[x+2+96]=Ot(X,Q,re),y[x+3+96]=Ot(Q,re,re)}function nl(y,x){var T=y[x-1+0],D=y[x-1+32],V=y[x-1+64],K=y[x-1-32],X=y[x+0-32],Q=y[x+1-32],re=y[x+2-32],ce=y[x+3-32];y[x+0+0]=y[x+1+64]=K+X+1>>1,y[x+1+0]=y[x+2+64]=X+Q+1>>1,y[x+2+0]=y[x+3+64]=Q+re+1>>1,y[x+3+0]=re+ce+1>>1,y[x+0+96]=Ot(V,D,T),y[x+0+64]=Ot(D,T,K),y[x+0+32]=y[x+1+96]=Ot(T,K,X),y[x+1+32]=y[x+2+96]=Ot(K,X,Q),y[x+2+32]=y[x+3+96]=Ot(X,Q,re),y[x+3+32]=Ot(Q,re,ce)}function Ba(y,x){var T=y[x+0-32],D=y[x+1-32],V=y[x+2-32],K=y[x+3-32],X=y[x+4-32],Q=y[x+5-32],re=y[x+6-32],ce=y[x+7-32];y[x+0+0]=T+D+1>>1,y[x+1+0]=y[x+0+64]=D+V+1>>1,y[x+2+0]=y[x+1+64]=V+K+1>>1,y[x+3+0]=y[x+2+64]=K+X+1>>1,y[x+0+32]=Ot(T,D,V),y[x+1+32]=y[x+0+96]=Ot(D,V,K),y[x+2+32]=y[x+1+96]=Ot(V,K,X),y[x+3+32]=y[x+2+96]=Ot(K,X,Q),y[x+3+64]=Ot(X,Q,re),y[x+3+96]=Ot(Q,re,ce)}function Xi(y,x){var T=y[x-1+0],D=y[x-1+32],V=y[x-1+64],K=y[x-1+96];y[x+0+0]=T+D+1>>1,y[x+2+0]=y[x+0+32]=D+V+1>>1,y[x+2+32]=y[x+0+64]=V+K+1>>1,y[x+1+0]=Ot(T,D,V),y[x+3+0]=y[x+1+32]=Ot(D,V,K),y[x+3+32]=y[x+1+64]=Ot(V,K,K),y[x+3+64]=y[x+2+64]=y[x+0+96]=y[x+1+96]=y[x+2+96]=y[x+3+96]=K}function Zi(y,x){var T=y[x-1+0],D=y[x-1+32],V=y[x-1+64],K=y[x-1+96],X=y[x-1-32],Q=y[x+0-32],re=y[x+1-32],ce=y[x+2-32];y[x+0+0]=y[x+2+32]=T+X+1>>1,y[x+0+32]=y[x+2+64]=D+T+1>>1,y[x+0+64]=y[x+2+96]=V+D+1>>1,y[x+0+96]=K+V+1>>1,y[x+3+0]=Ot(Q,re,ce),y[x+2+0]=Ot(X,Q,re),y[x+1+0]=y[x+3+32]=Ot(T,X,Q),y[x+1+32]=y[x+3+64]=Ot(D,T,X),y[x+1+64]=y[x+3+96]=Ot(V,D,T),y[x+1+96]=Ot(K,V,D)}function Ji(y,x){var T;for(T=0;8>T;++T)n(y,x+32*T,y,x-32,8)}function ic(y,x){var T;for(T=0;8>T;++T)a(y,x,y[x-1],8),x+=32}function I(y,x,T){var D;for(D=0;8>D;++D)a(x,T+32*D,y,8)}function J(y,x){var T,D=8;for(T=0;8>T;++T)D+=y[x+T-32]+y[x-1+32*T];I(D>>4,y,x)}function pe(y,x){var T,D=4;for(T=0;8>T;++T)D+=y[x+T-32];I(D>>3,y,x)}function Ee(y,x){var T,D=4;for(T=0;8>T;++T)D+=y[x-1+32*T];I(D>>3,y,x)}function It(y,x){I(128,y,x)}function lt(y,x,T){var D=y[x-T],V=y[x+0],K=3*(V-D)+Tv[1020+y[x-2*T]-y[x+T]],X=jp[112+(K+4>>3)];y[x-T]=ri[255+D+jp[112+(K+3>>3)]],y[x+0]=ri[255+V-X]}function Qt(y,x,T,D){var V=y[x+0],K=y[x+T];return Ei[255+y[x-2*T]-y[x-T]]>D||Ei[255+K-V]>D}function Zt(y,x,T,D){return 4*Ei[255+y[x-T]-y[x+0]]+Ei[255+y[x-2*T]-y[x+T]]<=D}function Lr(y,x,T,D,V){var K=y[x-3*T],X=y[x-2*T],Q=y[x-T],re=y[x+0],ce=y[x+T],ye=y[x+2*T],_e=y[x+3*T];return 4*Ei[255+Q-re]+Ei[255+X-ce]>D?0:Ei[255+y[x-4*T]-K]<=V&&Ei[255+K-X]<=V&&Ei[255+X-Q]<=V&&Ei[255+_e-ye]<=V&&Ei[255+ye-ce]<=V&&Ei[255+ce-re]<=V}function er(y,x,T,D){var V=2*D+1;for(D=0;16>D;++D)Zt(y,x+D,T,V)&&lt(y,x+D,T)}function rn(y,x,T,D){var V=2*D+1;for(D=0;16>D;++D)Zt(y,x+D*T,1,V)&&lt(y,x+D*T,1)}function Cn(y,x,T,D){var V;for(V=3;0<V;--V)er(y,x+=4*T,T,D)}function Vr(y,x,T,D){var V;for(V=3;0<V;--V)rn(y,x+=4,T,D)}function Ir(y,x,T,D,V,K,X,Q){for(K=2*K+1;0<V--;){if(Lr(y,x,T,K,X))if(Qt(y,x,T,Q))lt(y,x,T);else{var re=y,ce=x,ye=T,_e=re[ce-2*ye],ue=re[ce-ye],be=re[ce+0],Se=re[ce+ye],Oe=re[ce+2*ye],je=27*(Re=Tv[1020+3*(be-ue)+Tv[1020+_e-Se]])+63>>7,Le=18*Re+63>>7,Re=9*Re+63>>7;re[ce-3*ye]=ri[255+re[ce-3*ye]+Re],re[ce-2*ye]=ri[255+_e+Le],re[ce-ye]=ri[255+ue+je],re[ce+0]=ri[255+be-je],re[ce+ye]=ri[255+Se-Le],re[ce+2*ye]=ri[255+Oe-Re]}x+=D}}function _r(y,x,T,D,V,K,X,Q){for(K=2*K+1;0<V--;){if(Lr(y,x,T,K,X))if(Qt(y,x,T,Q))lt(y,x,T);else{var re=y,ce=x,ye=T,_e=re[ce-ye],ue=re[ce+0],be=re[ce+ye],Se=jp[112+(4+(Oe=3*(ue-_e))>>3)],Oe=jp[112+(Oe+3>>3)],je=Se+1>>1;re[ce-2*ye]=ri[255+re[ce-2*ye]+je],re[ce-ye]=ri[255+_e+Oe],re[ce+0]=ri[255+ue-Se],re[ce+ye]=ri[255+be-je]}x+=D}}function Qa(y,x,T,D,V,K){Ir(y,x,T,1,16,D,V,K)}function Jn(y,x,T,D,V,K){Ir(y,x,1,T,16,D,V,K)}function _i(y,x,T,D,V,K){var X;for(X=3;0<X;--X)_r(y,x+=4*T,T,1,16,D,V,K)}function P(y,x,T,D,V,K){var X;for(X=3;0<X;--X)_r(y,x+=4,1,T,16,D,V,K)}function H(y,x,T,D,V,K,X,Q){Ir(y,x,V,1,8,K,X,Q),Ir(T,D,V,1,8,K,X,Q)}function le(y,x,T,D,V,K,X,Q){Ir(y,x,1,V,8,K,X,Q),Ir(T,D,1,V,8,K,X,Q)}function me(y,x,T,D,V,K,X,Q){_r(y,x+4*V,V,1,8,K,X,Q),_r(T,D+4*V,V,1,8,K,X,Q)}function Ne(y,x,T,D,V,K,X,Q){_r(y,x+4,1,V,8,K,X,Q),_r(T,D+4,1,V,8,K,X,Q)}function Ie(){this.ba=new _t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Be(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function At(){this.ua=0,this.Wa=new De,this.vb=new De,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new k}function Bt(){this.xb=this.a=0,this.l=new Si,this.ca=new _t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new At,this.ab=0,this.gc=s(4,ht),this.Oc=0}function Ht(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Si,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cr(y,x,T,D,V,K,X){for(y=y==null?0:y[x+0],x=0;x<X;++x)V[K+x]=y+T[D+x]&255,y=V[K+x]}function Qr(y,x,T,D,V,K,X){var Q;if(y==null)cr(null,null,T,D,V,K,X);else for(Q=0;Q<X;++Q)V[K+Q]=y[x+Q]+T[D+Q]&255}function wn(y,x,T,D,V,K,X){if(y==null)cr(null,null,T,D,V,K,X);else{var Q,re=y[x+0],ce=re,ye=re;for(Q=0;Q<X;++Q)ce=ye+(re=y[x+Q])-ce,ye=T[D+Q]+(-256&ce?0>ce?0:255:ce)&255,ce=re,V[K+Q]=ye}}function Rr(y,x,T,D){var V=x.width,K=x.o;if(e(y!=null&&x!=null),0>T||0>=D||T+D>K)return null;if(!y.Cc){if(y.ga==null){var X;if(y.ga=new Ht,(X=y.ga==null)||(X=x.width*x.o,e(y.Gb.length==0),y.Gb=i(X),y.Uc=0,y.Gb==null?X=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,X=1),X=!X),!X){X=y.ga;var Q=y.Fa,re=y.P,ce=y.qc,ye=y.mb,_e=y.nb,ue=re+1,be=ce-1,Se=X.l;if(e(Q!=null&&ye!=null&&x!=null),pl[0]=null,pl[1]=cr,pl[2]=Qr,pl[3]=wn,X.ca=ye,X.tb=_e,X.c=x.width,X.i=x.height,e(0<X.c&&0<X.i),1>=ce)x=0;else if(X.$a=3&Q[re+0],X.Z=Q[re+0]>>2&3,X.Lc=Q[re+0]>>4&3,re=Q[re+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||re)x=0;else if(Se.put=gt,Se.ac=Or,Se.bc=Yr,Se.ma=X,Se.width=x.width,Se.height=x.height,Se.Da=x.Da,Se.v=x.v,Se.va=x.va,Se.j=x.j,Se.o=x.o,X.$a)e:{e(X.$a==1),x=Ka();t:for(;;){if(x==null){x=0;break e}if(e(X!=null),X.mc=x,x.c=X.c,x.i=X.i,x.l=X.l,x.l.ma=X,x.l.width=X.c,x.l.height=X.i,x.a=0,q(x.m,Q,ue,be),!ua(X.c,X.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&bn(x.s)?(X.ic=1,Q=x.c*x.i,x.Ta=null,x.Ua=0,x.V=i(Q),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(X.ic=0,x=Ya(x,X.c)),!x))break t;x=1;break e}X.mc=null,x=0}else x=be>=X.c*X.i;X=!x}if(X)return null;y.ga.Lc!=1?y.Ga=0:D=K-T}e(y.ga!=null),e(T+D<=K);e:{if(x=(Q=y.ga).c,K=Q.l.o,Q.$a==0){if(ue=y.rc,be=y.Vc,Se=y.Fa,re=y.P+1+T*x,ce=y.mb,ye=y.nb+T*x,e(re<=y.P+y.qc),Q.Z!=0)for(e(pl[Q.Z]!=null),X=0;X<D;++X)pl[Q.Z](ue,be,Se,re,ce,ye,x),ue=ce,be=ye,ye+=x,re+=x;else for(X=0;X<D;++X)n(ce,ye,Se,re,x),ue=ce,be=ye,ye+=x,re+=x;y.rc=ue,y.Vc=be}else{if(e(Q.mc!=null),x=T+D,e((X=Q.mc)!=null),e(x<=X.i),X.C>=x)x=1;else if(Q.ic||Qi(),Q.ic){Q=X.V,ue=X.Ba,be=X.c;var Oe=X.i,je=(Se=1,re=X.$/be,ce=X.$%be,ye=X.m,_e=X.s,X.$),Le=be*Oe,Re=be*x,He=_e.wc,$e=je<Re?Rt(_e,ce,re):null;e(je<=Le),e(x<=Oe),e(bn(_e));t:for(;;){for(;!ye.h&&je<Re;){if(ce&He||($e=Rt(_e,ce,re)),e($e!=null),ie(ye),256>(Oe=gr($e.G[0],$e.H[0],ye)))Q[ue+je]=Oe,++je,++ce>=be&&(ce=0,++re<=x&&!(re%16)&&Yn(X,re));else{if(!(280>Oe)){Se=0;break t}Oe=yn(Oe-256,ye);var jt,dt=gr($e.G[4],$e.H[4],ye);if(ie(ye),!(je>=(dt=cn(be,dt=yn(dt,ye)))&&Le-je>=Oe)){Se=0;break t}for(jt=0;jt<Oe;++jt)Q[ue+je+jt]=Q[ue+je+jt-dt];for(je+=Oe,ce+=Oe;ce>=be;)ce-=be,++re<=x&&!(re%16)&&Yn(X,re);je<Re&&ce&He&&($e=Rt(_e,ce,re))}e(ye.h==te(ye))}Yn(X,re>x?x:re);break t}!Se||ye.h&&je<Le?(Se=0,X.a=ye.h?5:3):X.$=je,x=Se}else x=sr(X,X.V,X.Ba,X.c,X.i,x,Ra);if(!x){D=0;break e}}T+D>=K&&(y.Cc=1),D=1}if(!D)return null;if(y.Cc&&((D=y.ga)!=null&&(D.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+T*V}function En(y,x,T,D,V,K){for(;0<V--;){var X,Q=y,re=x+(T?1:0),ce=y,ye=x+(T?0:3);for(X=0;X<D;++X){var _e=ce[ye+4*X];_e!=255&&(_e*=32897,Q[re+4*X+0]=Q[re+4*X+0]*_e>>23,Q[re+4*X+1]=Q[re+4*X+1]*_e>>23,Q[re+4*X+2]=Q[re+4*X+2]*_e>>23)}x+=K}}function Nn(y,x,T,D,V){for(;0<D--;){var K;for(K=0;K<T;++K){var X=y[x+2*K+0],Q=15&(ce=y[x+2*K+1]),re=4369*Q,ce=(240&ce|ce>>4)*re>>16;y[x+2*K+0]=(240&X|X>>4)*re>>16&240|(15&X|X<<4)*re>>16>>4&15,y[x+2*K+1]=240&ce|Q}x+=V}}function Qn(y,x,T,D,V,K,X,Q){var re,ce,ye=255;for(ce=0;ce<V;++ce){for(re=0;re<D;++re){var _e=y[x+re];K[X+4*re]=_e,ye&=_e}x+=T,X+=Q}return ye!=255}function fo(y,x,T,D,V){var K;for(K=0;K<V;++K)T[D+K]=y[x+K]>>8}function Qi(){lf=En,VA=Nn,GA=Qn,KA=fo}function ho(y,x,T){L[y]=function(D,V,K,X,Q,re,ce,ye,_e,ue,be,Se,Oe,je,Le,Re,He){var $e,jt=He-1>>1,dt=Q[re+0]|ce[ye+0]<<16,Vt=_e[ue+0]|be[Se+0]<<16;e(D!=null);var vt=3*dt+Vt+131074>>2;for(x(D[V+0],255&vt,vt>>16,Oe,je),K!=null&&(vt=3*Vt+dt+131074>>2,x(K[X+0],255&vt,vt>>16,Le,Re)),$e=1;$e<=jt;++$e){var nr=Q[re+$e]|ce[ye+$e]<<16,On=_e[ue+$e]|be[Se+$e]<<16,Gt=dt+nr+Vt+On+524296,yt=Gt+2*(nr+Vt)>>3;vt=yt+dt>>1,dt=(Gt=Gt+2*(dt+On)>>3)+nr>>1,x(D[V+2*$e-1],255&vt,vt>>16,Oe,je+(2*$e-1)*T),x(D[V+2*$e-0],255&dt,dt>>16,Oe,je+(2*$e-0)*T),K!=null&&(vt=Gt+Vt>>1,dt=yt+On>>1,x(K[X+2*$e-1],255&vt,vt>>16,Le,Re+(2*$e-1)*T),x(K[X+2*$e+0],255&dt,dt>>16,Le,Re+(2*$e+0)*T)),dt=nr,Vt=On}1&He||(vt=3*dt+Vt+131074>>2,x(D[V+He-1],255&vt,vt>>16,Oe,je+(He-1)*T),K!=null&&(vt=3*Vt+dt+131074>>2,x(K[X+He-1],255&vt,vt>>16,Le,Re+(He-1)*T)))}}function Xd(){Ti[_p]=vB,Ti[Pp]=i3,Ti[e3]=yB,Ti[Cp]=s3,Ti[Ep]=o3,Ti[Ov]=l3,Ti[t3]=bB,Ti[kv]=i3,Ti[Lv]=s3,Ti[Tp]=o3,Ti[Iv]=l3}function cu(y){return y&-16384?0>y?0:255:y>>xB}function al(y,x){return cu((19077*y>>8)+(26149*x>>8)-14234)}function sc(y,x,T){return cu((19077*y>>8)-(6419*x>>8)-(13320*T>>8)+8708)}function oc(y,x){return cu((19077*y>>8)+(33050*x>>8)-17685)}function il(y,x,T,D,V){D[V+0]=al(y,T),D[V+1]=sc(y,x,T),D[V+2]=oc(y,x)}function ea(y,x,T,D,V){D[V+0]=oc(y,x),D[V+1]=sc(y,x,T),D[V+2]=al(y,T)}function lc(y,x,T,D,V){var K=sc(y,x,T);x=K<<3&224|oc(y,x)>>3,D[V+0]=248&al(y,T)|K>>5,D[V+1]=x}function cc(y,x,T,D,V){var K=240&oc(y,x)|15;D[V+0]=240&al(y,T)|sc(y,x,T)>>4,D[V+1]=K}function Zd(y,x,T,D,V){D[V+0]=255,il(y,x,T,D,V+1)}function Jd(y,x,T,D,V){ea(y,x,T,D,V),D[V+3]=255}function _a(y,x,T,D,V){il(y,x,T,D,V),D[V+3]=255}function po(y,x,T){L[y]=function(D,V,K,X,Q,re,ce,ye,_e){for(var ue=ye+(-2&_e)*T;ye!=ue;)x(D[V+0],K[X+0],Q[re+0],ce,ye),x(D[V+1],K[X+0],Q[re+0],ce,ye+T),V+=2,++X,++re,ye+=2*T;1&_e&&x(D[V+0],K[X+0],Q[re+0],ce,ye)}}function uu(y,x,T){return T==0?y==0?x==0?6:5:x==0?4:0:T}function Np(y,x,T,D,V){switch(y>>>30){case 3:hc(x,T,D,V,0);break;case 2:Ci(x,T,D,V);break;case 1:vr(x,T,D,V)}}function Pi(y,x){var T,D,V=x.M,K=x.Nb,X=y.oc,Q=y.pc+40,re=y.oc,ce=y.pc+584,ye=y.oc,_e=y.pc+600;for(T=0;16>T;++T)X[Q+32*T-1]=129;for(T=0;8>T;++T)re[ce+32*T-1]=129,ye[_e+32*T-1]=129;for(0<V?X[Q-1-32]=re[ce-1-32]=ye[_e-1-32]=129:(a(X,Q-32-1,127,21),a(re,ce-32-1,127,9),a(ye,_e-32-1,127,9)),D=0;D<y.za;++D){var ue=x.ya[x.aa+D];if(0<D){for(T=-1;16>T;++T)n(X,Q+32*T-4,X,Q+32*T+12,4);for(T=-1;8>T;++T)n(re,ce+32*T-4,re,ce+32*T+4,4),n(ye,_e+32*T-4,ye,_e+32*T+4,4)}var be=y.Gd,Se=y.Hd+D,Oe=ue.ad,je=ue.Hc;if(0<V&&(n(X,Q-32,be[Se].y,0,16),n(re,ce-32,be[Se].f,0,8),n(ye,_e-32,be[Se].ea,0,8)),ue.Za){var Le=X,Re=Q-32+16;for(0<V&&(D>=y.za-1?a(Le,Re,be[Se].y[15],4):n(Le,Re,be[Se+1].y,0,4)),T=0;4>T;T++)Le[Re+128+T]=Le[Re+256+T]=Le[Re+384+T]=Le[Re+0+T];for(T=0;16>T;++T,je<<=2)Le=X,Re=Q+u3[T],es[ue.Ob[T]](Le,Re),Np(je,Oe,16*+T,Le,Re)}else if(Le=uu(D,V,ue.Ob[0]),hl[Le](X,Q),je!=0)for(T=0;16>T;++T,je<<=2)Np(je,Oe,16*+T,X,Q+u3[T]);for(T=ue.Gc,Le=uu(D,V,ue.Dd),vo[Le](re,ce),vo[Le](ye,_e),je=Oe,Le=re,Re=ce,255&(ue=0|T)&&(170&ue?Ms(je,256,Le,Re):Pr(je,256,Le,Re)),ue=ye,je=_e,255&(T>>=8)&&(170&T?Ms(Oe,320,ue,je):Pr(Oe,320,ue,je)),V<y.Ub-1&&(n(be[Se].y,0,X,Q+480,16),n(be[Se].f,0,re,ce+224,8),n(be[Se].ea,0,ye,_e+224,8)),T=8*K*y.B,be=y.sa,Se=y.ta+16*D+16*K*y.R,Oe=y.qa,ue=y.ra+8*D+T,je=y.Ha,Le=y.Ia+8*D+T,T=0;16>T;++T)n(be,Se+T*y.R,X,Q+32*T,16);for(T=0;8>T;++T)n(Oe,ue+T*y.B,re,ce+32*T,8),n(je,Le+T*y.B,ye,_e+32*T,8)}}function uc(y,x,T,D,V,K,X,Q,re){var ce=[0],ye=[0],_e=0,ue=re!=null?re.kd:0,be=re??new Be;if(y==null||12>T)return 7;be.data=y,be.w=x,be.ha=T,x=[x],T=[T],be.gb=[be.gb];e:{var Se=x,Oe=T,je=be.gb;if(e(y!=null),e(Oe!=null),e(je!=null),je[0]=0,12<=Oe[0]&&!r(y,Se[0],"RIFF")){if(r(y,Se[0]+8,"WEBP")){je=3;break e}var Le=we(y,Se[0]+4);if(12>Le||4294967286<Le){je=3;break e}if(ue&&Le>Oe[0]-8){je=7;break e}je[0]=Le,Se[0]+=12,Oe[0]-=12}je=0}if(je!=0)return je;for(Le=0<be.gb[0],T=T[0];;){e:{var Re=y;Oe=x,je=T;var He=ce,$e=ye,jt=Se=[0];if((vt=_e=[_e])[0]=0,8>je[0])je=7;else{if(!r(Re,Oe[0],"VP8X")){if(we(Re,Oe[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var dt=we(Re,Oe[0]+8),Vt=1+xe(Re,Oe[0]+12);if(2147483648<=Vt*(Re=1+xe(Re,Oe[0]+15))){je=3;break e}jt!=null&&(jt[0]=dt),He!=null&&(He[0]=Vt),$e!=null&&($e[0]=Re),Oe[0]+=18,je[0]-=18,vt[0]=1}je=0}}if(_e=_e[0],Se=Se[0],je!=0)return je;if(Oe=!!(2&Se),!Le&&_e)return 3;if(K!=null&&(K[0]=!!(16&Se)),X!=null&&(X[0]=Oe),Q!=null&&(Q[0]=0),X=ce[0],Se=ye[0],_e&&Oe&&re==null){je=0;break}if(4>T){je=7;break}if(Le&&_e||!Le&&!_e&&!r(y,x[0],"ALPH")){T=[T],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{dt=y,je=x,Le=T;var vt=be.gb;He=be.na,$e=be.P,jt=be.Sa,Vt=22,e(dt!=null),e(Le!=null),Re=je[0];var nr=Le[0];for(e(He!=null),e(jt!=null),He[0]=null,$e[0]=null,jt[0]=0;;){if(je[0]=Re,Le[0]=nr,8>nr){je=7;break e}var On=we(dt,Re+4);if(4294967286<On){je=3;break e}var Gt=8+On+1&-2;if(Vt+=Gt,0<vt&&Vt>vt){je=3;break e}if(!r(dt,Re,"VP8 ")||!r(dt,Re,"VP8L")){je=0;break e}if(nr[0]<Gt){je=7;break e}r(dt,Re,"ALPH")||(He[0]=dt,$e[0]=Re+8,jt[0]=On),Re+=Gt,nr-=Gt}}if(T=T[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],je!=0)break}T=[T],be.Ja=[be.Ja],be.xa=[be.xa];e:if(vt=y,je=x,Le=T,He=be.gb[0],$e=be.Ja,jt=be.xa,dt=je[0],Re=!r(vt,dt,"VP8 "),Vt=!r(vt,dt,"VP8L"),e(vt!=null),e(Le!=null),e($e!=null),e(jt!=null),8>Le[0])je=7;else{if(Re||Vt){if(vt=we(vt,dt+4),12<=He&&vt>He-12){je=3;break e}if(ue&&vt>Le[0]-8){je=7;break e}$e[0]=vt,je[0]+=8,Le[0]-=8,jt[0]=Vt}else jt[0]=5<=Le[0]&&vt[dt+0]==47&&!(vt[dt+4]>>5),$e[0]=Le[0];je=0}if(T=T[0],be.Ja=be.Ja[0],be.xa=be.xa[0],x=x[0],je!=0)break;if(4294967286<be.Ja)return 3;if(Q==null||Oe||(Q[0]=be.xa?2:1),X=[X],Se=[Se],be.xa){if(5>T){je=7;break}Q=X,ue=Se,Oe=K,y==null||5>T?y=0:5<=T&&y[x+0]==47&&!(y[x+4]>>5)?(Le=[0],vt=[0],He=[0],q($e=new G,y,x,T),_n($e,Le,vt,He)?(Q!=null&&(Q[0]=Le[0]),ue!=null&&(ue[0]=vt[0]),Oe!=null&&(Oe[0]=He[0]),y=1):y=0):y=0}else{if(10>T){je=7;break}Q=Se,y==null||10>T||!Ai(y,x+3,T-3)?y=0:(ue=y[x+0]|y[x+1]<<8|y[x+2]<<16,Oe=16383&(y[x+7]<<8|y[x+6]),y=16383&(y[x+9]<<8|y[x+8]),1&ue||3<(ue>>1&7)||!(ue>>4&1)||ue>>5>=be.Ja||!Oe||!y?y=0:(X&&(X[0]=Oe),Q&&(Q[0]=y),y=1))}if(!y||(X=X[0],Se=Se[0],_e&&(ce[0]!=X||ye[0]!=Se)))return 3;re!=null&&(re[0]=be,re.offset=x-re.w,e(4294967286>x-re.w),e(re.offset==re.ha-T));break}return je==0||je==7&&_e&&re==null?(K!=null&&(K[0]|=be.na!=null&&0<be.na.length),D!=null&&(D[0]=X),V!=null&&(V[0]=Se),0):je}function Qd(y,x,T){var D=x.width,V=x.height,K=0,X=0,Q=D,re=V;if(x.Da=y!=null&&0<y.Da,x.Da&&(Q=y.cd,re=y.bd,K=y.v,X=y.j,11>T||(K&=-2,X&=-2),0>K||0>X||0>=Q||0>=re||K+Q>D||X+re>V))return 0;if(x.v=K,x.j=X,x.va=K+Q,x.o=X+re,x.U=Q,x.T=re,x.da=y!=null&&0<y.da,x.da){if(!Fe(Q,re,T=[y.ib],K=[y.hb]))return 0;x.ib=T[0],x.hb=K[0]}return x.ob=y!=null&&y.ob,x.Kb=y==null||!y.Sd,x.da&&(x.ob=x.ib<3*D/4&&x.hb<3*V/4,x.Kb=0),1}function ef(y){if(y==null)return 2;if(11>y.S){var x=y.f.RGBA;x.fb+=(y.height-1)*x.A,x.A=-x.A}else x=y.f.kb,y=y.height,x.O+=(y-1)*x.fa,x.fa=-x.fa,x.N+=(y-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(y-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(y-1)*x.lb,x.lb=-x.lb);return 0}function sl(y,x,T,D){if(D==null||0>=y||0>=x)return 2;if(T!=null){if(T.Da){var V=T.cd,K=T.bd,X=-2&T.v,Q=-2&T.j;if(0>X||0>Q||0>=V||0>=K||X+V>y||Q+K>x)return 2;y=V,x=K}if(T.da){if(!Fe(y,x,V=[T.ib],K=[T.hb]))return 2;y=V[0],x=K[0]}}D.width=y,D.height=x;e:{var re=D.width,ce=D.height;if(y=D.S,0>=re||0>=ce||!(y>=_p&&13>y))y=2;else{if(0>=D.Rd&&D.sd==null){X=K=V=x=0;var ye=(Q=re*d3[y])*ce;if(11>y||(K=(ce+1)/2*(x=(re+1)/2),y==12&&(X=(V=re)*ce)),(ce=i(ye+2*K+X))==null){y=1;break e}D.sd=ce,11>y?((re=D.f.RGBA).eb=ce,re.fb=0,re.A=Q,re.size=ye):((re=D.f.kb).y=ce,re.O=0,re.fa=Q,re.Fd=ye,re.f=ce,re.N=0+ye,re.Ab=x,re.Cd=K,re.ea=ce,re.W=0+ye+K,re.Db=x,re.Ed=K,y==12&&(re.F=ce,re.J=0+ye+2*K),re.Tc=X,re.lb=V)}if(x=1,V=D.S,K=D.width,X=D.height,V>=_p&&13>V)if(11>V)y=D.f.RGBA,x&=(Q=Math.abs(y.A))*(X-1)+K<=y.size,x&=Q>=K*d3[V],x&=y.eb!=null;else{y=D.f.kb,Q=(K+1)/2,ye=(X+1)/2,re=Math.abs(y.fa),ce=Math.abs(y.Ab);var _e=Math.abs(y.Db),ue=Math.abs(y.lb),be=ue*(X-1)+K;x&=re*(X-1)+K<=y.Fd,x&=ce*(ye-1)+Q<=y.Cd,x=(x&=_e*(ye-1)+Q<=y.Ed)&re>=K&ce>=Q&_e>=Q,x&=y.y!=null,x&=y.f!=null,x&=y.ea!=null,V==12&&(x&=ue>=K,x&=be<=y.Tc,x&=y.F!=null)}else x=0;y=x?0:2}}return y!=0||T!=null&&T.fd&&(y=ef(D)),y}var dc=64,ei=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ti=24,ol=32,mo=8,ll=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(y){return y},L.Predictor2=function(y,x,T){return x[T+0]},L.Predictor3=function(y,x,T){return x[T+1]},L.Predictor4=function(y,x,T){return x[T-1]},L.Predictor5=function(y,x,T){return Ue(Ue(y,x[T+1]),x[T+0])},L.Predictor6=function(y,x,T){return Ue(y,x[T-1])},L.Predictor7=function(y,x,T){return Ue(y,x[T+0])},L.Predictor8=function(y,x,T){return Ue(x[T-1],x[T+0])},L.Predictor9=function(y,x,T){return Ue(x[T+0],x[T+1])},L.Predictor10=function(y,x,T){return Ue(Ue(y,x[T-1]),Ue(x[T+0],x[T+1]))},L.Predictor11=function(y,x,T){var D=x[T+0];return 0>=wt(D>>24&255,y>>24&255,(x=x[T-1])>>24&255)+wt(D>>16&255,y>>16&255,x>>16&255)+wt(D>>8&255,y>>8&255,x>>8&255)+wt(255&D,255&y,255&x)?D:y},L.Predictor12=function(y,x,T){var D=x[T+0];return(Ye((y>>24&255)+(D>>24&255)-((x=x[T-1])>>24&255))<<24|Ye((y>>16&255)+(D>>16&255)-(x>>16&255))<<16|Ye((y>>8&255)+(D>>8&255)-(x>>8&255))<<8|Ye((255&y)+(255&D)-(255&x)))>>>0},L.Predictor13=function(y,x,T){var D=x[T-1];return(Ze((y=Ue(y,x[T+0]))>>24&255,D>>24&255)<<24|Ze(y>>16&255,D>>16&255)<<16|Ze(y>>8&255,D>>8&255)<<8|Ze(255&y,255&D))>>>0};var tf=L.PredictorAdd0;L.PredictorAdd1=Pt,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var du=L.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var un,Sp=L.ColorIndexInverseTransform,Is=L.MapARGB,Rs=L.VP8LColorIndexInverseTransformAlpha,rf=L.MapAlpha,nf=L.VP8LPredictorsAdd=[];nf.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var af,sf,cl,ul,dl,fc,fl,hc,Ci,Ms,vr,Pr,dn,Tn,go,of,fu,Ap,$A,qA,zA,UA,WA,HA,lf,VA,GA,KA,YA=i(511),XA=i(2041),ZA=i(225),JA=i(767),QA=0,Tv=XA,jp=ZA,ri=JA,Ei=YA,_p=0,Pp=1,e3=2,Cp=3,Ep=4,Ov=5,t3=6,kv=7,Lv=8,Tp=9,Iv=10,nB=[2,3,7],aB=[3,3,11],r3=[280,256,256,256,40],iB=[0,1,1,1,0],sB=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],oB=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lB=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cB=8,Rv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cf=null,uB=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],dB=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],n3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fB=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hB=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pB=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mB=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hl=[],es=[],vo=[],gB=1,a3=2,pl=[],Ti=[];ho("UpsampleRgbLinePair",il,3),ho("UpsampleBgrLinePair",ea,3),ho("UpsampleRgbaLinePair",_a,4),ho("UpsampleBgraLinePair",Jd,4),ho("UpsampleArgbLinePair",Zd,4),ho("UpsampleRgba4444LinePair",cc,2),ho("UpsampleRgb565LinePair",lc,2);var vB=L.UpsampleRgbLinePair,yB=L.UpsampleBgrLinePair,i3=L.UpsampleRgbaLinePair,s3=L.UpsampleBgraLinePair,o3=L.UpsampleArgbLinePair,l3=L.UpsampleRgba4444LinePair,bB=L.UpsampleRgb565LinePair,Op=16,kp=1<<Op-1,uf=-227,Dv=482,xB=6,c3=0,wB=i(256),NB=i(256),SB=i(256),AB=i(256),jB=i(Dv-uf),_B=i(Dv-uf);po("YuvToRgbRow",il,3),po("YuvToBgrRow",ea,3),po("YuvToRgbaRow",_a,4),po("YuvToBgraRow",Jd,4),po("YuvToArgbRow",Zd,4),po("YuvToRgba4444Row",cc,2),po("YuvToRgb565Row",lc,2);var u3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lp=[0,2,8],PB=[8,7,6,4,4,2,2,2,1,1,1,1],CB=1;this.WebPDecodeRGBA=function(y,x,T,D,V){var K=Pp,X=new Ie,Q=new _t;X.ba=Q,Q.S=K,Q.width=[Q.width],Q.height=[Q.height];var re=Q.width,ce=Q.height,ye=new ot;if(ye==null||y==null)var _e=2;else e(ye!=null),_e=uc(y,x,T,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(_e!=0?re=0:(re!=null&&(re[0]=ye.width[0]),ce!=null&&(ce[0]=ye.height[0]),re=1),re){Q.width=Q.width[0],Q.height=Q.height[0],D!=null&&(D[0]=Q.width),V!=null&&(V[0]=Q.height);e:{if(D=new Si,(V=new Be).data=y,V.w=x,V.ha=T,V.kd=1,x=[0],e(V!=null),((y=uc(V.data,V.w,V.ha,null,null,null,x,null,V))==0||y==7)&&x[0]&&(y=4),(x=y)==0){if(e(X!=null),D.data=V.data,D.w=V.w+V.offset,D.ha=V.ha-V.offset,D.put=gt,D.ac=Or,D.bc=Yr,D.ma=X,V.xa){if((y=Ka())==null){X=1;break e}if((function(ue,be){var Se=[0],Oe=[0],je=[0];t:for(;;){if(ue==null)return 0;if(be==null)return ue.a=2,0;if(ue.l=be,ue.a=0,q(ue.m,be.data,be.w,be.ha),!_n(ue.m,Se,Oe,je)){ue.a=3;break t}if(ue.xb=a3,be.width=Se[0],be.height=Oe[0],!ua(Se[0],Oe[0],1,ue,null))break t;return 1}return e(ue.a!=0),0})(y,D)){if(D=(x=sl(D.width,D.height,X.Oa,X.ba))==0){t:{D=y;r:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((T=D.l)!=null),e((V=T.ma)!=null),D.xb!=0){if(D.ca=V.ba,D.tb=V.tb,e(D.ca!=null),!Qd(V.Oa,T,Cp)){D.a=2;break r}if(!Ya(D,T.width)||T.da)break r;if((T.da||tt(D.ca.S))&&Qi(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Qi()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Y(D.s.vb,D.s.Wa.Xa)){D.a=1;break r}D.xb=0}if(!sr(D,D.V,D.Ba,D.c,D.i,T.o,ca))break r;V.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(x=y.a)}else x=y.a}else{if((y=new Os)==null){X=1;break e}if(y.Fa=V.na,y.P=V.P,y.qc=V.Sa,zn(y,D)){if((x=sl(D.width,D.height,X.Oa,X.ba))==0){if(y.Aa=0,T=X.Oa,e((V=y)!=null),T!=null){if(0<(re=0>(re=T.Md)?0:100<re?255:255*re/100)){for(ce=ye=0;4>ce;++ce)12>(_e=V.pb[ce]).lc&&(_e.ia=re*PB[0>_e.lc?0:_e.lc]>>3),ye|=_e.ia;ye&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=T.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ue,be){if(ue==null)return 0;if(be==null)return xr(ue,2,"NULL VP8Io parameter in VP8Decode().");if(!ue.cb&&!zn(ue,be))return 0;if(e(ue.cb),be.ac==null||be.ac(be)){be.ob&&(ue.L=0);var Se=Lp[ue.L];if(ue.L==2?(ue.yb=0,ue.zb=0):(ue.yb=be.v-Se>>4,ue.zb=be.j-Se>>4,0>ue.yb&&(ue.yb=0),0>ue.zb&&(ue.zb=0)),ue.Va=be.o+15+Se>>4,ue.Hb=be.va+15+Se>>4,ue.Hb>ue.za&&(ue.Hb=ue.za),ue.Va>ue.Ub&&(ue.Va=ue.Ub),0<ue.L){var Oe=ue.ed;for(Se=0;4>Se;++Se){var je;if(ue.Qa.Cb){var Le=ue.Qa.Lb[Se];ue.Qa.Fb||(Le+=Oe.Tb)}else Le=Oe.Tb;for(je=0;1>=je;++je){var Re=ue.gd[Se][je],He=Le;if(Oe.Pc&&(He+=Oe.vd[0],je&&(He+=Oe.od[0])),0<(He=0>He?0:63<He?63:He)){var $e=He;0<Oe.wb&&($e=4<Oe.wb?$e>>2:$e>>1)>9-Oe.wb&&($e=9-Oe.wb),1>$e&&($e=1),Re.dd=$e,Re.tc=2*He+$e,Re.ld=40<=He?2:15<=He?1:0}else Re.tc=0;Re.La=je}}}Se=0}else xr(ue,6,"Frame setup failed"),Se=ue.a;if(Se=Se==0){if(Se){ue.$c=0,0<ue.Aa||(ue.Ic=CB);t:{Se=ue.Ic,Oe=4*($e=ue.za);var jt=32*$e,dt=$e+1,Vt=0<ue.L?$e*(0<ue.Aa?2:1):0,vt=(ue.Aa==2?2:1)*$e;if((Re=Oe+832+(je=3*(16*Se+Lp[ue.L])/2*jt)+(Le=ue.Fa!=null&&0<ue.Fa.length?ue.Kc.c*ue.Kc.i:0))!=Re)Se=0;else{if(Re>ue.Vb){if(ue.Vb=0,ue.Ec=i(Re),ue.Fc=0,ue.Ec==null){Se=xr(ue,1,"no memory during frame initialization.");break t}ue.Vb=Re}Re=ue.Ec,He=ue.Fc,ue.Ac=Re,ue.Bc=He,He+=Oe,ue.Gd=s(jt,Ts),ue.Hd=0,ue.rb=s(dt+1,Pn),ue.sb=1,ue.wa=Vt?s(Vt,pr):null,ue.Y=0,ue.D.Nb=0,ue.D.wa=ue.wa,ue.D.Y=ue.Y,0<ue.Aa&&(ue.D.Y+=$e),e(!0),ue.oc=Re,ue.pc=He,He+=832,ue.ya=s(vt,xn),ue.aa=0,ue.D.ya=ue.ya,ue.D.aa=ue.aa,ue.Aa==2&&(ue.D.aa+=$e),ue.R=16*$e,ue.B=8*$e,$e=(jt=Lp[ue.L])*ue.R,jt=jt/2*ue.B,ue.sa=Re,ue.ta=He+$e,ue.qa=ue.sa,ue.ra=ue.ta+16*Se*ue.R+jt,ue.Ha=ue.qa,ue.Ia=ue.ra+8*Se*ue.B+jt,ue.$c=0,He+=je,ue.mb=Le?Re:null,ue.nb=Le?He:null,e(He+Le<=ue.Fc+ue.Vb),oo(ue),a(ue.Ac,ue.Bc,0,Oe),Se=1}}if(Se){if(be.ka=0,be.y=ue.sa,be.O=ue.ta,be.f=ue.qa,be.N=ue.ra,be.ea=ue.Ha,be.Vd=ue.Ia,be.fa=ue.R,be.Rc=ue.B,be.F=null,be.J=0,!QA){for(Se=-255;255>=Se;++Se)YA[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)XA[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)ZA[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)JA[255+Se]=0>Se?0:255<Se?255:Se;QA=1}fl=ha,hc=tc,Ms=Ma,vr=ji,Pr=fa,Ci=lo,dn=Qa,Tn=Jn,go=H,of=le,fu=_i,Ap=P,$A=me,qA=Ne,zA=er,UA=rn,WA=Cn,HA=Vr,es[0]=ac,es[1]=rc,es[2]=uo,es[3]=Ls,es[4]=Fa,es[5]=nl,es[6]=ja,es[7]=Ba,es[8]=Zi,es[9]=Xi,hl[0]=tl,hl[1]=nc,hl[2]=co,hl[3]=el,hl[4]=Jr,hl[5]=ks,hl[6]=rl,vo[0]=J,vo[1]=Da,vo[2]=Ji,vo[3]=ic,vo[4]=Ee,vo[5]=pe,vo[6]=It,Se=1}else Se=0}Se&&(Se=(function(nr,On){for(nr.M=0;nr.M<nr.Va;++nr.M){var Gt,yt=nr.Jc[nr.M&nr.Xb],Je=nr.m,fn=nr;for(Gt=0;Gt<fn.za;++Gt){var Wt=Je,or=fn,qr=or.Ac,ta=or.Bc+4*Gt,Pa=or.zc,nn=or.ya[or.aa+Gt];if(or.Qa.Bb?nn.$b=he(Wt,or.Pa.jb[0])?2+he(Wt,or.Pa.jb[2]):he(Wt,or.Pa.jb[1]):nn.$b=0,or.kc&&(nn.Ad=he(Wt,or.Bd)),nn.Za=!he(Wt,145)+0,nn.Za){var pa=nn.Ob,Ca=0;for(or=0;4>or;++or){var kn,ur=Pa[0+or];for(kn=0;4>kn;++kn){ur=hB[qr[ta+kn]][ur];for(var wr=n3[he(Wt,ur[0])];0<wr;)wr=n3[2*wr+he(Wt,ur[wr])];ur=-wr,qr[ta+kn]=ur}n(pa,Ca,qr,ta,4),Ca+=4,Pa[0+or]=ur}}else ur=he(Wt,156)?he(Wt,128)?1:3:he(Wt,163)?2:0,nn.Ob[0]=ur,a(qr,ta,ur,4),a(Pa,0,ur,4);nn.Dd=he(Wt,142)?he(Wt,114)?he(Wt,183)?1:3:2:0}if(fn.m.Ka)return xr(nr,7,"Premature end-of-partition0 encountered.");for(;nr.ja<nr.za;++nr.ja){if(fn=yt,Wt=(Je=nr).rb[Je.sb-1],qr=Je.rb[Je.sb+Je.ja],Gt=Je.ya[Je.aa+Je.ja],ta=Je.kc?Gt.Ad:0)Wt.la=qr.la=0,Gt.Za||(Wt.Na=qr.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var an,Nr;if(Wt=qr,qr=fn,ta=Je.Pa.Xc,Pa=Je.ya[Je.aa+Je.ja],nn=Je.pb[Pa.$b],or=Pa.ad,pa=0,Ca=Je.rb[Je.sb-1],ur=kn=0,a(or,pa,0,384),Pa.Za)var ra=0,ts=ta[3];else{wr=i(16);var hn=Wt.Na+Ca.Na;if(hn=cf(qr,ta[1],hn,nn.Eb,0,wr,0),Wt.Na=Ca.Na=(0<hn)+0,1<hn)fl(wr,0,or,pa);else{var $a=wr[0]+3>>3;for(wr=0;256>wr;wr+=16)or[pa+wr]=$a}ra=1,ts=ta[0]}var Cr=15&Wt.la,Ln=15&Ca.la;for(wr=0;4>wr;++wr){var ni=1&Ln;for($a=Nr=0;4>$a;++$a)Cr=Cr>>1|(ni=(hn=cf(qr,ts,hn=ni+(1&Cr),nn.Sc,ra,or,pa))>ra)<<7,Nr=Nr<<2|(3<hn?3:1<hn?2:or[pa+0]!=0),pa+=16;Cr>>=4,Ln=Ln>>1|ni<<7,kn=(kn<<8|Nr)>>>0}for(ts=Cr,ra=Ln>>4,an=0;4>an;an+=2){for(Nr=0,Cr=Wt.la>>4+an,Ln=Ca.la>>4+an,wr=0;2>wr;++wr){for(ni=1&Ln,$a=0;2>$a;++$a)hn=ni+(1&Cr),Cr=Cr>>1|(ni=0<(hn=cf(qr,ta[2],hn,nn.Qc,0,or,pa)))<<3,Nr=Nr<<2|(3<hn?3:1<hn?2:or[pa+0]!=0),pa+=16;Cr>>=2,Ln=Ln>>1|ni<<5}ur|=Nr<<4*an,ts|=Cr<<4<<an,ra|=(240&Ln)<<an}Wt.la=ts,Ca.la=ra,Pa.Hc=kn,Pa.Gc=ur,Pa.ia=43690&ur?0:nn.ia,ta=!(kn|ur)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Gt.$b][Gt.Za],Je.wa[Je.Y+Je.ja].La|=!ta),fn.Ka)return xr(nr,7,"Premature end-of-file encountered.")}if(oo(nr),Je=On,fn=1,Gt=(yt=nr).D,Wt=0<yt.L&&yt.M>=yt.zb&&yt.M<=yt.Va,yt.Aa==0)t:{if(Gt.M=yt.M,Gt.uc=Wt,Pi(yt,Gt),fn=1,Gt=(Nr=yt.D).Nb,Wt=(ur=Lp[yt.L])*yt.R,qr=ur/2*yt.B,wr=16*Gt*yt.R,$a=8*Gt*yt.B,ta=yt.sa,Pa=yt.ta-Wt+wr,nn=yt.qa,or=yt.ra-qr+$a,pa=yt.Ha,Ca=yt.Ia-qr+$a,Ln=(Cr=Nr.M)==0,kn=Cr>=yt.Va-1,yt.Aa==2&&Pi(yt,Nr),Nr.uc)for(ni=(hn=yt).D.M,e(hn.D.uc),Nr=hn.yb;Nr<hn.Hb;++Nr){ra=Nr,ts=ni;var Ea=(ai=(na=hn).D).Nb;an=na.R;var ai=ai.wa[ai.Y+ra],ii=na.sa,qa=na.ta+16*Ea*an+16*ra,si=ai.dd,Mr=ai.tc;if(Mr!=0)if(e(3<=Mr),na.L==1)0<ra&&UA(ii,qa,an,Mr+4),ai.La&&HA(ii,qa,an,Mr),0<ts&&zA(ii,qa,an,Mr+4),ai.La&&WA(ii,qa,an,Mr);else{var oi=na.B,rs=na.qa,pc=na.ra+8*Ea*oi+8*ra,yo=na.Ha,na=na.Ia+8*Ea*oi+8*ra;Ea=ai.ld,0<ra&&(Tn(ii,qa,an,Mr+4,si,Ea),of(rs,pc,yo,na,oi,Mr+4,si,Ea)),ai.La&&(Ap(ii,qa,an,Mr,si,Ea),qA(rs,pc,yo,na,oi,Mr,si,Ea)),0<ts&&(dn(ii,qa,an,Mr+4,si,Ea),go(rs,pc,yo,na,oi,Mr+4,si,Ea)),ai.La&&(fu(ii,qa,an,Mr,si,Ea),$A(rs,pc,yo,na,oi,Mr,si,Ea))}}if(yt.ia&&alert("todo:DitherRow"),Je.put!=null){if(Nr=16*Cr,Cr=16*(Cr+1),Ln?(Je.y=yt.sa,Je.O=yt.ta+wr,Je.f=yt.qa,Je.N=yt.ra+$a,Je.ea=yt.Ha,Je.W=yt.Ia+$a):(Nr-=ur,Je.y=ta,Je.O=Pa,Je.f=nn,Je.N=or,Je.ea=pa,Je.W=Ca),kn||(Cr-=ur),Cr>Je.o&&(Cr=Je.o),Je.F=null,Je.J=null,yt.Fa!=null&&0<yt.Fa.length&&Nr<Cr&&(Je.J=Rr(yt,Je,Nr,Cr-Nr),Je.F=yt.mb,Je.F==null&&Je.F.length==0)){fn=xr(yt,3,"Could not decode alpha data.");break t}Nr<Je.j&&(ur=Je.j-Nr,Nr=Je.j,e(!(1&ur)),Je.O+=yt.R*ur,Je.N+=yt.B*(ur>>1),Je.W+=yt.B*(ur>>1),Je.F!=null&&(Je.J+=Je.width*ur)),Nr<Cr&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Nr-Je.j,Je.U=Je.va-Je.v,Je.T=Cr-Nr,fn=Je.put(Je))}Gt+1!=yt.Ic||kn||(n(yt.sa,yt.ta-Wt,ta,Pa+16*yt.R,Wt),n(yt.qa,yt.ra-qr,nn,or+8*yt.B,qr),n(yt.Ha,yt.Ia-qr,pa,Ca+8*yt.B,qr))}if(!fn)return xr(nr,6,"Output aborted.")}return 1})(ue,be)),be.bc!=null&&be.bc(be),Se&=1}return Se?(ue.cb=0,Se):0})(y,D)||(x=y.a)}}else x=y.a}x==0&&X.Oa!=null&&X.Oa.fd&&(x=ef(X.ba))}X=x}K=X!=0?null:11>K?Q.f.RGBA.eb:Q.f.kb.y}else K=null;return K};var d3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,U){for(var S="",O=0;O<4;O++)S+=String.fromCharCode(L[U++]);return S}function d(L,U){return L[U+0]|L[U+1]<<8}function f(L,U){return(L[U+0]|L[U+1]<<8|L[U+2]<<16)>>>0}function p(L,U){return(L[U+0]|L[U+1]<<8|L[U+2]<<16|L[U+3]<<24)>>>0}new l;var h=[0],v=[0],m=[],g=new l,b=t,w=(function(L,U){var S={},O=0,k=!1,M=0,$=0;if(S.frames=[],!(function(B,G){for(var Z=0;Z<4;Z++)if(B[G+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(L,U)){for(p(L,U+=4),U+=8;U<L.length;){var F=c(L,U),z=p(L,U+=4);U+=4;var W=z+(1&z);switch(F){case"VP8 ":case"VP8L":S.frames[O]===void 0&&(S.frames[O]={}),(de=S.frames[O]).src_off=k?$:U-8,de.src_size=M+z+8,O++,k&&(k=!1,M=0,$=0);break;case"VP8X":(de=S.header={}).feature_flags=L[U];var q=U+4;de.canvas_width=1+f(L,q),q+=3,de.canvas_height=1+f(L,q),q+=3;break;case"ALPH":k=!0,M=W+8,$=U-8;break;case"ANIM":(de=S.header).bgcolor=p(L,U),q=U+4,de.loop_count=d(L,q),q+=2;break;case"ANMF":var ee,de;(de=S.frames[O]={}).offset_x=2*f(L,U),U+=3,de.offset_y=2*f(L,U),U+=3,de.width=1+f(L,U),U+=3,de.height=1+f(L,U),U+=3,de.duration=f(L,U),U+=3,ee=L[U++],de.dispose=1&ee,de.blend=ee>>1&1}F!="ANMF"&&(U+=W)}return S}})(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var N=w.header?w.header:null,_=w.frames?w.frames:null;if(N){N.loop_counter=N.loop_count,h=[N.canvas_height],v=[N.canvas_width];for(var A=0;A<_.length&&_[A].blend!=0;A++);}var C=_[0],E=g.WebPDecodeRGBA(b,C.src_off,C.src_size,v,h);C.rgba=E,C.imgwidth=v[0],C.imgheight=h[0];for(var R=0;R<v[0]*h[0]*4;R++)m[R]=E[R];return this.width=v,this.height=h,this.data=m,this}(function(t){var e,r,n,a,i,s,o,l,c,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new s,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new s,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=B;Object.defineProperty(this,"pdf",{get:function(){return G}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Y){Z=!!Y}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Y){te=!!Y}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Y){isNaN(Y)||(ne=Y)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(Y){isNaN(Y)||(ie=Y)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Y){var ge;typeof Y=="number"?ge=[Y,Y,Y,Y]:((ge=new Array(4))[0]=Y[0],ge[1]=Y.length>=2?Y[1]:ge[0],ge[2]=Y.length>=3?Y[2]:ge[0],ge[3]=Y.length>=4?Y[3]:ge[1]),c.margin=ge}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Y){fe=Y}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(Y){se=Y}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(Y){he=Y}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Y){Y instanceof d&&(c=Y)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Y){c.path=Y}});var oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return oe},set:function(Y){oe=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var ge;ge=p(Y),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var ge=p(Y);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var ae=null,xe=null,we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(Y){ae=null,xe=null,we=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var ge;if(this.ctx.font=Y,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var De=ge[1];ge[2];var Fe=ge[3],Pe=ge[4];ge[5];var Ge=ge[6],Te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(Te==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:Te==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var ze=(function(qe){var rt,st,mt=[],Nt=qe.trim();if(Nt==="")return S2;if(Nt in sO)return[sO[Nt]];for(;Nt!=="";){switch(st=null,rt=(Nt=lO(Nt)).charAt(0)){case'"':case"'":st=efe(Nt.substring(1),rt);break;default:st=tfe(Nt)}if(st===null||(mt.push(st[0]),(Nt=lO(st[1]))!==""&&Nt.charAt(0)!==","))return S2;Nt=Nt.replace(/^,/,"")}return mt})(Ge);if(this.fontFaces){var Ue=(function(qe,rt){var st=qe.getFontList(),mt=JSON.stringify(st);if(ae===null||xe!==mt){var Nt=(function(Yt){var et=[];return Object.keys(Yt).forEach(function(zt){Yt[zt].forEach(function(tt){var ut=null;switch(tt){case"bold":ut={family:zt,weight:"bold"};break;case"italic":ut={family:zt,style:"italic"};break;case"bolditalic":ut={family:zt,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:zt}}ut!==null&&(ut.ref={name:zt,style:tt},et.push(ut))})}),et})(st);ae=(function(Yt){for(var et={},zt=0;zt<Yt.length;++zt){var tt=N2(Yt[zt]),ut=tt.family,Xt=tt.stretch,_t=tt.style,ot=tt.weight;et[ut]=et[ut]||{},et[ut][Xt]=et[ut][Xt]||{},et[ut][Xt][_t]=et[ut][Xt][_t]||{},et[ut][Xt][_t][ot]=tt}return et})(Nt.concat(rt)),xe=mt}return ae})(this.pdf,this.fontFaces),Ye=ze.map(function(qe){return{family:qe,stretch:"normal",weight:Fe,style:De}}),Ze=(function(qe,rt,st){for(var mt=(st=st||{}).defaultFontFamily||"times",Nt=Object.assign({},Qde,st.genericFontFamilies||{}),Yt=null,et=null,zt=0;zt<rt.length;++zt)if(Nt[(Yt=N2(rt[zt])).family]&&(Yt.family=Nt[Yt.family]),qe.hasOwnProperty(Yt.family)){et=qe[Yt.family];break}if(!(et=et||qe[mt]))throw new Error("Could not find a font-family for the rule '"+oO(Yt)+"' and default family '"+mt+"'.");if(et=(function(tt,ut){if(ut[tt])return ut[tt];var Xt=M5[tt],_t=Xt<=M5.normal?-1:1,ot=iO(ut,mD,Xt,_t);if(!ot)throw new Error("Could not find a matching font-stretch value for "+tt);return ot})(Yt.stretch,et),et=(function(tt,ut){if(ut[tt])return ut[tt];for(var Xt=pD[tt],_t=0;_t<Xt.length;++_t)if(ut[Xt[_t]])return ut[Xt[_t]];throw new Error("Could not find a matching font-style for "+tt)})(Yt.style,et),!(et=(function(tt,ut){if(ut[tt])return ut[tt];if(tt===400&&ut[500])return ut[500];if(tt===500&&ut[400])return ut[400];var Xt=Jde[tt],_t=iO(ut,gD,Xt,tt<400?-1:1);if(!_t)throw new Error("Could not find a matching font-weight for value "+tt);return _t})(Yt.weight,et)))throw new Error("Failed to resolve a font for the rule '"+oO(Yt)+"'.");return et})(Ue,Ye);this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var wt="";(Fe==="bold"||parseInt(Fe,10)>=700||De==="bold")&&(wt="bold"),De==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Pt="",Ce={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ae=0;Ae<ze.length;Ae++){if(this.pdf.internal.getFont(ze[Ae],wt,{noFallback:!0,disableWarning:!0})!==void 0){Pt=ze[Ae];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(ze[Ae],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=ze[Ae],wt="bold";else if(this.pdf.internal.getFont(ze[Ae],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=ze[Ae],wt="normal";break}}if(Pt===""){for(var We=0;We<ze.length;We++)if(Ce[ze[We]]){Pt=Ce[ze[We]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,G){if(isNaN(B)||isNaN(G))throw Er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(B,G));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(B,G)},f.prototype.closePath=function(){var B=new s(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Sr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){B=new s(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.lineTo=function(B,G){if(isNaN(B)||isNaN(G))throw Er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(B,G));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,G,Z,te){if(isNaN(Z)||isNaN(te)||isNaN(B)||isNaN(G))throw Er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(Z,te)),ie=this.ctx.transform.applyToPoint(new s(B,G));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},f.prototype.bezierCurveTo=function(B,G,Z,te,ne,ie){if(isNaN(ne)||isNaN(ie)||isNaN(B)||isNaN(G)||isNaN(Z)||isNaN(te))throw Er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(ne,ie)),se=this.ctx.transform.applyToPoint(new s(B,G)),he=this.ctx.transform.applyToPoint(new s(Z,te));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:he.x,y2:he.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},f.prototype.arc=function(B,G,Z,te,ne,ie){if(isNaN(B)||isNaN(G)||isNaN(Z)||isNaN(te)||isNaN(ne))throw Er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s(B,G));B=fe.x,G=fe.y;var se=this.ctx.transform.applyToPoint(new s(0,Z)),he=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(se.x-he.x,2)+Math.pow(se.y-he.y,2))}Math.abs(ne-te)>=2*Math.PI&&(te=0,ne=2*Math.PI),this.path.push({type:"arc",x:B,y:G,radius:Z,startAngle:te,endAngle:ne,counterclockwise:ie})},f.prototype.arcTo=function(B,G,Z,te,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,G,Z,te){if(isNaN(B)||isNaN(G)||isNaN(Z)||isNaN(te))throw Er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,G),this.lineTo(B+Z,G),this.lineTo(B+Z,G+te),this.lineTo(B,G+te),this.lineTo(B,G),this.lineTo(B+Z,G),this.lineTo(B,G)},f.prototype.fillRect=function(B,G,Z,te){if(isNaN(B)||isNaN(G)||isNaN(Z)||isNaN(te))throw Er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,G,Z,te),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(B,G,Z,te){if(isNaN(B)||isNaN(G)||isNaN(Z)||isNaN(te))throw Er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(B,G,Z,te),this.stroke())},f.prototype.clearRect=function(B,G,Z,te){if(isNaN(B)||isNaN(G)||isNaN(Z)||isNaN(te))throw Er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,G,Z,te))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(G),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(B){var G,Z,te,ne;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))G=0,Z=0,te=0,ne=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(ie!==null)G=parseInt(ie[1]),Z=parseInt(ie[2]),te=parseInt(ie[3]),ne=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)G=parseInt(ie[1]),Z=parseInt(ie[2]),te=parseInt(ie[3]),ne=parseFloat(ie[4]);else{if(ne=1,typeof B=="string"&&B.charAt(0)!=="#"){var fe=new oD(B);B=fe.ok?fe.toHex():"#000000"}B.length===4?(G=B.substring(1,2),G+=G,Z=B.substring(2,3),Z+=Z,te=B.substring(3,4),te+=te):(G=B.substring(1,3),Z=B.substring(3,5),te=B.substring(5,7)),G=parseInt(G,16),Z=parseInt(Z,16),te=parseInt(te,16)}}return{r:G,g:Z,b:te,a:ne,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,G,Z,te){if(isNaN(G)||isNaN(Z)||typeof B!="string")throw Er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!h.call(this)){var ne=W(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:B,x:G,y:Z,scale:ie,angle:ne,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(B,G,Z,te){if(isNaN(G)||isNaN(Z)||typeof B!="string")throw Er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){te=isNaN(te)?void 0:te;var ne=W(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:B,x:G,y:Z,scale:ie,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(B){if(typeof B!="string")throw Er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Z=this.pdf.internal.scaleFactor,te=G.internal.getFontSize(),ne=G.getStringUnitWidth(B)*te/G.internal.scaleFactor;return new function(ie){var fe=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:ne*=Math.round(96*Z/72*1e4)/1e4})},f.prototype.scale=function(B,G){if(isNaN(B)||isNaN(G))throw Er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(B,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.rotate=function(B){if(isNaN(B))throw Er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(B,G){if(isNaN(B)||isNaN(G))throw Er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,B,G);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.transform=function(B,G,Z,te,ne,ie){if(isNaN(B)||isNaN(G)||isNaN(Z)||isNaN(te)||isNaN(ne)||isNaN(ie))throw Er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(B,G,Z,te,ne,ie);this.ctx.transform=this.ctx.transform.multiply(fe)},f.prototype.setTransform=function(B,G,Z,te,ne,ie){B=isNaN(B)?1:B,G=isNaN(G)?0:G,Z=isNaN(Z)?0:Z,te=isNaN(te)?1:te,ne=isNaN(ne)?0:ne,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(B,G,Z,te,ne,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,G,Z,te,ne,ie,fe,se,he){var oe=this.pdf.getImageProperties(B),ae=1,xe=1,we=1,Y=1;te!==void 0&&se!==void 0&&(we=se/te,Y=he/ne,ae=oe.width/te*se/te,xe=oe.height/ne*he/ne),ie===void 0&&(ie=G,fe=Z,G=0,Z=0),te!==void 0&&se===void 0&&(se=te,he=ne),te===void 0&&se===void 0&&(se=oe.width,he=oe.height);var ge=this.ctx.transform.decompose(),De=W(ge.rotate.shx),Fe=new l,Pe=(Fe=(Fe=(Fe=Fe.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale)).applyToRectangle(new o(ie-G*we,fe-Z*Y,te*ae,ne*xe));if(this.autoPaging){for(var Ge,Te=g.call(this,Pe),ze=[],Ue=0;Ue<Te.length;Ue+=1)ze.indexOf(Te[Ue])===-1&&ze.push(Te[Ue]);N(ze);for(var Ye=ze[0],Ze=ze[ze.length-1],wt=Ye;wt<Ze+1;wt++){this.pdf.setPage(wt);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=wt===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=wt===1?0:Ae+(wt-2)*We;if(this.ctx.clip_path.length!==0){var rt=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ge,this.posX+this.margin[3],-qe+Ce+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=rt}var st=JSON.parse(JSON.stringify(Pe));st=w([st],this.posX+this.margin[3],-qe+Ce+this.ctx.prevPageLastElemOffset)[0];var mt=(wt>Ye||wt<Ze)&&m.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,We,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",st.x,st.y,st.w,st.h,null,null,De),mt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,De)};var g=function(B,G,Z){var te=[];G=G||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":te.push(Math.floor((B.y+ne)/Z)+1);break;case"arc":te.push(Math.floor((B.y+ne-B.radius)/Z)+1),te.push(Math.floor((B.y+ne+B.radius)/Z)+1);break;case"qct":var ie=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);te.push(Math.floor((ie.y+ne)/Z)+1),te.push(Math.floor((ie.y+ie.h+ne)/Z)+1);break;case"bct":var fe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);te.push(Math.floor((fe.y+ne)/Z)+1),te.push(Math.floor((fe.y+fe.h+ne)/Z)+1);break;case"rect":te.push(Math.floor((B.y+ne)/Z)+1),te.push(Math.floor((B.y+B.h+ne)/Z)+1)}for(var se=0;se<te.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<te[se];)b.call(this);return te},b=function(){var B=this.fillStyle,G=this.strokeStyle,Z=this.font,te=this.lineCap,ne=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=G,this.font=Z,this.lineCap=te,this.lineWidth=ne,this.lineJoin=ie},w=function(B,G,Z){for(var te=0;te<B.length;te++)switch(B[te].type){case"bct":B[te].x2+=G,B[te].y2+=Z;case"qct":B[te].x1+=G,B[te].y1+=Z;default:B[te].x+=G,B[te].y+=Z}return B},N=function(B){return B.sort(function(G,Z){return G-Z})},_=function(B,G){var Z=this.fillStyle,te=this.strokeStyle,ne=this.lineCap,ie=this.lineWidth,fe=Math.abs(ie*this.ctx.transform.scaleX),se=this.lineJoin;if(this.autoPaging){for(var he,oe,ae=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),we=[],Y=0;Y<xe.length;Y++)if(xe[Y].x!==void 0)for(var ge=g.call(this,xe[Y]),De=0;De<ge.length;De+=1)we.indexOf(ge[De])===-1&&we.push(ge[De]);for(var Fe=0;Fe<we.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<we[Fe];)b.call(this);N(we);for(var Pe=we[0],Ge=we[we.length-1],Te=Pe;Te<Ge+1;Te++){this.pdf.setPage(Te),this.fillStyle=Z,this.strokeStyle=te,this.lineCap=ne,this.lineWidth=fe,this.lineJoin=se;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Te===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Te===1?0:Ye+(Te-2)*Ze;if(this.ctx.clip_path.length!==0){var Pt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-wt+Ue+this.ctx.prevPageLastElemOffset),A.call(this,B,!0),this.path=Pt}if(oe=JSON.parse(JSON.stringify(ae)),this.path=w(oe,this.posX+this.margin[3],-wt+Ue+this.ctx.prevPageLastElemOffset),G===!1||Te===0){var Ce=(Te>Pe||Te<Ge)&&m.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Ze,null).clip().discardPath()),A.call(this,B,G),Ce&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}this.path=ae}else this.lineWidth=fe,A.call(this,B,G),this.lineWidth=ie},A=function(B,G){if((B!=="stroke"||G||!v.call(this))&&(B==="stroke"||G||!h.call(this))){for(var Z,te,ne=[],ie=this.path,fe=0;fe<ie.length;fe++){var se=ie[fe];switch(se.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:se,deltas:[],abs:[]});break;case"lt":var he=ne.length;if(ie[fe-1]&&!isNaN(ie[fe-1].x)&&(Z=[se.x-ie[fe-1].x,se.y-ie[fe-1].y],he>0)){for(;he>=0;he--)if(ne[he-1].close!==!0&&ne[he-1].begin!==!0){ne[he-1].deltas.push(Z),ne[he-1].abs.push(se);break}}break;case"bct":Z=[se.x1-ie[fe-1].x,se.y1-ie[fe-1].y,se.x2-ie[fe-1].x,se.y2-ie[fe-1].y,se.x-ie[fe-1].x,se.y-ie[fe-1].y],ne[ne.length-1].deltas.push(Z);break;case"qct":var oe=ie[fe-1].x+2/3*(se.x1-ie[fe-1].x),ae=ie[fe-1].y+2/3*(se.y1-ie[fe-1].y),xe=se.x+2/3*(se.x1-se.x),we=se.y+2/3*(se.y1-se.y),Y=se.x,ge=se.y;Z=[oe-ie[fe-1].x,ae-ie[fe-1].y,xe-ie[fe-1].x,we-ie[fe-1].y,Y-ie[fe-1].x,ge-ie[fe-1].y],ne[ne.length-1].deltas.push(Z);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(se)}}te=G?null:B==="stroke"?"stroke":"fill";for(var De=!1,Fe=0;Fe<ne.length;Fe++)if(ne[Fe].arc)for(var Pe=ne[Fe].abs,Ge=0;Ge<Pe.length;Ge++){var Te=Pe[Ge];Te.type==="arc"?R.call(this,Te.x,Te.y,Te.radius,Te.startAngle,Te.endAngle,Te.counterclockwise,void 0,G,!De):k.call(this,Te.x,Te.y),De=!0}else if(ne[Fe].close===!0)this.pdf.internal.out("h"),De=!1;else if(ne[Fe].begin!==!0){var ze=ne[Fe].start.x,Ue=ne[Fe].start.y;M.call(this,ne[Fe].deltas,ze,Ue),De=!0}te&&L.call(this,te),G&&U.call(this)}},C=function(B){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-Z;case"top":return B+G-Z;case"hanging":return B+G-2*Z;case"middle":return B+G/2-Z;default:return B}},E=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(G,Z){this.colorStops.push([G,Z])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(B,G,Z,te,ne,ie,fe,se,he){for(var oe=F.call(this,Z,te,ne,ie),ae=0;ae<oe.length;ae++){var xe=oe[ae];ae===0&&(he?S.call(this,xe.x1+B,xe.y1+G):k.call(this,xe.x1+B,xe.y1+G)),$.call(this,B,G,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}se?U.call(this):L.call(this,fe)},L=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(B,G){this.pdf.internal.out(r(B)+" "+n(G)+" m")},O=function(B){var G;switch(B.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var Z,te,ne,ie=this.pdf.getTextDimensions(B.text),fe=C.call(this,B.y),se=E.call(this,fe)-ie.h,he=this.ctx.transform.applyToPoint(new s(B.x,fe));if(this.autoPaging){var oe=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var xe=this.ctx.transform.applyToRectangle(new o(B.x,fe,ie.w,ie.h)),we=ae.applyToRectangle(new o(B.x,se,ie.w,ie.h)),Y=g.call(this,we),ge=[],De=0;De<Y.length;De+=1)ge.indexOf(Y[De])===-1&&ge.push(Y[De]);N(ge);for(var Fe=ge[0],Pe=ge[ge.length-1],Ge=Fe;Ge<Pe+1;Ge++){this.pdf.setPage(Ge);var Te=Ge===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[2],Ye=Ue-this.margin[0],Ze=this.pdf.internal.pageSize.width-this.margin[1],wt=Ze-this.margin[3],Pt=Ge===1?0:ze+(Ge-2)*Ye;if(this.ctx.clip_path.length!==0){var Ce=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Z,this.posX+this.margin[3],-1*Pt+Te),A.call(this,"fill",!0),this.path=Ce}var Ae=w([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-Pt+Te+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*B.scale),ne=this.lineWidth,this.lineWidth=ne*B.scale);var We=this.autoPaging!=="text";if(We||Ae.y+Ae.h<=Ue){if(We||Ae.y>=Te&&Ae.x<=Ze){var qe=We?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ze-Ae.x)[0],rt=w([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Pt+Te+this.ctx.prevPageLastElemOffset)[0],st=We&&(Ge>Fe||Ge<Pe)&&m.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Ye,null).clip().discardPath()),this.pdf.text(qe,rt.x,rt.y,{angle:B.angle,align:G,renderingMode:B.renderingMode}),st&&this.pdf.restoreGraphicsState()}}else Ae.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-Ae.y);B.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ne)}}else B.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*B.scale),ne=this.lineWidth,this.lineWidth=ne*B.scale),this.pdf.text(B.text,he.x+this.posX,he.y+this.posY,{angle:B.angle,align:G,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ne)},k=function(B,G,Z,te){Z=Z||0,te=te||0,this.pdf.internal.out(r(B+Z)+" "+n(G+te)+" l")},M=function(B,G,Z){return this.pdf.lines(B,G,Z,null,null)},$=function(B,G,Z,te,ne,ie,fe,se){this.pdf.internal.out([e(a(Z+B)),e(i(te+G)),e(a(ne+B)),e(i(ie+G)),e(a(fe+B)),e(i(se+G)),"c"].join(" "))},F=function(B,G,Z,te){for(var ne=2*Math.PI,ie=Math.PI/2;G>Z;)G-=ne;var fe=Math.abs(Z-G);fe<ne&&te&&(fe=ne-fe);for(var se=[],he=te?-1:1,oe=G;fe>1e-5;){var ae=oe+he*Math.min(fe,ie);se.push(z.call(this,B,oe,ae)),fe-=Math.abs(ae-oe),oe=ae}return se},z=function(B,G,Z){var te=(Z-G)/2,ne=B*Math.cos(te),ie=B*Math.sin(te),fe=ne,se=-ie,he=fe*fe+se*se,oe=he+fe*ne+se*ie,ae=4/3*(Math.sqrt(2*he*oe)-oe)/(fe*ie-se*ne),xe=fe-ae*se,we=se+ae*fe,Y=xe,ge=-we,De=te+G,Fe=Math.cos(De),Pe=Math.sin(De);return{x1:B*Math.cos(G),y1:B*Math.sin(G),x2:xe*Fe-we*Pe,y2:xe*Pe+we*Fe,x3:Y*Fe-ge*Pe,y3:Y*Pe+ge*Fe,x4:B*Math.cos(Z),y4:B*Math.sin(Z)}},W=function(B){return 180*B/Math.PI},q=function(B,G,Z,te,ne,ie){var fe=B+.5*(Z-B),se=G+.5*(te-G),he=ne+.5*(Z-ne),oe=ie+.5*(te-ie),ae=Math.min(B,ne,fe,he),xe=Math.max(B,ne,fe,he),we=Math.min(G,ie,se,oe),Y=Math.max(G,ie,se,oe);return new o(ae,we,xe-ae,Y-we)},ee=function(B,G,Z,te,ne,ie,fe,se){var he,oe,ae,xe,we,Y,ge,De,Fe,Pe,Ge,Te,ze,Ue,Ye=Z-B,Ze=te-G,wt=ne-Z,Pt=ie-te,Ce=fe-ne,Ae=se-ie;for(oe=0;oe<41;oe++)Fe=(ge=(ae=B+(he=oe/40)*Ye)+he*((we=Z+he*wt)-ae))+he*(we+he*(ne+he*Ce-we)-ge),Pe=(De=(xe=G+he*Ze)+he*((Y=te+he*Pt)-xe))+he*(Y+he*(ie+he*Ae-Y)-De),oe==0?(Ge=Fe,Te=Pe,ze=Fe,Ue=Pe):(Ge=Math.min(Ge,Fe),Te=Math.min(Te,Pe),ze=Math.max(ze,Fe),Ue=Math.max(Ue,Pe));return new o(Math.round(Ge),Math.round(Te),Math.round(ze-Ge),Math.round(Ue-Te))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,G,Z=(B=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:G}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(bt.API),(function(t){var e=function(s){var o,l,c,d,f,p,h,v,m,g;for(l=[],c=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(g=f%85))/85)-(m=f%85))/85)-(v=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,v+33,m+33,g+33)):l.push(122);return(function(b,w){for(var N=w;N>0;N--)b.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,d,f,p=String,h="length",v=255,m="charCodeAt",g="slice",b="replace";for(s[g](-2),s=s[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],d=0,f=(s+=o="uuuuu"[g](s[h]%5||5))[h];f>d;d+=5)l=52200625*(s[m](d)-33)+614125*(s[m](d+1)-33)+7225*(s[m](d+2)-33)+85*(s[m](d+3)-33)+(s[m](d+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return(function(w,N){for(var _=N;_>0;_--)w.pop()})(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=E5(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}})(bt.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(l,c,d){var f=new XMLHttpRequest,p=0,h=function(v){var m=v.length,g=[],b=String.fromCharCode;for(p=0;p<m;p+=1)g.push(b(255&v.charCodeAt(p)));return g.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)})(a,i,s)}catch{}return o})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(bt.API),(function(t){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):jc(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):jc(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Sr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var v=d[h],m=v.src.find(function(g){return g.format==="truetype"});m&&c.addFont(m.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,f){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,d),p}).then(d,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=c.call(f,o,l);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,bt.getPageSize=function(o,l,c){if(Sr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,m=0,g=0;if(h.hasOwnProperty(p))m=h[p][1]/f,g=h[p][0]/f;else try{m=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>m&&(v=g,g=m,m=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(v=g,g=m,m=v)}return{width:g,height:m,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(N2):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}})(bt.API),bt.API.addJS=function(t){return uO=t,this.internal.events.subscribe("postPutResources",function(){gm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uO+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gm!==void 0&&cO!==void 0&&this.internal.out("/Names <</JavaScript "+gm+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(i=0;i<c;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(bt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,m={width:0,height:0,numcomponents:1},g=4;g<v;g+=2){if(g+=h,e.indexOf(f.charCodeAt(g+1))!==-1){p=256*f.charCodeAt(g+5)+f.charCodeAt(g+6),m={width:256*f.charCodeAt(g+7)+f.charCodeAt(g+8),height:p,numcomponents:f.charCodeAt(g+9)};break}h=256*f.charCodeAt(g+2)+f.charCodeAt(g+3)}return m})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return d}})(bt.API),bt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=Fde(t,{checkCrc:!0}),s=i.width,o=i.height,l=i.channels,c=i.palette,d=i.depth;a=c&&l===1?(function(R){for(var L=R.width,U=R.height,S=R.data,O=R.palette,k=R.depth,M=!1,$=[],F=[],z=void 0,W=!1,q=0,ee=0;ee<O.length;ee++){var de=pT(O[ee],4),B=de[0],G=de[1],Z=de[2],te=de[3];$.push(B,G,Z),te!=null&&(te===0?(q++,F.length<1&&F.push(ee)):te<255&&(W=!0))}if(W||q>1){M=!0,F=void 0;var ne=L*U;z=new Uint8Array(ne);for(var ie=new DataView(S.buffer),fe=0;fe<ne;fe++){var se=A2(ie,fe,k),he=pT(O[se],4)[3];z[fe]=he}}else q===0&&(F=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:M?8:void 0,colorBytes:S,alphaBytes:z,needSMask:M,palette:$,mask:F}})(i):l===2||l===4?(function(R){for(var L=R.data,U=R.width,S=R.height,O=R.channels,k=R.depth,M=O===2?"DeviceGray":"DeviceRGB",$=O-1,F=U*S,z=$,W=F*z,q=1*F,ee=Math.ceil(W*k/8),de=Math.ceil(q*k/8),B=new Uint8Array(ee),G=new Uint8Array(de),Z=new DataView(L.buffer),te=new DataView(B.buffer),ne=new DataView(G.buffer),ie=!1,fe=0;fe<F;fe++){for(var se=fe*O,he=0;he<z;he++)bO(te,A2(Z,se+he,k),fe*z+he,k);var oe=A2(Z,se+z,k);oe<(1<<k)-1&&(ie=!0),bO(ne,oe,1*fe,k)}return{colorSpace:M,colorsPerPixel:$,sMaskBitsPerComponent:ie?k:void 0,colorBytes:B,alphaBytes:G,needSMask:ie}})(i):(function(R){var L=R.data,U=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?(function(S){for(var O=S.length,k=new Uint8Array(2*O),M=new DataView(k.buffer,k.byteOffset,k.byteLength),$=0;$<O;$++)M.setUint16(2*$,S[$],!1);return k})(L):L,needSMask:!1}})(i);var f,p,h,v=a,m=v.colorSpace,g=v.colorsPerPixel,b=v.sMaskBitsPerComponent,w=v.colorBytes,N=v.alphaBytes,_=v.needSMask,A=v.palette,C=v.mask,E=null;return n!==bt.API.image_compression.NONE&&typeof E5=="function"?(E=(function(R){var L;switch(R){case bt.API.image_compression.FAST:L=11;break;case bt.API.image_compression.MEDIUM:L=13;break;case bt.API.image_compression.SLOW:L=14;break;default:L=12}return L})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(E," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(s),t=pO(w,Math.ceil(s*g*d/8),g,d,n),_&&(h=pO(N,Math.ceil(s*b/8),1,b,n))):(f=void 0,p=void 0,t=w,_&&(h=N)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:C,palette:A,sMask:h,predictor:E,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:m}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new ife(e),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},d=new j2(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A})(bt.API),as.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},as.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Er.log("bit decode error:"+r)}},as.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},as.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},as.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},as.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=c}this.pos+=t}},as.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},as.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},as.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},as.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new as(e,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new j2(100).encode(l,100);return t.processJPEG.call(this,c,r,n,a)}})(bt.API),wO.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new wO(e),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new j2(100).encode(l,100);return t.processJPEG.call(this,c,r,n,a)}})(bt.API),bt.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=n[c],f=n[c+1],p=n[c+2],h=n[c+3];i[o++]=d,i[o++]=f,i[o++]=p,s[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},bt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Su=bt.API,vm=Su.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,h=t.length,v=0,m=o[0]||l,g=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(p=f&&Sr(c[n])==="object"&&!isNaN(parseInt(c[n][v],10))?c[n][v]/d:0,g.push((o[n]||m)/l+p)),v=n;return g},dO=Su.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Su.processArabic&&(t=Su.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:vm.apply(this,arguments).reduce(function(i,s){return i+s},0)},fO=function(t,e,r,n){for(var a=[],i=0,s=t.length,o=0;i!==s&&o+e[i]<r;)o+=e[i],i++;a.push(t.slice(0,i));var l=i;for(o=0;i!==s;)o+e[i]>n&&(a.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&a.push(t.slice(l,i)),a},hO=function(t,e,r){r||(r={});var n,a,i,s,o,l,c,d=[],f=[d],p=r.textIndent||0,h=0,v=0,m=t.split(" "),g=vm.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var b=Array(l).join(" "),w=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(A,C){return(C&&A.length?`
`:"")+A})):w.push(_[0])}),m=w,l=dO.apply(this,[b,r])}for(i=0,s=m.length;i<s;i++){var N=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),N=1),p+h+(v=(a=vm.apply(this,[n,r])).reduce(function(_,A){return _+A},0))>e||N){if(v>e){for(o=fO.apply(this,[n,a,e-(p+h),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,A){return _+A},0)}else d=[n];f.push(d),p=v+l,h=g}else d.push(n),p+=h+v,h=g}return c=l?function(_,A){return(A?b:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(c)},Su.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(hO.apply(this,[n[o],s,i]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var h,v,m,g,b=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=s(w).slice(2)).slice(0,-1)+a[v.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),g="-"):(m=s(h).slice(2),g=""),m=g+m.slice(0,-1)+a[m.slice(-1)];else{if(Sr(h)!=="object")throw new Error("Don't know what to do with value type "+Sr(h)+".");m=o(h)}b.push(v+m)}return b.push("}"),b.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,m,g,b={},w=1,N=b,_=[],A="",C="",E=p.length-1,R=1;R<E;R+=1)(g=p[R])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(_.push([N,m]),N={},m=void 0):g=="}"?((v=_.pop())[0][v[1]]=N,m=void 0,N=v[0]):g=="-"?w=-1:m===void 0?n.hasOwnProperty(g)?(A+=n[g],m=parseInt(A,16)*w,w=1,A=""):A+=g:n.hasOwnProperty(g)?(C+=n[g],N[m]=parseInt(C,16)*w,w=1,m=void 0,C=""):C+=g;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,v=f.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])})(bt.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Rm(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(bt),bt.API.addSvgAsImage=function(t,e,r,n,a,i,s,o){if(isNaN(e)||isNaN(r))throw Er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=a;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ft.canvg?Promise.resolve(Ft.canvg):jc(()=>import("./index.es-vwAsDn0p.js"),__vite__mapDeps([3,1]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,a,s,o)})},bt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},bt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,d=0,f=0;function p(v,m){var g,b=!1;for(g=0;g<v.length;g+=1)v[g]===m&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Sr(t)==="object"){for(a in t)if(i=t[a],p(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)typeof i[c][d]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(bt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},n=function(i){var s,o,l,c,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(i).sort(function(h,v){return h-v})).length;f<p;f++)s=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",v=0;v<p.length;v++)h+=String.fromCharCode(p[v]);var m=c();d({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+_u(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+_u(o.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+_u(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var v=c();d({data:p,addLength1:!0,objectId:v}),l("endobj");var m=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+_u(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+_u(o.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,v=f.fonts,m=h,g="",b=0,w="",N=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:f};for(w=o,m=h,Array.isArray(o)&&(w=o[0]),b=0;b<w.length;b+=1)v[m].metadata.hasOwnProperty("cmap")&&(s=v[m].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),s||w[b].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?g+=w[b]:g+="";var _="";return parseInt(m.slice(1))<14||N==="WinAnsiEncoding"?_=p(g,m).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(_=r(g,v[m])),f.isHex=!0,{text:_,x:l,y:c,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])})(bt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(bt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var _=function(S){var O=S.charCodeAt(),k=O>>8,M=m[k];return M!==void 0?f[256*M+(255&O)]:k===252||k===253?"AL":b.test(k)?"L":k===8?"R":"N"},A=function(S){for(var O,k=0;k<S.length;k++){if((O=_(S.charAt(k)))==="L")return!1;if(O==="R")return!0}return!1},C=function(S,O,k,M){var $,F,z,W,q=O[M];switch(q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(q="AN");break;case"AL":w=!0,q="R";break;case"WS":case"BN":q="N";break;case"CS":M<1||M+1>=O.length||($=k[M-1])!=="EN"&&$!=="AN"||(F=O[M+1])!=="EN"&&F!=="AN"?q="N":w&&(F="AN"),q=F===$?F:"N";break;case"ES":q=($=M>0?k[M-1]:"B")==="EN"&&M+1<O.length&&O[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&k[M-1]==="EN"){q="EN";break}if(w){q="N";break}for(z=M+1,W=O.length;z<W&&O[z]==="ET";)z++;q=z<W&&O[z]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(W=O.length,z=M+1;z<W&&O[z]==="NSM";)z++;if(z<W){var ee=S[M],de=ee>=1425&&ee<=2303||ee===64286;if($=O[z],de&&($==="R"||$==="AL")){q="R";break}}}q=M<1||($=O[M-1])==="B"?"N":k[M-1];break;case"B":w=!1,a=!0,q=N;break;case"S":i=!0,q="N"}return q},E=function(S,O,k){var M=S.split("");return k&&R(M,k,{hiLevel:N}),M.reverse(),O&&O.reverse(),M.join("")},R=function(S,O,k){var M,$,F,z,W,q=-1,ee=S.length,de=0,B=[],G=N?h:p,Z=[];for(w=!1,a=!1,i=!1,$=0;$<ee;$++)Z[$]=_(S[$]);for(F=0;F<ee;F++){if(W=de,B[F]=C(S,Z,B,F),M=240&(de=G[W][v[B[F]]]),de&=15,O[F]=z=G[de][5],M>0)if(M===16){for($=q;$<F;$++)O[$]=1;q=-1}else q=-1;if(G[de][6])q===-1&&(q=F);else if(q>-1){for($=q;$<F;$++)O[$]=z;q=-1}Z[F]==="B"&&(O[F]=0),k.hiLevel|=z}i&&(function(te,ne,ie){for(var fe=0;fe<ie;fe++)if(te[fe]==="S"){ne[fe]=N;for(var se=fe-1;se>=0&&te[se]==="WS";se--)ne[se]=N}})(Z,O,ee)},L=function(S,O,k,M,$){if(!($.hiLevel<S)){if(S===1&&N===1&&!a)return O.reverse(),void(k&&k.reverse());for(var F,z,W,q,ee=O.length,de=0;de<ee;){if(M[de]>=S){for(W=de+1;W<ee&&M[W]>=S;)W++;for(q=de,z=W-1;q<z;q++,z--)F=O[q],O[q]=O[z],O[z]=F,k&&(F=k[q],k[q]=k[z],k[z]=F);de=W}de++}}},U=function(S,O,k){var M=S.split(""),$={hiLevel:N};return k||(k=[]),R(M,k,$),(function(F,z,W){if(W.hiLevel!==0&&d)for(var q,ee=0;ee<F.length;ee++)z[ee]===1&&(q=g.indexOf(F[ee]))>=0&&(F[ee]=g[q+1])})(M,k,$),L(2,M,O,k,$),L(1,M,O,k,$),M.join("")};return this.__bidiEngine__.doBidiReorder=function(S,O,k){if((function($,F){if(F)for(var z=0;z<$.length;z++)F[z]=z;o===void 0&&(o=A($)),c===void 0&&(c=A($))})(S,O),s||!l||c)if(s&&l&&o^c)N=o?1:0,S=E(S,O,k);else if(!s&&l&&c)N=o?1:0,S=U(S,O,k),S=E(S,O);else if(!s||o||l||c){if(s&&!l&&o^c)S=E(S,O),o?(N=0,S=U(S,O,k)):(N=1,S=U(S,O,k),S=E(S,O));else if(s&&o&&!l&&c)N=1,S=U(S,O,k),S=E(S,O);else if(!s&&!l&&o^c){var M=d;o?(N=1,S=U(S,O,k),N=0,d=!1,S=U(S,O,k),d=M):(N=0,S=U(S,O,k),S=E(S,O),N=1,d=!1,S=U(S,O,k),d=M,S=E(S,O))}}else N=0,S=U(S,O,k);else N=o?1:0,S=U(S,O,k);return S},this.__bidiEngine__.setOptions=function(S){S&&(s=S.isInputVisual,l=S.isOutputVisual,o=S.isInputRtl,c=S.isOutputRtl,d=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(bt),bt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new zl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new xfe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new sfe(this.contents),this.head=new lfe(this),this.name=new hfe(this),this.cmap=new yD(this),this.toUnicode={},this.hhea=new cfe(this),this.maxp=new pfe(this),this.hmtx=new mfe(this),this.post=new dfe(this),this.os2=new ufe(this),this.loca=new bfe(this),this.glyf=new gfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Ps,zl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),sfe=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,o,l,c,d,f,p,h,v,m;for(m in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),d=16*h-f,(a=new zl).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*h,c=a.pos+i,o=null,v=[],r)for(p=r[m],a.writeString(m),a.writeInt(t(p)),a.writeInt(c),a.writeInt(p.length),v=v.concat(p),m==="head"&&(o=c),c+=p.length;c%4;)v.push(0),c++;return a.write(v),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=bD.call(r);r.length%4;)r.push(0);for(i=new zl(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),ofe={}.hasOwnProperty,ao=function(t,e){for(var r in e)ofe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ps=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var lfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new zl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),NO=(function(){function t(e,r){var n,a,i,s,o,l,c,d,f,p,h,v,m,g,b,w,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,i=(function(){var _,A;for(A=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)A.push(e.readUInt16());return A})(),e.pos+=2,m=(function(){var _,A;for(A=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)A.push(e.readUInt16());return A})(),c=(function(){var _,A;for(A=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)A.push(e.readUInt16());return A})(),d=(function(){var _,A;for(A=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)A.push(e.readUInt16());return A})(),a=(this.length-e.pos+this.offset)/2,o=(function(){var _,A;for(A=[],l=_=0;0<=a?_<a:_>a;l=0<=a?++_:--_)A.push(e.readUInt16());return A})(),l=b=0,N=i.length;b<N;l=++b)for(g=i[l],n=w=v=m[l];v<=g?w<=g:w>=g;n=v<=g?++w:--w)d[l]===0?s=n+c[l]:(s=o[d[l]/2+(n-v)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,a,i,s,o,l,c,d,f,p,h,v,m,g,b,w,N,_,A,C,E,R,L,U,S,O,k,M,$,F,z,W,q,ee,de,B,G,Z,te,ne,ie,fe,se,he,oe,ae;switch(M=new zl,s=Object.keys(e).sort(function(xe,we){return xe-we}),r){case"macroman":for(m=0,g=(function(){var xe=[];for(v=0;v<256;++v)xe.push(0);return xe})(),w={0:0},i={},$=0,q=s.length;$<q;$++)w[se=e[a=s[$]]]==null&&(w[se]=++m),i[a]={old:e[a],new:w[e[a]]},g[a]=w[e[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(g),{charMap:i,subtable:M.data,maxGlyphID:m+1};case"unicode":for(O=[],f=[],N=0,w={},n={},b=c=null,F=0,ee=s.length;F<ee;F++)w[A=e[a=s[F]]]==null&&(w[A]=++N),n[a]={old:A,new:w[A]},o=w[A]-a,b!=null&&o===c||(b&&f.push(b),O.push(a),c=o),b=a;for(b&&f.push(b),f.push(65535),O.push(65535),U=2*(L=O.length),R=2*Math.pow(Math.log(L)/Math.LN2,2),p=Math.log(R/2)/Math.LN2,E=2*L-R,l=[],C=[],h=[],v=z=0,de=O.length;z<de;v=++z){if(S=O[v],d=f[v],S===65535){l.push(0),C.push(0);break}if(S-(k=n[S].new)>=32768)for(l.push(0),C.push(2*(h.length+L-v)),a=W=S;S<=d?W<=d:W>=d;a=S<=d?++W:--W)h.push(n[a].new);else l.push(k-S),C.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*L+2*h.length),M.writeUInt16(0),M.writeUInt16(U),M.writeUInt16(R),M.writeUInt16(p),M.writeUInt16(E),ie=0,B=f.length;ie<B;ie++)a=f[ie],M.writeUInt16(a);for(M.writeUInt16(0),fe=0,G=O.length;fe<G;fe++)a=O[fe],M.writeUInt16(a);for(he=0,Z=l.length;he<Z;he++)o=l[he],M.writeUInt16(o);for(oe=0,te=C.length;oe<te;oe++)_=C[oe],M.writeUInt16(_);for(ae=0,ne=h.length;ae<ne;ae++)m=h[ae],M.writeUInt16(m);return{charMap:n,subtable:M.data,maxGlyphID:N+1}}},t})(),yD=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new NO(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=NO.encode(e,r),(a=new zl).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),cfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),ufe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),dfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],i=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;i=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t})(),ffe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},hfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,s,o,l,c,d,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},i=d=0,f=n.length;d<f;i=++d)a=n[i],e.pos=a.offset,c=e.readString(a.length),s=new ffe(c,a),l[p=a.nameID]==null&&(l[p]=[]),l[a.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),pfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),mfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,d;for(d=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)d.push(e.readInt16());return d})(),this.widths=(function(){var c,d,f,p;for(p=[],c=0,d=(f=this.metrics).length;c<d;c++)i=f[c],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),bD=[].slice,gfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,s,o,l,c,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new zl(r.read(a))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=s===-1?new yfe(o,c,f,l,d):new vfe(o,s,c,f,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,s,o,l;for(s=[],i=[],o=0,l=r.length;o<l;o++)a=e[r[o]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},t})(),vfe=(function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),yfe=(function(){function t(e,r,n,a,i){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new zl(bD.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),bfe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ps),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(a+=l)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},t})(),xfe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,o,l;for(a={},s=0,o=e.length;s<o;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,o,l,c,d,f,p,h,v,m,g,b;for(a in n=yD.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},b=n.charMap)h[(l=b[a]).old]=l.new;for(v in p=n.maxGlyphID,s)v in h||(h[v]=p++);return d=(function(w){var N,_;for(N in _={},w)_[w[N]]=N;return _})(h),f=Object.keys(d).sort(function(w,N){return w-N}),m=(function(){var w,N,_;for(_=[],w=0,N=f.length;w<N;w++)o=f[w],_.push(d[o]);return _})(),i=this.font.glyf.encode(s,m,h),c=this.font.loca.encode(i.offsets,m),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t})();bt.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e})();function xD(t,e,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,d=/\r\n|\r|\n/g,f="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof t=="string"?t.split(d):t,p=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=p/2*c:n.valign==="bottom"&&(r-=p*c),n.halign==="center"||n.halign==="right"){var h=o;if(n.halign==="center"&&(h*=.5),f&&p>=1){for(var v=0;v<f.length;v++)a.text(f[v],e-a.getStringUnitWidth(f[v])*h,r),r+=c;return a}e-=a.getStringUnitWidth(t)*h}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var SO={},Yu=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:SO=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var d=t.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=t.unifyColor(e.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=t.unifyColor(e.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return SO||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),D5=function(t,e){return D5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},D5(t,e)};function wD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");D5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ND=(function(t){wD(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function wfe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Nfe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function r0(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function SD(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var s=AD(a,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function AD(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function dv(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function jD(t,e){var r=dv(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Sfe(t,e,r,n,a){var i={},s=1.3333333333333333,o=_2(e,function(N){return a.getComputedStyle(N).backgroundColor});o!=null&&(i.fillColor=o);var l=_2(e,function(N){return a.getComputedStyle(N).color});l!=null&&(i.textColor=l);var c=jfe(n,r);c&&(i.cellPadding=c);var d="borderTopColor",f=s*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var h=(parseFloat(p)||0)/f;h&&(i.lineWidth=h)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var v=_2(e,function(N){return a.getComputedStyle(N)[d]});v!=null&&(i.lineColor=v);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var g=parseInt(n.fontSize||"");isNaN(g)||(i.fontSize=g/s);var b=Afe(n);b&&(i.fontStyle=b);var w=(n.fontFamily||"").toLowerCase();return t.indexOf(w)!==-1&&(i.font=w),i}function Afe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function _2(t,e){var r=_D(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function _D(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:_D(t.parentElement,e):r}function jfe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=dv(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function PD(t,e,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),d=[],f=[],p=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:d,body:f,foot:p};for(var h=0;h<o.rows.length;h++){var v=o.rows[h],m=(s=(i=v?.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),g=_fe(l,c,r,v,n,a);g&&(m==="thead"?d.push(g):m==="tfoot"?p.push(g):f.push(g))}return{head:d,body:f,foot:p}}function _fe(t,e,r,n,a,i){for(var s=new ND(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var d=void 0;i&&(d=Sfe(t,l,e,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:Pfe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function Pfe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Cfe(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function To(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function CD(t,e){var r=new Yu(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();Cfe(a,n,e);var i=To({},a,n,e),s;typeof window<"u"&&(s=window);var o=Efe(a,n,e),l=Tfe(a,n,e),c=Ofe(r,i),d=Lfe(r,i,s);return{id:e.tableId,content:d,hooks:l,styles:o,settings:c}}function Efe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=t[l],d=e[l],f=r[l];n.columnStyles=To({},c,d,f)}else{var p=[t,e,r],h=p.map(function(v){return v[l]||{}});n[l]=To({},h[0],h[1],h[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function Tfe(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function Ofe(t,e){var r,n,a,i,s,o,l,c,d,f,p,h,v=dv(e.margin,40/t.scaleFactor()),m=(r=kfe(t,e.startY))!==null&&r!==void 0?r:v.top,g;e.showFoot===!0?g="everyPage":e.showFoot===!1?g="never":g=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var b;e.showHead===!0?b="everyPage":e.showHead===!1?b="never":b=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=e.useCss)!==null&&i!==void 0?i:!1,N=e.theme||(w?"plain":"striped"),_=!!e.horizontalPageBreak,A=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:N,startY:m,margin:v,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:g,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:_,horizontalPageBreakRepeat:A,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function kfe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function Lfe(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var o=PD(t,e.html,r,s,e.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Ife(n,a,i);return{columns:l,head:n,body:a,foot:i}}function Ife(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=o?.colSpan||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var d={dataKey:c};a.push(d)}}),a}var F5=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),Rfe=(function(t){wD(e,t);function e(r,n,a,i,s,o){var l=t.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return e})(F5),Mfe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],d=new Rfe(e,this,n,a,i,s),f=c(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new F5(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new F5(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),ED=(function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof ND&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},t})(),TD=(function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=dv(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),Dfe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t})();function Ffe(t,e){Bfe(t,e);var r=[],n=0;e.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(e);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=B5(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=B5(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),qfe(e),zfe(e,t),$fe(e)}function Bfe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=jD(t,e);e.allRows().forEach(function(i){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var d=e.hooks.didParseCell;e.callCellHooks(t,d,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=r0(c.text,c.styles,t)+f;var p=r0(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=p+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var h=10/r;c.minWidth=c.styles.minCellWidth||h,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(i){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var d=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function B5(t,e,r){for(var n=e,a=t.reduce(function(h,v){return h+v.wrappedWidth},0),i=0;i<t.length;i++){var s=t[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,d=r(s),f=c<d?d:c;e-=f-s.width,s.width=f}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(h){return e<0?h.width>r(h):!0});p.length&&(e=B5(p,e,r))}return e}function $fe(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=e[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,p=d.rowSpan>f?f:d.rowSpan;e[l.index]={cell:d,left:p,row:i}}}}}function qfe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function zfe(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){e.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,d+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=AO(c.text,d,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=AO(c.text,d,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,d);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<p*c.rowSpan?r={height:p,count:c.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>i.height&&(i.height=p)}}r.count--}}function AO(t,e,r,n,a){return t.map(function(i){return Ufe(i,e,r,n,a)})}function Ufe(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=r0(t,r,n))return t;for(;e<r0(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function OD(t,e){var r=new Yu(t),n=Wfe(e,r.scaleFactor()),a=new Mfe(e,n);return Ffe(r,a),r.applyStyles(r.userStyles),a}function Wfe(t,e){var r=t.content,n=Vfe(r.columns);if(r.head.length===0){var a=jO(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=jO(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,s=t.styles;return{columns:n,head:P2("head",r.head,n,s,i,e),body:P2("body",r.body,n,s,i,e),foot:P2("foot",r.foot,n,s,i,e)}}function P2(t,e,r,n,a,i){var s={},o=e.map(function(l,c){for(var d=0,f={},p=0,h=0,v=0,m=r;v<m.length;v++){var g=m[v];if(s[g.index]==null||s[g.index].left===0)if(h===0){var b=void 0;Array.isArray(l)?b=l[g.index-p-d]:b=l[g.dataKey];var w={};typeof b=="object"&&!Array.isArray(b)&&(w=b?.styles||{});var N=Gfe(t,g,c,a,n,i,w),_=new TD(b,N,t);f[g.dataKey]=_,f[g.index]=_,h=_.colSpan-1,s[g.index]={left:_.rowSpan-1,times:h}}else h--,p++;else s[g.index].left--,h=s[g.index].times,d++}return new ED(l,c,t,f)});return o}function jO(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=Hfe(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Hfe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Vfe(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new Dfe(a,e,r)})}function Gfe(t,e,r,n,a,i,s){var o=Nfe(n),l;t==="head"?l=a.headStyles:t==="body"?l=a.bodyStyles:t==="foot"&&(l=a.footStyles);var c=To({},o.table,o[t],a.styles,l),d=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},f=t==="body"?d:{},p=t==="body"&&r%2===0?To({},o.alternateRow,a.alternateRowStyles):{},h=wfe(i),v=To({},h,c,p,f);return To(v,s)}function Kfe(t,e,r){var n;r===void 0&&(r={});var a=jD(t,e),i=new Map,s=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var h=e.columns.find(function(v){return v.dataKey===p||v.index===p});h&&!i.has(h.index)&&(i.set(h.index,!0),s.push(h.index),o.push(e.columns[h.index]),a-=h.wrappedWidth)});for(var c=!0,d=(n=r?.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(i.has(d)){d++;continue}var f=e.columns[d].wrappedWidth;if(c||a>=f)c=!1,s.push(d),o.push(e.columns[d]),a-=f;else break;d++}return{colIndexes:s,columns:o,lastIndex:d-1}}function Yfe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=Kfe(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function kD(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(p,h){return p+h.height},0);o+=c}var d=new Yu(t);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(ID(d),i.y=a.top),e.callWillDrawPageHooks(d,i);var f=To({},i);e.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Xfe(d,e,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(p){return Ho(d,e,p,i,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(p,h){var v=h===e.body.length-1;n0(d,e,p,v,f,i,e.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(p){return Ho(d,e,p,i,e.columns)})),SD(d,e,f,i),e.callEndPageHooks(d,i),e.finalY=i.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function Xfe(t,e,r,n){var a=Yfe(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,d){t.applyStyles(t.userStyles),d>0?Vf(t,e,r,n,c.columns,!0):_O(t,e,n,c.columns),Zfe(t,e,r,n,c.columns),C2(t,e,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){t.applyStyles(t.userStyles);var d=o.columns;s>=0?Vf(t,e,r,n,d,!0):_O(t,e,n,d),c=PO(t,e,s+1,n,d),C2(t,e,n,d)}var f=c-s;a.slice(1).forEach(function(p){t.applyStyles(t.userStyles),Vf(t,e,r,n,p.columns,!0),PO(t,e,s+1,n,p.columns,f),C2(t,e,n,p.columns)}),s=c};s<e.body.length-1;)l()}function _O(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Ho(t,e,i,r,n)})}function Zfe(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,s){var o=s===e.body.length-1;n0(t,e,i,o,r,n,a)})}function PO(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var s=Math.min(r+i,e.body.length),o=-1;return e.body.slice(r,s).forEach(function(l,c){var d=r+c===e.body.length-1,f=LD(t,e,d,n);l.canEntireRowFit(f,a)&&(Ho(t,e,l,n,a),o=r+c)}),o}function C2(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Ho(t,e,i,r,n)})}function Jfe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function Qfe(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var d=new TD(c.raw,c.styles,c.section);d=To(d,c),d.text=[];var f=Jfe(c,e,n);c.text.length>f&&(d.text=c.text.splice(f,c.text.length));var p=n.scaleFactor(),h=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(p,h),c.contentHeight>=e&&(c.contentHeight=e,d.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),d.contentHeight=d.getContentHeight(p,h),d.contentHeight>i&&(i=d.contentHeight),a[l.index]=d}}var v=new ED(t.raw,-1,t.section,a,!0);v.height=i;for(var m=0,g=r.columns;m<g.length;m++){var l=g[m],d=v.cells[l.index];d&&(d.height=v.height);var c=t.cells[l.index];c&&(c.height=t.height)}return v}function ehe(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),c=l<r;if(l>o)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var d=e.hasRowSpan(n.columns),f=e.getMaxCellHeight(n.columns)>o;return f?(d&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function n0(t,e,r,n,a,i,s){var o=LD(t,e,n,i);if(r.canEntireRowFit(o,s))Ho(t,e,r,i,s);else if(ehe(t,r,o,e)){var l=Qfe(r,o,e,t);Ho(t,e,r,i,s),Vf(t,e,a,i,s),n0(t,e,l,n,a,i,s)}else Vf(t,e,a,i,s),n0(t,e,r,n,a,i,s)}function Ho(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}the(t,l,n);var d=l.getTextPos();xD(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function the(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=AD(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),rhe(t,e,r,n.lineWidth))}function rhe(t,e,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+e.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+e.height,s=r.x+e.width,o=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+e.width,i=r.y,s=r.x+e.width,o=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,d,f,p,h){t.getDocument().setLineWidth(c),t.getDocument().line(d,f,p,h,"S")}}function LD(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Vf(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(o){return Ho(t,e,o,n,a)}),e.callEndPageHooks(t,n);var s=e.settings.margin;SD(t,e,r,n),ID(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Ho(t,e,o,n,a)}),t.applyStyles(t.userStyles))}function ID(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function nhe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=CD(this,n),i=OD(this,a);return kD(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){xD(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Yu.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Yu.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Yu(this),i=PD(a,e,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var E2;function bi(t,e){var r=CD(t,e),n=OD(t,r);kD(t,n)}try{if(typeof window<"u"&&window){var CO=window,EO=CO.jsPDF||((E2=CO.jspdf)===null||E2===void 0?void 0:E2.jsPDF);EO&&nhe(EO)}}catch(t){console.error("Could not apply autoTable plugin",t)}const dr=t=>"Rs. "+new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(t),Mo=t=>new Date(t).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),fv=(t,e)=>{t.setFontSize(22),t.setTextColor(40,40,40),t.text(e,14,20),t.setFontSize(10),t.setTextColor(100,100,100),t.text(`Generated on: ${new Date().toLocaleDateString("en-IN")}`,14,28),t.setDrawColor(200,200,200),t.line(14,32,196,32)},hv=t=>{const e=t.getNumberOfPages();for(let r=1;r<=e;r++)t.setPage(r),t.setFontSize(8),t.setTextColor(150,150,150),t.text("The Lal Street - Financial Analysis Tool",14,285),t.text(`Page ${r} of ${e}`,196,285,{align:"right"})},pA=(t,e,r)=>!e||e.windowType==="insufficient"?r:(t.setFontSize(14),t.setTextColor(60,60,60),t.text(`Portfolio Performance (${e.windowType==="3Y"?"3-Year":"1-Year"} Rolling Window)`,14,r),bi(t,{startY:r+5,head:[["Metric","Value"]],body:[["Mean Return",`${e.rollingReturns.bucket.mean.toFixed(2)}%`],["Maximum Return",`${e.rollingReturns.bucket.max.toFixed(2)}%`],["Minimum Return",`${e.rollingReturns.bucket.min.toFixed(2)}%`],["Positive Periods",`${e.rollingReturns.bucket.positivePercentage.toFixed(2)}%`]],theme:"grid",headStyles:{fillColor:[108,92,231]},styles:{fontSize:10,cellPadding:2},columnStyles:{0:{fontStyle:"bold",cellWidth:80}}}),t.lastAutoTable.finalY+10),TO=t=>{const e=new bt;fv(e,"SIP Investment Report"),e.setFontSize(14),e.setTextColor(60,60,60),e.text("Investment Details",14,45),bi(e,{startY:50,head:[["Parameter","Value"]],body:[["Monthly Investment",dr(t.inputs.monthlyInvestment)],["Start Date",Mo(t.inputs.startDate)],["End Date",Mo(t.inputs.endDate)],["Number of Installments",t.installments.toString()]],theme:"plain",styles:{fontSize:10,cellPadding:2},columnStyles:{0:{fontStyle:"bold",cellWidth:60}}});const r=e.lastAutoTable.finalY+10;e.setFontSize(14),e.text("Performance Summary",14,r),bi(e,{startY:r+5,head:[["Metric","Value"]],body:[["Total Invested",dr(t.totalInvested)],["Current Value",dr(t.currentValue)],["Total Profit",dr(t.profit)],["Absolute Returns",`${t.profitPercentage.toFixed(2)}%`],["CAGR",`${t.cagr.toFixed(2)}%`],["XIRR",`${t.xirr.toFixed(2)}%`]],theme:"grid",headStyles:{fillColor:[41,128,185]}});const n=e.lastAutoTable.finalY+15;pA(e,t.rollingReturns,n);const a=e.lastAutoTable.finalY+15;a>250&&e.addPage(),e.setFontSize(14),e.text("Fund-wise Breakdown",14,a>250?20:a),bi(e,{startY:a>250?25:a+5,head:[["Fund Name","Invested","Current Value","Profit","CAGR","XIRR"]],body:t.fundResults.map(i=>[i.fundName,dr(i.totalInvested),dr(i.currentValue),dr(i.profit),`${i.cagr.toFixed(2)}%`,`${i.xirr.toFixed(2)}%`]),theme:"striped",headStyles:{fillColor:[44,62,80]},styles:{fontSize:8,cellPadding:2},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:28,halign:"right"},2:{cellWidth:28,halign:"right"},3:{cellWidth:28,halign:"right"},4:{cellWidth:15,halign:"right"},5:{cellWidth:15,halign:"right"}}}),hv(e),e.save("SIP_Report.pdf")},OO=t=>{const e=new bt;fv(e,"Lumpsum Investment Report"),e.setFontSize(14),e.text("Investment Details",14,45),bi(e,{startY:50,head:[["Parameter","Value"]],body:[["Investment Amount",dr(t.inputs.investmentAmount)],["Start Date",Mo(t.inputs.startDate)],["End Date",Mo(t.inputs.endDate)]],theme:"plain",styles:{fontSize:10,cellPadding:2},columnStyles:{0:{fontStyle:"bold",cellWidth:60}}});const r=e.lastAutoTable.finalY+10;e.setFontSize(14),e.text("Performance Summary",14,r),bi(e,{startY:r+5,head:[["Metric","Value"]],body:[["Total Invested",dr(t.bucketPerformance.totalInvestment)],["Current Value",dr(t.bucketPerformance.currentValue)],["Total Profit",dr(t.bucketPerformance.absoluteProfit)],["Absolute Returns",`${t.bucketPerformance.absoluteProfitPercent.toFixed(2)}%`],["CAGR",`${t.bucketPerformance.cagr.toFixed(2)}%`]],theme:"grid",headStyles:{fillColor:[39,174,96]}});const n=e.lastAutoTable.finalY+15,i=pA(e,t.rollingReturns,n)+5;e.setFontSize(14),e.text("Fund-wise Breakdown",14,i),bi(e,{startY:i+5,head:[["Fund Name","Invested","Current Value","Profit","Returns"]],body:t.fundPerformances.map(s=>[s.fundName,dr(s.investment),dr(s.currentValue),dr(s.profitLoss),`${s.percentReturns.toFixed(2)}%`]),theme:"striped",headStyles:{fillColor:[44,62,80]},styles:{fontSize:8,cellPadding:2},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:30,halign:"right"},2:{cellWidth:30,halign:"right"},3:{cellWidth:30,halign:"right"},4:{cellWidth:20,halign:"right"}}}),hv(e),e.save("Lumpsum_Report.pdf")},kO=t=>{const e=new bt;fv(e,"SIP + Lumpsum Report"),e.setFontSize(14),e.text("Investment Details",14,45);const r=[["Monthly SIP",dr(t.inputs.monthlyInvestment)],["Start Date",Mo(t.inputs.startDate)],["End Date",Mo(t.inputs.endDate)]];t.inputs.lumpsumAmount&&(r.push(["Lumpsum Amount",dr(t.inputs.lumpsumAmount)]),r.push(["Lumpsum Date",Mo(t.inputs.lumpsumDate||"")])),bi(e,{startY:50,head:[["Parameter","Value"]],body:r,theme:"plain",styles:{fontSize:10,cellPadding:2},columnStyles:{0:{fontStyle:"bold",cellWidth:60}}});const n=e.lastAutoTable.finalY+10;e.setFontSize(14),e.text("Performance Summary",14,n),bi(e,{startY:n+5,head:[["Metric","Value"]],body:[["Total Invested",dr(t.totalInvested)],[" - SIP Portion",dr(t.sipInvested)],[" - Lumpsum Portion",dr(t.lumpsumInvested)],["Current Value",dr(t.currentValue)],["Total Profit",dr(t.profit)],["Absolute Returns",`${t.profitPercentage.toFixed(2)}%`],["CAGR",`${t.cagr.toFixed(2)}%`],["XIRR",`${t.xirr.toFixed(2)}%`]],theme:"grid",headStyles:{fillColor:[142,68,173]}});const a=e.lastAutoTable.finalY+15,s=pA(e,t.rollingReturns,a)+5;s>250&&e.addPage(),e.setFontSize(14),e.text("Fund-wise Breakdown",14,s>250?20:s),bi(e,{startY:s>250?25:s+5,head:[["Fund Name","Total Invested","Current Value","Profit","XIRR"]],body:t.fundResults.map(o=>[o.fundName,dr(o.totalInvested),dr(o.currentValue),dr(o.profit),`${o.xirr.toFixed(2)}%`]),theme:"striped",headStyles:{fillColor:[44,62,80]},styles:{fontSize:8,cellPadding:2},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:28,halign:"right"},2:{cellWidth:28,halign:"right"},3:{cellWidth:28,halign:"right"},4:{cellWidth:18,halign:"right"}}}),hv(e),e.save("SIP_Lumpsum_Report.pdf")},ahe=t=>{const e=new bt;fv(e,"SWP Simulation Report"),e.setFontSize(14),e.text("Plan Details",14,45),bi(e,{startY:50,head:[["Parameter","Value"]],body:[["Total Investment",dr(t.inputs.totalInvestment)],["Monthly Withdrawal",dr(t.inputs.withdrawalAmount)],["Frequency",t.inputs.frequency],["Investment Date",Mo(t.inputs.startDate)],["End Date",Mo(t.inputs.endDate)]],theme:"plain",styles:{fontSize:10,cellPadding:2},columnStyles:{0:{fontStyle:"bold",cellWidth:60}}});const r=e.lastAutoTable.finalY+15;e.setFontSize(14),e.text("Simulation Results",14,r),bi(e,{startY:r+5,head:[["Metric","Value"]],body:[["Total Withdrawn",dr(t.totalWithdrawn)],["Final Corpus Value",dr(t.finalCorpus)],["Final Profit Remaining",dr(t.finalProfitRemaining)],["XIRR",t.xirr?`${t.xirr.toFixed(2)}%`:"N/A"],["Survival Duration",`${t.survivalMonths} months`]],theme:"grid",headStyles:{fillColor:[230,126,34]}});const n=e.lastAutoTable.finalY+15;n>250&&e.addPage(),e.setFontSize(14),e.text("Fund-wise Breakdown",14,n>250?20:n),bi(e,{startY:n>250?25:n+5,head:[["Fund Name","Total Invested","Withdrawn","Current Value","Profit"]],body:t.fundSummaries.map(a=>[a.fundName,dr(a.totalInvested),dr(a.totalWithdrawn),dr(a.currentValue),dr(a.profit)]),theme:"striped",headStyles:{fillColor:[44,62,80]},styles:{fontSize:8,cellPadding:2},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:28,halign:"right"},2:{cellWidth:28,halign:"right"},3:{cellWidth:28,halign:"right"},4:{cellWidth:28,halign:"right"}}}),hv(e),e.save("SWP_Report.pdf")},gc=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t);function ihe({funds:t}){const[e,r]=j.useState(1e4),[n,a]=j.useState("2020-01-01"),[i,s]=j.useState(Br()),[o,l]=j.useState(null),[c,d]=j.useState(!1),[f,p]=j.useState(!1),[h,v]=j.useState(void 0),[m,g]=j.useState(null),[b,w]=j.useState(null);j.useEffect(()=>{l(null)},[t,e,n,i]),j.useEffect(()=>{if(t.length>0){const C=t.map(E=>new Date(E.launchDate)).filter(E=>!isNaN(E.getTime()));if(C.length>0){const E=new Date(Math.max(...C.map(L=>L.getTime()))),R=E.toISOString().split("T")[0];w(R),new Date(n)<E&&a(R)}}else w(null)},[t]);const N=async()=>{if(!c){d(!0),g(null),l(null);try{const C=t.map(ne=>ne.id);Dt.log("Fetching NAV data for funds:",C),Dt.log("Date range:",n,"to",i);const E=await Rd(C,n,i);if(Dt.log("NAV Responses received:",E),E.length===0)throw new Error("No NAV data available for the selected funds in the given period.");const R=[];let L=n,U=null;const S=new Date(i);let O=0;for(;;){O++;const ne=new Date(L),ie=Math.ceil((ne.getTime()-S.getTime())/(1e3*60*60*24));if(ne.getTime()>S.getTime()+768*60*60*1e3){Dt.log(`[SIP Loop] STOPPED - Planned date too far: ${L} (${ie} days from end)`);break}const fe=E[0];let se=Wn(fe.navData,L);if(!se){const he=ne.getFullYear(),oe=ne.getMonth(),ae=S.getFullYear(),xe=S.getMonth();if(he===ae&&oe===xe){const we=`${ae}-${String(xe+1).padStart(2,"0")}-01`;se=Wn(fe.navData,we),Dt.log(`[SIP Loop ${O}] Planned ${L} in end month, trying ${we}, found: ${se?.date}`)}else Dt.log(`[SIP Loop ${O}] No NAV found for planned: ${L}, trying next month`)}if(se){const he=new Date(se.date),oe=Math.ceil((he.getTime()-S.getTime())/(1e3*60*60*24)),ae=ne.getFullYear(),xe=ne.getMonth(),we=S.getFullYear(),Y=S.getMonth(),ge=ae<we||ae===we&&xe<=Y,De=ge||oe>=0&&oe<=7;if(ne.getTime()>S.getTime()-1440*60*60*1e3&&Dt.log(`[SIP Date Check] Planned: ${L} (${ae}-${xe+1}), Actual: ${se.date}, End: ${i} (${we}-${Y+1}), isPlannedBeforeOrSameMonth: ${ge}, Days after end: ${oe}, Include: ${De}`),De){R.push({plannedDate:L,actualDate:se.date}),U=se.date;const Fe=new Date(se.date),Pe=Fe.getFullYear(),Ge=Fe.getMonth();if(Pe===we&&Ge===Y){Dt.log(`[SIP Date Check] Completed - Just invested in end month (${Pe}-${Ge+1})`);break}L=eh(L,1)}else{Dt.log("[SIP Date Check] STOPPED - Investment not included");break}}else L=eh(L,1)}Dt.log("=== SIP DATES SUMMARY ==="),Dt.log("Actual SIP Dates generated:",R.length,"months"),Dt.log("Start date:",n),Dt.log("End date:",i),Dt.log("First 5 dates:",R.slice(0,5)),Dt.log("Last 5 dates:",R.slice(-5)),Dt.log("========================");const k=R.length,M=e*k,$=t.map(ne=>{const ie=E.find(Pe=>Pe.schemeCode===ne.id);if(Dt.log(`Processing fund ${ne.id}:`,ie),!ie)throw new Error(`No NAV data found for fund: ${ne.name} (${ne.id})`);if(ie.navData.length===0)throw new Error(`NAV data is empty for fund: ${ne.name}. Try selecting a different date range.`);let fe=0,se=0;const he=[];R.forEach(({plannedDate:Pe,actualDate:Ge})=>{const Te=Wn(ie.navData,Pe);if(Te&&Te.nav>0){const ze=e*(ne.weightage/100),Ue=ze/Te.nav;fe+=Ue,se+=ze,he.push({plannedDate:Pe,actualDate:Te.date,invested:se,units:fe,nav:Te.nav,value:fe*Te.nav})}});const oe=ms(ie.navData,i),ae=fe*(oe?.nav||0),xe=ae-se,we=se>0?xe/se*100:0,Y=eg(n,i),ge=rd(se,ae,Y),De=[...he.map(Pe=>({date:new Date(Pe.actualDate),amount:-(e*(ne.weightage/100))})),{date:new Date(i),amount:ae}],Fe=Ic(De);return{fundId:ne.id,fundName:ne.name,weightage:ne.weightage,totalInvested:se,units:fe,currentValue:ae,profit:xe,profitPercentage:we,cagr:ge,xirr:Fe}}),F=$.reduce((ne,ie)=>ne+ie.totalInvested,0),z=$.reduce((ne,ie)=>ne+ie.currentValue,0),W=z-F,q=F>0?W/F*100:0,ee=eg(n,i),de=rd(F,z,ee),B=[...R.map(({actualDate:ne})=>({date:new Date(ne),amount:-e})),{date:new Date(i),amount:z}],G=Ic(B);Dt.log("Portfolio Metrics:",{invested:F,value:z,profit:W,cagr:de,xirr:G});const Z=new Map;t.forEach(ne=>{Z.set(ne.id,[])}),R.forEach(({plannedDate:ne,actualDate:ie},fe)=>{t.forEach(se=>{const he=E.find(oe=>oe.schemeCode===se.id);if(he){let oe=Wn(he.navData,ne);if(oe||(oe=Wn(he.navData,ie),Dt.log(`[Unit Tracking ${fe}] No NAV for planned ${ne}, using actual ${ie}, found: ${oe?.date}`)),oe){const ae=e*(se.weightage/100),xe=ae/oe.nav,we=Z.get(se.id),Y=we.length>0?we[we.length-1].units:0,ge=we.length>0?we[we.length-1].invested:0;we.push({date:ie,units:Y+xe,invested:ge+ae,nav:oe.nav})}else Dt.log(`[Unit Tracking ${fe}] ERROR - No NAV found for planned: ${ne}, actual: ${ie}`)}})});const te=R.map(({actualDate:ne,plannedDate:ie},fe)=>{const se=fe+1,he=e*se,oe=new Date(ne),ae={date:oe.toLocaleDateString("en-IN",{month:"short",year:"numeric"}),fullDate:oe.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),invested:he};let xe=0;return t.forEach(we=>{const Y=E.find(De=>De.schemeCode===we.id),ge=Z.get(we.id);if(Y&&ge&&ge[fe]){const De=ge[fe].nav,Fe=ge[fe].units*De;fe===R.length-1&&Dt.log(`[Chart Last Point] Date: ${ne}, Units: ${ge[fe].units}, NAV: ${De}, Value: ${Fe}`),ae[we.name]=Fe,xe+=Fe}}),ae["Bucket Performance"]=xe,ae});Dt.log("=== CHART DATA ==="),Dt.log("Total chart points:",te.length),Dt.log("First chart point:",te[0]),Dt.log("Last chart point:",te[te.length-1]),Dt.log("=================="),l({totalInvested:F,currentValue:z,profit:W,profitPercentage:q,cagr:de,xirr:G,installments:R.length,fundResults:$,chartData:te}),d(!1)}catch(C){g(C.message||"An unexpected error occurred during calculation."),d(!1)}}},_=async()=>{if(o){p(!0);try{let C=h;C||(C=await Hd(t)),TO({...o,inputs:{monthlyInvestment:e,startDate:n,endDate:i,funds:t.map(E=>({name:E.name,weightage:E.weightage}))},rollingReturns:C})}catch(C){console.error("Error generating report:",C),TO({...o,inputs:{monthlyInvestment:e,startDate:n,endDate:i,funds:t.map(E=>({name:E.name,weightage:E.weightage}))}})}finally{p(!1)}}},A=t.reduce((C,E)=>C+E.weightage,0)===100;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Ve,{className:"p-4 sm:p-6",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"SIP Calculator"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"monthly-investment",children:"Monthly Investment ()"}),u.jsx(Tt,{id:"monthly-investment",type:"number",value:e,onChange:C=>{const E=Number(C.target.value);r(E>=0?E:0)},placeholder:"10000",min:"100",step:"100"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"start-date",children:"Start Date"}),u.jsx(Tt,{id:"start-date",type:"date",value:n,onChange:C=>{const E=C.target.value;E<=Br()&&(a(E),i&&E>i&&s(E))},min:b||void 0,max:Br()}),b&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Earliest available: ",new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"end-date",children:"End Date"}),u.jsx(Tt,{id:"end-date",type:"date",value:i,onChange:C=>{const E=C.target.value;E<=Br()&&(!n||E>=n)&&s(E)},min:n||void 0,max:Br()}),n&&i&&n>i&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:"End date must be after start date"})]})]}),u.jsx(Ct,{onClick:N,disabled:!A||c||t.length===0,className:"w-full bg-black hover:bg-gray-800 text-white",children:c?"Calculating...":"Calculate SIP"}),!A&&u.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Please ensure portfolio allocation totals 100%"})]}),c&&u.jsxs(Ve,{className:"p-8 sm:p-10 md:p-12 text-center border-slate-200 mt-6",children:[u.jsx(Sa,{className:"w-10 h-10 sm:w-12 sm:h-12 animate-spin text-blue-600 mx-auto mb-3 sm:mb-4"}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Calculating SIP Returns..."}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"This may take a few moments while we fetch NAV data and calculate returns"})]}),m&&u.jsx(Ve,{className:"p-4 bg-red-50 border-red-200",children:u.jsx("p",{className:"text-red-800",children:m})}),o&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-end",children:u.jsxs(Ct,{variant:"outline",onClick:_,disabled:f,className:"flex items-center gap-2 border-slate-300 text-slate-700 hover:bg-slate-50",children:[f?u.jsx(Sa,{className:"h-4 w-4 animate-spin"}):u.jsx(Ec,{className:"h-4 w-4"}),f?"Generating...":"Download Report"]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 mb-6",children:[u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1",children:"Total Invested"}),u.jsx("div",{className:"text-lg sm:text-2xl font-bold text-slate-900",children:gc(o.totalInvested)}),u.jsxs("div",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),o.installments," installments"]})]}),u.jsxs(Ve,{className:"p-5 bg-gradient-to-br from-indigo-50 to-indigo-100 border-2 border-indigo-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-1",children:"Current Value"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900",children:gc(o.currentValue)}),u.jsx("div",{className:"text-xs text-indigo-600 mt-2",children:"Portfolio worth"})]}),u.jsxs(Ve,{className:`p-5 border-2 shadow-lg hover:shadow-xl transition-shadow ${o.profit>=0?"bg-gradient-to-br from-green-50 to-emerald-100 border-green-200":"bg-gradient-to-br from-red-50 to-rose-100 border-red-200"}`,children:[u.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-1 ${o.profit>=0?"text-green-700":"text-red-700"}`,children:"Profit/Loss"}),u.jsxs("div",{className:`text-2xl font-bold flex items-center gap-2 ${o.profit>=0?"text-green-700":"text-red-700"}`,children:[o.profit>=0?u.jsx(oa,{className:"h-5 w-5"}):u.jsx(m0,{className:"h-5 w-5"}),gc(o.profit)]}),u.jsxs("div",{className:`text-xs mt-2 ${o.profit>=0?"text-green-600":"text-red-600"}`,children:[o.profitPercentage>=0?"+":"",o.profitPercentage.toFixed(2),"% returns"]})]}),u.jsxs(Ve,{className:"p-5 bg-gradient-to-br from-amber-50 to-orange-100 border-2 border-amber-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-amber-700 uppercase tracking-wide mb-1",children:"CAGR"}),u.jsxs("div",{className:`text-2xl font-bold ${o.cagr>=0?"text-green-700":"text-red-700"}`,children:[o.cagr>=0?"+":"",o.cagr.toFixed(2),"%"]}),u.jsx("div",{className:"text-xs text-amber-600 mt-2",children:"Annualized return"})]}),u.jsxs(Ve,{className:"p-5 bg-gradient-to-br from-purple-50 to-violet-100 border-2 border-purple-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide mb-1",children:"XIRR"}),u.jsxs("div",{className:`text-2xl font-bold ${o.xirr>=0?"text-green-700":"text-red-700"}`,children:[o.xirr>=0?"+":"",o.xirr.toFixed(2),"%"]}),u.jsx("div",{className:"text-xs text-purple-600 mt-2",children:"Internal rate"})]})]}),u.jsx("div",{className:"mb-6",children:u.jsx(lA,{funds:t,onMetricsCalculated:v})}),u.jsxs(Ve,{className:"p-4 sm:p-6 border-2 border-slate-200 shadow-xl",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 sm:mb-6",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Performance Over Time"}),u.jsxs(tr,{variant:"outline",className:"text-blue-700 border-blue-300 bg-blue-50 text-xs sm:text-sm w-fit",children:[o.chartData.length," data points"]})]}),u.jsx("div",{className:"w-full h-[300px] sm:h-[450px]",children:u.jsx(U0,{width:"100%",height:"100%",children:u.jsxs(oA,{data:o.chartData,children:[u.jsx(pp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),u.jsx(Yl,{dataKey:"date",tick:{fontSize:12},tickLine:!1}),u.jsx(Xl,{tickFormatter:C=>`${(C/1e3).toFixed(0)}K`,tick:{fontSize:12},tickLine:!1}),u.jsx(hi,{formatter:(C,E)=>[gc(C),E],labelFormatter:(C,E)=>E&&E.length>0?`Investment Date: ${E[0].payload.fullDate}`:C,contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px"}}),u.jsx(Vs,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),u.jsx(gi,{type:"monotone",dataKey:"invested",stroke:"#6b7280",strokeWidth:2,strokeDasharray:"5 5",name:"Total Invested",dot:!1}),u.jsx(gi,{type:"monotone",dataKey:"Bucket Performance",stroke:"#1f2937",strokeWidth:3,name:"Bucket Performance",dot:!1})]})})})]}),u.jsxs(Ve,{className:"p-4 sm:p-6 border-2 border-slate-200 shadow-xl",children:[u.jsxs("div",{className:"mb-4 sm:mb-6",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-900 mb-2",children:"Individual Fund Performance"}),u.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Detailed breakdown of each fund's contribution to your portfolio"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{children:[u.jsx(at,{className:"text-xs sm:text-sm",children:"Fund Name"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"Total Invested"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"Current Value"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"Profit/Loss"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"% Returns"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"CAGR"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"XIRR"})]})}),u.jsx(Qs,{children:o.fundResults.map((C,E)=>{const R=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],L=R[E%R.length];return u.jsxs(ln,{children:[u.jsx(Ke,{className:"font-medium",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:L}}),C.fundName]})}),u.jsx(Ke,{children:gc(C.totalInvested)}),u.jsx(Ke,{children:gc(C.currentValue)}),u.jsxs(Ke,{className:C.profit>=0?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[C.profit>=0?"+":"",gc(C.profit)]}),u.jsxs(Ke,{className:C.profitPercentage>=0?"text-green-600":"text-red-600",children:[C.profitPercentage>=0?"+":"",C.profitPercentage.toFixed(2),"%"]}),u.jsxs(Ke,{className:C.cagr>=0?"text-black":"text-red-600",children:[C.cagr.toFixed(2),"%"]}),u.jsxs(Ke,{className:C.xirr>=0?"text-black":"text-red-600",children:[C.xirr.toFixed(2),"%"]})]},C.fundId)})})]})})]})]})]})}function she({funds:t}){const[e,r]=j.useState(1e5),[n,a]=j.useState("2020-01-01"),[i,s]=j.useState(Br()),[o,l]=j.useState(null),[c,d]=j.useState(!1),[f,p]=j.useState(!1),[h,v]=j.useState(void 0),[m,g]=j.useState(null),[b,w]=j.useState(null);j.useEffect(()=>{w(null)},[t,e,n,i]),j.useEffect(()=>{if(t.length>0){const E=t.reduce((L,U)=>{const S=new Date(U.launchDate);return S>L?S:L},new Date(t[0].launchDate)),R=E.toISOString().split("T")[0];l(R),new Date(n)<E&&a(R)}else l(null)},[t]);const N=async()=>{if(!c){d(!0),g(null),w(null);try{const E=new Date(n),R=new Date(i);if(E>=R)throw new Error("Start date must be before end date");const L=(R.getTime()-E.getTime())/(1e3*60*60*24*365),U=t.map(W=>W.id);Dt.log("[Lumpsum] Fetching NAV data for funds:",U),Dt.log("[Lumpsum] Date range:",n,"to",i);const S=await Rd(U,n,i);if(S.length===0)throw new Error("No NAV data available for the selected funds in the given period.");Dt.log("[Lumpsum] NAV Responses received:",S.length,"funds");const O=[];let k=0;for(const W of t){const q=S.find(he=>he.schemeCode===W.id);if(!q)throw console.error(`[Lumpsum] No NAV data found for fund: ${W.id}`),new Error(`No NAV data available for ${W.name}`);const ee=e*W.weightage/100,de=Wn(q.navData,n),B=ms(q.navData,i);if(!de||!B)throw new Error(`NAV data not available for ${W.name} in the selected date range`);const G=de.nav,Z=B.nav;Dt.log(`[Lumpsum] ${W.name}: Start NAV (${de.date}) = ${G}, End NAV (${B.date}) = ${Z}`);const te=G>0?ee/G:0,ne=te*Z,ie=ne-ee,fe=ee>0?ie/ee*100:0,se=rd(ee,ne,L);O.push({fundId:W.id,fundName:W.name,investment:ee,unitsPurchased:te,startNAV:G,endNAV:Z,currentValue:ne,profitLoss:ie,percentReturns:fe,cagr:se}),k+=ne}const M=k-e,$=M/e*100,F=rd(e,k,L),z={totalInvestment:e,currentValue:k,absoluteProfit:M,absoluteProfitPercent:$,cagr:F,years:L};Dt.log("[Lumpsum] Calculation complete:",{investment:e,currentValue:k,profit:M,cagr:F.toFixed(2)+"%"}),w({bucketPerformance:z,fundPerformances:O}),d(!1)}catch(E){console.error("[Lumpsum] Calculation error:",E),g(E.message||"An unexpected error occurred during calculation."),d(!1)}}},A=b?b.fundPerformances.map(E=>({name:E.fundName,investment:E.investment,currentValue:E.currentValue,profit:E.profitLoss})):[],C=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#14b8a6","#f97316"];return u.jsx("div",{className:"space-y-6",children:u.jsx(Ve,{className:"bg-white border-slate-200 shadow-sm",children:u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 sm:mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg sm:text-xl text-slate-900 mb-1",children:"Lumpsum Calculator"}),u.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Calculate returns on one-time investment"})]}),u.jsxs(tr,{variant:"outline",className:"text-blue-700 border-blue-200 bg-blue-50 text-xs sm:text-sm w-fit",children:[t.length," ",t.length===1?"Fund":"Funds"," Selected"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(nt,{htmlFor:"investment-amount",children:"Total Investment ()"}),u.jsx(Tt,{id:"investment-amount",type:"number",min:"1000",step:"1000",value:e,onChange:E=>{const R=parseFloat(E.target.value)||0;r(R>=0?R:0)},className:"border-slate-200 focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(nt,{htmlFor:"start-date",children:"Start Date"}),u.jsx(Tt,{id:"start-date",type:"date",value:n,onChange:E=>{const R=E.target.value;R<=Br()&&(a(R),i&&R>i&&s(R))},min:o||void 0,max:Br(),className:"border-slate-200 focus:border-blue-500 focus:ring-blue-500"}),o&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Earliest available: ",new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(nt,{htmlFor:"end-date",children:"End Date"}),u.jsx(Tt,{id:"end-date",type:"date",value:i,max:Br(),onChange:E=>{const R=E.target.value;R<=Br()&&(!n||R>=n)&&s(R)},min:n||void 0,className:"border-slate-200 focus:border-blue-500 focus:ring-blue-500"}),n&&i&&n>i&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:"End date must be after start date"})]})]}),u.jsx(Ct,{onClick:N,disabled:c||t.length===0,className:"w-full bg-black hover:bg-gray-800 text-white",children:c?"Calculating...":"Calculate"}),c&&u.jsxs(Ve,{className:"p-8 sm:p-10 md:p-12 text-center border-slate-200 mt-6",children:[u.jsx(Sa,{className:"w-10 h-10 sm:w-12 sm:h-12 animate-spin text-blue-600 mx-auto mb-3 sm:mb-4"}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Calculating Lumpsum Returns..."}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"This may take a few moments while we fetch NAV data and calculate returns"})]}),m&&u.jsx(Ve,{className:"p-4 bg-red-50 border-red-200 mb-6",children:u.jsx("p",{className:"text-red-800",children:m})}),b&&u.jsxs("div",{className:"space-y-6 mt-6",children:[u.jsx("div",{className:"flex justify-end",children:u.jsxs(Ct,{variant:"outline",onClick:async()=>{if(b){p(!0);try{let E=h;E||(E=await Hd(t)),OO({...b,inputs:{investmentAmount:e,startDate:n,endDate:i,funds:t.map(R=>({name:R.name,weightage:R.weightage}))},rollingReturns:E})}catch(E){console.error("Error generating report:",E),OO({...b,inputs:{investmentAmount:e,startDate:n,endDate:i,funds:t.map(R=>({name:R.name,weightage:R.weightage}))}})}finally{p(!1)}}},disabled:f,className:"flex items-center gap-2 border-slate-300 text-slate-700 hover:bg-slate-50",children:[f?u.jsx(Sa,{className:"h-4 w-4 animate-spin"}):u.jsx(Ec,{className:"h-4 w-4"}),f?"Generating...":"Download Report"]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1",children:"Total Investment"}),u.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-slate-900",children:["",b.bucketPerformance.totalInvestment.toLocaleString("en-IN",{maximumFractionDigits:0})]}),u.jsx("div",{className:"text-xs text-blue-600 mt-2",children:"One-time lumpsum"})]}),u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-indigo-50 to-indigo-100 border-2 border-indigo-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-1",children:"Current Bucket Value"}),u.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-slate-900",children:["",b.bucketPerformance.currentValue.toLocaleString("en-IN",{maximumFractionDigits:0})]}),u.jsx("div",{className:"text-xs text-indigo-600 mt-2",children:"Portfolio worth"})]}),u.jsxs(Ve,{className:`p-3 sm:p-5 border-2 shadow-lg hover:shadow-xl transition-shadow ${b.bucketPerformance.absoluteProfit>=0?"bg-gradient-to-br from-green-50 to-emerald-100 border-green-200":"bg-gradient-to-br from-red-50 to-rose-100 border-red-200"}`,children:[u.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-1 ${b.bucketPerformance.absoluteProfit>=0?"text-green-700":"text-red-700"}`,children:"Absolute Profit"}),u.jsxs("div",{className:`text-lg sm:text-2xl font-bold flex items-center gap-2 ${b.bucketPerformance.absoluteProfit>=0?"text-green-700":"text-red-700"}`,children:[b.bucketPerformance.absoluteProfit>=0?u.jsx(oa,{className:"h-4 w-4 sm:h-5 sm:w-5"}):u.jsx(m0,{className:"h-4 w-4 sm:h-5 sm:w-5"}),b.bucketPerformance.absoluteProfitPercent.toFixed(2),"%"]}),u.jsxs("div",{className:`text-xs mt-2 ${b.bucketPerformance.absoluteProfit>=0?"text-green-600":"text-red-600"}`,children:[b.bucketPerformance.absoluteProfit>=0?"+":"","",Math.abs(b.bucketPerformance.absoluteProfit).toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-purple-50 to-violet-100 border-2 border-purple-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide mb-1",children:"CAGR"}),u.jsxs("div",{className:`text-lg sm:text-2xl font-bold ${b.bucketPerformance.cagr>=0?"text-green-700":"text-red-700"}`,children:[b.bucketPerformance.cagr>=0?"+":"",b.bucketPerformance.cagr.toFixed(2),"%"]}),u.jsxs("div",{className:"text-xs text-purple-600 mt-2",children:["Over ",b.bucketPerformance.years.toFixed(1)," years"]})]})]}),u.jsx("div",{className:"mb-6",children:u.jsx(lA,{funds:t,onMetricsCalculated:v})}),u.jsx(Ve,{className:"border-2 border-slate-200 shadow-xl",children:u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"mb-4 sm:mb-6",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-900 mb-2",children:"Fund-wise Performance"}),u.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Detailed breakdown of each fund's contribution to your portfolio"})]}),u.jsx("div",{className:"rounded-lg border border-slate-200 overflow-x-auto",children:u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{className:"bg-slate-50 hover:bg-slate-50",children:[u.jsx(at,{className:"text-slate-700 text-xs sm:text-sm",children:"Fund Name"}),u.jsx(at,{className:"text-slate-700 text-right text-xs sm:text-sm",children:"Investment"}),u.jsx(at,{className:"text-slate-700 text-right text-xs sm:text-sm",children:"Units Purchased"}),u.jsx(at,{className:"text-slate-700 text-right text-xs sm:text-sm",children:"Start NAV"}),u.jsx(at,{className:"text-slate-700 text-right text-xs sm:text-sm",children:"End NAV"}),u.jsx(at,{className:"text-slate-700 text-right text-xs sm:text-sm",children:"Current Value"}),u.jsx(at,{className:"text-slate-700 text-right text-xs sm:text-sm",children:"Profit/Loss"}),u.jsx(at,{className:"text-slate-700 text-right text-xs sm:text-sm",children:"Returns %"}),u.jsx(at,{className:"text-slate-700 text-right text-xs sm:text-sm",children:"CAGR"})]})}),u.jsxs(Qs,{children:[b.fundPerformances.map((E,R)=>u.jsxs(ln,{className:"hover:bg-slate-50",children:[u.jsx(Ke,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C[R%C.length]}}),u.jsx("span",{className:"text-slate-900",children:E.fundName})]})}),u.jsxs(Ke,{className:"text-right text-slate-900",children:["",E.investment.toLocaleString("en-IN",{maximumFractionDigits:0})]}),u.jsx(Ke,{className:"text-right text-slate-900",children:E.unitsPurchased.toLocaleString("en-IN",{maximumFractionDigits:2})}),u.jsxs(Ke,{className:"text-right text-slate-900",children:["",E.startNAV.toLocaleString("en-IN",{maximumFractionDigits:2})]}),u.jsxs(Ke,{className:"text-right text-slate-900",children:["",E.endNAV.toLocaleString("en-IN",{maximumFractionDigits:2})]}),u.jsxs(Ke,{className:"text-right text-slate-900",children:["",E.currentValue.toLocaleString("en-IN",{maximumFractionDigits:0})]}),u.jsxs(Ke,{className:`text-right ${E.profitLoss>=0?"text-green-700":"text-red-700"}`,children:[E.profitLoss>=0?"+":"","",E.profitLoss.toLocaleString("en-IN",{maximumFractionDigits:0})]}),u.jsxs(Ke,{className:`text-right ${E.percentReturns>=0?"text-green-700":"text-red-700"}`,children:[E.percentReturns>=0?"+":"",E.percentReturns.toFixed(2),"%"]}),u.jsxs(Ke,{className:"text-right text-slate-900",children:[E.cagr.toFixed(2),"%"]})]},E.fundId)),u.jsxs(ln,{className:"bg-blue-50 hover:bg-blue-100 font-medium",children:[u.jsx(Ke,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-900"}),u.jsx("span",{className:"text-slate-900",children:"Bucket Total"})]})}),u.jsxs(Ke,{className:"text-right text-slate-900",children:["",b.bucketPerformance.totalInvestment.toLocaleString("en-IN",{maximumFractionDigits:0})]}),u.jsx(Ke,{className:"text-right text-slate-600",children:""}),u.jsx(Ke,{className:"text-right text-slate-600",children:""}),u.jsx(Ke,{className:"text-right text-slate-600",children:""}),u.jsxs(Ke,{className:"text-right text-slate-900",children:["",b.bucketPerformance.currentValue.toLocaleString("en-IN",{maximumFractionDigits:0})]}),u.jsxs(Ke,{className:`text-right ${b.bucketPerformance.absoluteProfit>=0?"text-green-700":"text-red-700"}`,children:[b.bucketPerformance.absoluteProfit>=0?"+":"","",b.bucketPerformance.absoluteProfit.toLocaleString("en-IN",{maximumFractionDigits:0})]}),u.jsxs(Ke,{className:`text-right ${b.bucketPerformance.absoluteProfitPercent>=0?"text-green-700":"text-red-700"}`,children:[b.bucketPerformance.absoluteProfitPercent>=0?"+":"",b.bucketPerformance.absoluteProfitPercent.toFixed(2),"%"]}),u.jsxs(Ke,{className:"text-right text-slate-900",children:[b.bucketPerformance.cagr.toFixed(2),"%"]})]})]})]})})]})}),u.jsxs(Ve,{className:"p-6 border-2 border-slate-200 shadow-xl",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Investment vs Current Value Comparison"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Visual representation of your portfolio growth"})]}),u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx("div",{className:"w-full h-[300px] sm:h-[400px]",children:u.jsx(U0,{width:"100%",height:"100%",children:u.jsxs(kce,{data:A,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[u.jsx(pp,{strokeDasharray:"3 3",stroke:"#e2e8f0",horizontal:!1}),u.jsx(Yl,{type:"number",stroke:"#64748b",tick:{fontSize:12},tickFormatter:E=>`${(E/1e3).toFixed(0)}k`}),u.jsx(Xl,{type:"category",dataKey:"name",stroke:"#64748b",tick:{fontSize:11},width:150}),u.jsx(hi,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"8px"},formatter:E=>`${E.toLocaleString("en-IN",{maximumFractionDigits:0})}`}),u.jsx(Vs,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(ql,{dataKey:"investment",fill:"#94a3b8",name:"Investment",radius:[0,8,8,0],barSize:20}),u.jsx(ql,{dataKey:"currentValue",name:"Current Value",radius:[0,8,8,0],barSize:20,children:A.map((E,R)=>u.jsx(AS,{fill:C[R%C.length]},`cell-${R}`))})]})})})}),u.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:b.fundPerformances.map((E,R)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:C[R%C.length]}}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs text-slate-600 truncate",children:E.fundName}),u.jsxs("div",{className:`text-sm ${E.percentReturns>=0?"text-green-700":"text-red-700"}`,children:[E.percentReturns>=0?"+":"",E.percentReturns.toFixed(1),"%"]})]})]},E.fundId))})})]})]}),!b&&u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h3",{className:"text-slate-900 mb-2",children:"Ready to Calculate"}),u.jsx("p",{className:"text-slate-600",children:"Enter investment details and click Calculate to see lumpsum performance"})]})]})})})}const is=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t);function ohe({funds:t}){const[e,r]=j.useState(1e4),[n,a]=j.useState("2020-01-01"),[i,s]=j.useState(Br()),[o,l]=j.useState(null),[c,d]=j.useState(!1),[f,p]=j.useState(2e4),[h,v]=j.useState(""),[m,g]=j.useState("weightage"),[b,w]=j.useState(""),[N,_]=j.useState(null),[A,C]=j.useState(!1),[E,R]=j.useState(!1),[L,U]=j.useState(void 0),[S,O]=j.useState(null);j.useEffect(()=>{_(null)},[t,e,n,i,c,f,h,m,b]),j.useEffect(()=>{if(t.length>0){const F=t.map(z=>new Date(z.launchDate)).filter(z=>!isNaN(z.getTime()));if(F.length>0){const z=new Date(Math.max(...F.map(q=>q.getTime()))),W=z.toISOString().split("T")[0];if(l(W),new Date(n)<z&&a(W),!h&&n&&i){const q=new Date(n),ee=new Date(i),de=new Date((q.getTime()+ee.getTime())/2);v(de.toISOString().split("T")[0])}}!b&&t.length>0&&w(t[0].id)}else l(null)},[t]);const k=async()=>{if(!A){C(!0),O(null),_(null);try{if(c){const ge=new Date(h),De=new Date(n),Fe=new Date(i);if(ge<De||ge>Fe)throw new Error("Lumpsum date must be between SIP start and end dates")}const F=t.map(ge=>ge.id);Dt.log("Fetching NAV data for funds:",F),Dt.log("Date range:",n,"to",i);const z=await Rd(F,n,i);if(Dt.log("NAV Responses received:",z),z.length===0)throw new Error("No NAV data available for the selected funds in the given period.");const W=[];let q=n;const ee=new Date(i);let de=0;for(;;){de++;const ge=new Date(q),De=Math.ceil((ge.getTime()-ee.getTime())/(1e3*60*60*24));if(ge.getTime()>ee.getTime()+768*60*60*1e3){Dt.log(`[SIP Loop] STOPPED - Planned date too far: ${q} (${De} days from end)`);break}const Fe=z[0];let Pe=Wn(Fe.navData,q);if(!Pe){const Ge=ge.getFullYear(),Te=ge.getMonth(),ze=ee.getFullYear(),Ue=ee.getMonth();if(Ge===ze&&Te===Ue){const Ye=`${ze}-${String(Ue+1).padStart(2,"0")}-01`;Pe=Wn(Fe.navData,Ye)}}if(Pe){const Ge=new Date(Pe.date),Te=Math.ceil((Ge.getTime()-ee.getTime())/(1e3*60*60*24)),ze=ge.getFullYear(),Ue=ge.getMonth(),Ye=ee.getFullYear(),Ze=ee.getMonth();if(ze<Ye||ze===Ye&&Ue<=Ze||Te>=0&&Te<=7){W.push({plannedDate:q,actualDate:Pe.date});const Ce=new Date(Pe.date),Ae=Ce.getFullYear(),We=Ce.getMonth();if(Ae===Ye&&We===Ze)break;q=eh(q,1)}else break}else q=eh(q,1)}Dt.log("SIP Dates generated:",W.length,"months");const B=e*W.length,G=c?f:0,Z=B+G,te=t.map(ge=>{const De=z.find(qe=>qe.schemeCode===ge.id);if(!De)throw new Error(`No NAV data found for fund: ${ge.name} (${ge.id})`);if(De.navData.length===0)throw new Error(`NAV data is empty for fund: ${ge.name}.`);let Fe=0,Pe=0,Ge=0;const Te=[];if(W.forEach(({plannedDate:qe,actualDate:rt})=>{const st=Wn(De.navData,qe);if(st&&st.nav>0){const mt=e*(ge.weightage/100),Nt=mt/st.nav;Fe+=Nt,Pe+=mt,Te.push({date:st.date,invested:Pe+Ge,units:Fe,nav:st.nav,value:Fe*st.nav,type:"sip"})}}),c){const qe=Wn(De.navData,h);if(qe&&qe.nav>0){let rt=0;if(m==="weightage"?rt=f*(ge.weightage/100):m==="specific"&&ge.id===b&&(rt=f),rt>0){const st=rt/qe.nav;Fe+=st,Ge=rt;const mt=Te.findIndex(Nt=>Nt.date===qe.date);mt>=0?(Te[mt].units=Fe,Te[mt].invested+=rt,Te[mt].value=Fe*qe.nav):Te.push({date:qe.date,invested:Pe+Ge,units:Fe,nav:qe.nav,value:Fe*qe.nav,type:"lumpsum"})}}}Te.sort((qe,rt)=>new Date(qe.date).getTime()-new Date(rt.date).getTime());const ze=Pe+Ge,Ue=ms(De.navData,i),Ye=Fe*(Ue?.nav||0),Ze=Ye-ze,wt=ze>0?Ze/ze*100:0,Pt=eg(n,i),Ce=rd(ze,Ye,Pt),Ae=[...W.map(({actualDate:qe})=>({date:new Date(qe),amount:-(e*(ge.weightage/100))}))];if(c){const qe=Wn(De.navData,h);if(qe){let rt=0;m==="weightage"?rt=f*(ge.weightage/100):m==="specific"&&ge.id===b&&(rt=f),rt>0&&Ae.push({date:new Date(qe.date),amount:-rt})}}Ae.push({date:new Date(i),amount:Ye}),Ae.sort((qe,rt)=>qe.date.getTime()-rt.date.getTime());const We=Ic(Ae);return{fundId:ge.id,fundName:ge.name,weightage:ge.weightage,totalInvested:ze,sipInvested:Pe,lumpsumInvested:Ge,units:Fe,currentValue:Ye,profit:Ze,profitPercentage:wt,cagr:Ce,xirr:We,investmentData:Te}}),ne=te.reduce((ge,De)=>ge+De.totalInvested,0),ie=te.reduce((ge,De)=>ge+De.currentValue,0),fe=ie-ne,se=ne>0?fe/ne*100:0,he=eg(n,i),oe=rd(ne,ie,he),ae=[...W.map(({actualDate:ge})=>({date:new Date(ge),amount:-e}))];if(c){const ge=z[0],De=Wn(ge.navData,h);De&&ae.push({date:new Date(De.date),amount:-f})}ae.push({date:new Date(i),amount:ie}),ae.sort((ge,De)=>ge.date.getTime()-De.date.getTime());const xe=Ic(ae),we=new Map;t.forEach(ge=>{we.set(ge.id,[])}),W.forEach(({plannedDate:ge,actualDate:De},Fe)=>{t.forEach(Pe=>{const Ge=z.find(Te=>Te.schemeCode===Pe.id);if(Ge){let Te=Wn(Ge.navData,ge);if(Te||(Te=Wn(Ge.navData,De)),Te){const ze=e*(Pe.weightage/100),Ue=ze/Te.nav,Ye=we.get(Pe.id),Ze=Ye.length>0?Ye[Ye.length-1].units:0,wt=Ye.length>0?Ye[Ye.length-1].invested:0;Ye.push({date:De,units:Ze+Ue,invested:wt+ze,nav:Te.nav})}}})}),c&&t.forEach(ge=>{const De=z.find(Fe=>Fe.schemeCode===ge.id);if(De){const Fe=Wn(De.navData,h);if(Fe){let Pe=0;if(m==="weightage"?Pe=f*(ge.weightage/100):m==="specific"&&ge.id===b&&(Pe=f),Pe>0){const Ge=Pe/Fe.nav,Te=we.get(ge.id),ze=new Date(Fe.date);let Ue=Te.findIndex(Ye=>new Date(Ye.date)>=ze);if(Ue===-1){const Ye=Te[Te.length-1]||{units:0,invested:0};Te.push({date:Fe.date,units:Ye.units+Ge,invested:Ye.invested+Pe,nav:Fe.nav})}else if(Te[Ue].date===Fe.date)Te[Ue].units+=Ge,Te[Ue].invested+=Pe;else{const Ye=Ue>0?Te[Ue-1]:{units:0,invested:0};Te.splice(Ue,0,{date:Fe.date,units:Ye.units+Ge,invested:Ye.invested+Pe,nav:Fe.nav});for(let Ze=Ue+1;Ze<Te.length;Ze++)Te[Ze].units+=Ge,Te[Ze].invested+=Pe}}}}});const Y=W.map(({actualDate:ge},De)=>{const Fe=De+1;let Ge=e*Fe;c&&new Date(h)<=new Date(ge)&&(Ge+=f);const Te=new Date(ge),ze={date:Te.toLocaleDateString("en-IN",{month:"short",year:"numeric"}),fullDate:Te.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),invested:Ge};let Ue=0;return t.forEach(Ye=>{const Ze=we.get(Ye.id);if(Ze&&Ze[De]){const wt=Ze[De].nav,Pt=Ze[De].units*wt;ze[Ye.name]=Pt,Ue+=Pt}}),ze["Bucket Performance"]=Ue,ze});_({totalInvested:Z,sipInvested:B,lumpsumInvested:G,currentValue:ie,profit:fe,profitPercentage:se,cagr:oe,xirr:xe,installments:W.length,fundResults:te.map(ge=>({fundId:ge.fundId,fundName:ge.fundName,weightage:ge.weightage,totalInvested:ge.totalInvested,sipInvested:ge.sipInvested,lumpsumInvested:ge.lumpsumInvested,units:ge.units,currentValue:ge.currentValue,profit:ge.profit,profitPercentage:ge.profitPercentage,cagr:ge.cagr,xirr:ge.xirr})),chartData:Y}),C(!1)}catch(F){O(F.message||"An unexpected error occurred during calculation."),C(!1)}}},M=async()=>{if(N){R(!0);try{let F=L;F||(F=await Hd(t)),kO({...N,inputs:{monthlyInvestment:e,lumpsumAmount:c?f:void 0,lumpsumDate:c?h:void 0,startDate:n,endDate:i,funds:t.map(z=>({name:z.name,weightage:z.weightage}))},rollingReturns:F})}catch(F){console.error("Error generating report:",F),kO({...N,inputs:{monthlyInvestment:e,lumpsumAmount:c?f:void 0,lumpsumDate:c?h:void 0,startDate:n,endDate:i,funds:t.map(z=>({name:z.name,weightage:z.weightage}))}})}finally{R(!1)}}},$=t.reduce((F,z)=>F+z.weightage,0)===100;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Ve,{className:"p-4 sm:p-6",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"SIP + Lumpsum Calculator"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-3 text-slate-700",children:"SIP Investment"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"monthly-investment",children:"Monthly Investment ()"}),u.jsx(Tt,{id:"monthly-investment",type:"number",value:e,onChange:F=>{const z=Number(F.target.value);r(z>=0?z:0)},placeholder:"10000",min:"100",step:"100"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"start-date",children:"Start Date"}),u.jsx(Tt,{id:"start-date",type:"date",value:n,onChange:F=>{const z=F.target.value;z<=Br()&&(a(z),i&&z>i&&s(z),c&&h&&z>h&&v(z))},min:o||void 0,max:Br()}),o&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Earliest: ",new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"end-date",children:"End Date"}),u.jsx(Tt,{id:"end-date",type:"date",value:i,onChange:F=>{const z=F.target.value;z<=Br()&&(!n||z>=n)&&(s(z),c&&h&&z<h&&v(z))},min:n||void 0,max:Br()}),n&&i&&n>i&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:"End date must be after start date"})]})]})]}),u.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-medium text-slate-700",children:"Lumpsum Investment (Optional)"}),u.jsxs(Ct,{onClick:()=>d(!c),variant:c?"default":"outline",size:"sm",className:"flex items-center gap-2",children:[c?u.jsx(Jk,{className:"h-4 w-4"}):u.jsx(p0,{className:"h-4 w-4"}),c?"Remove Lumpsum":"Add Lumpsum"]})]}),c&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"lumpsum-amount",children:"Lumpsum Amount ()"}),u.jsx(Tt,{id:"lumpsum-amount",type:"number",value:f,onChange:F=>{const z=Number(F.target.value);p(z>=0?z:0)},placeholder:"20000",min:"1000",step:"1000"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"lumpsum-date",children:"Investment Date"}),u.jsx(Tt,{id:"lumpsum-date",type:"date",value:h,onChange:F=>{const z=F.target.value;z<=Br()&&(!n||z>=n)&&(!i||z<=i)&&v(z)},min:n||void 0,max:i||Br()}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be between SIP start and end dates"}),n&&i&&h&&(h<n||h>i)&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Date must be between start and end dates"})]})]}),u.jsxs("div",{children:[u.jsx(nt,{children:"Investment Mode"}),u.jsxs("div",{className:"flex gap-4 mt-2",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"lumpsum-mode",value:"weightage",checked:m==="weightage",onChange:F=>g("weightage"),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Distribute by Weightage"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"lumpsum-mode",value:"specific",checked:m==="specific",onChange:F=>g("specific"),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Invest in Specific Fund"})]})]})]}),m==="specific"&&u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"selected-fund",children:"Select Fund"}),u.jsx("select",{id:"selected-fund",value:b,onChange:F=>w(F.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:t.map(F=>u.jsx("option",{value:F.id,children:F.name},F.id))})]})]})]}),u.jsx(Ct,{onClick:k,disabled:!$||A||t.length===0,className:"w-full",children:A?"Calculating...":"Calculate SIP + Lumpsum"}),A&&u.jsxs(Ve,{className:"p-8 sm:p-10 md:p-12 text-center border-slate-200 mt-6",children:[u.jsx(Sa,{className:"w-10 h-10 sm:w-12 sm:h-12 animate-spin text-blue-600 mx-auto mb-3 sm:mb-4"}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Calculating SIP + Lumpsum Returns..."}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"This may take a few moments while we fetch NAV data and calculate returns"})]}),!$&&u.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Please ensure portfolio allocation totals 100%"})]}),S&&u.jsx(Ve,{className:"p-4 bg-red-50 border-red-200",children:u.jsx("p",{className:"text-red-800",children:S})}),N&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-end",children:u.jsxs(Ct,{variant:"outline",onClick:M,disabled:E,className:"flex items-center gap-2 border-slate-300 text-slate-700 hover:bg-slate-50",children:[E?u.jsx(Sa,{className:"h-4 w-4 animate-spin"}):u.jsx(Ec,{className:"h-4 w-4"}),E?"Generating...":"Download Report"]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 mb-6",children:[u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1",children:"Total Invested"}),u.jsx("div",{className:"text-lg sm:text-2xl font-bold text-slate-900",children:is(N.totalInvested)}),u.jsxs("div",{className:"text-xs text-blue-600 mt-2 flex flex-col gap-0.5",children:[u.jsxs("span",{children:["SIP: ",is(N.sipInvested)]}),c&&u.jsxs("span",{children:["Lumpsum: ",is(N.lumpsumInvested)]})]})]}),u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-indigo-50 to-indigo-100 border-2 border-indigo-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-1",children:"Current Value"}),u.jsx("div",{className:"text-lg sm:text-2xl font-bold text-slate-900",children:is(N.currentValue)}),u.jsx("div",{className:"text-xs text-indigo-600 mt-2",children:"Portfolio worth"})]}),u.jsxs(Ve,{className:`p-3 sm:p-5 border-2 shadow-lg hover:shadow-xl transition-shadow ${N.profit>=0?"bg-gradient-to-br from-green-50 to-emerald-100 border-green-200":"bg-gradient-to-br from-red-50 to-rose-100 border-red-200"}`,children:[u.jsx("div",{className:`text-xs font-semibold uppercase tracking-wide mb-1 ${N.profit>=0?"text-green-700":"text-red-700"}`,children:"Profit/Loss"}),u.jsxs("div",{className:`text-lg sm:text-2xl font-bold flex items-center gap-2 ${N.profit>=0?"text-green-700":"text-red-700"}`,children:[N.profit>=0?u.jsx(oa,{className:"h-5 w-5"}):u.jsx(m0,{className:"h-5 w-5"}),is(N.profit)]}),u.jsxs("div",{className:`text-xs mt-2 ${N.profit>=0?"text-green-600":"text-red-600"}`,children:[N.profitPercentage>=0?"+":"",N.profitPercentage.toFixed(2),"% returns"]})]}),u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-amber-50 to-orange-100 border-2 border-amber-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-amber-700 uppercase tracking-wide mb-1",children:"CAGR"}),u.jsxs("div",{className:`text-lg sm:text-2xl font-bold ${N.cagr>=0?"text-green-700":"text-red-700"}`,children:[N.cagr>=0?"+":"",N.cagr.toFixed(2),"%"]}),u.jsx("div",{className:"text-xs text-amber-600 mt-2",children:"Annualized return"})]}),u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-purple-50 to-violet-100 border-2 border-purple-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide mb-1",children:"XIRR"}),u.jsxs("div",{className:`text-lg sm:text-2xl font-bold ${N.xirr>=0?"text-green-700":"text-red-700"}`,children:[N.xirr>=0?"+":"",N.xirr.toFixed(2),"%"]}),u.jsx("div",{className:"text-xs text-purple-600 mt-2",children:"Internal rate"})]})]}),u.jsx("div",{className:"mb-6",children:u.jsx(lA,{funds:t,onMetricsCalculated:U})}),u.jsxs(Ve,{className:"p-4 sm:p-6 border-2 border-slate-200 shadow-xl",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 sm:mb-6",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Performance Over Time"}),u.jsxs(tr,{variant:"outline",className:"text-blue-700 border-blue-300 bg-blue-50 text-xs sm:text-sm w-fit",children:[N.chartData.length," data points"]})]}),u.jsx("div",{className:"w-full h-[300px] sm:h-[450px]",children:u.jsx(U0,{width:"100%",height:"100%",children:u.jsxs(oA,{data:N.chartData,children:[u.jsx(pp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),u.jsx(Yl,{dataKey:"date",tick:{fontSize:12},tickLine:!1}),u.jsx(Xl,{tickFormatter:F=>`${(F/1e3).toFixed(0)}K`,tick:{fontSize:12},tickLine:!1}),u.jsx(hi,{formatter:(F,z)=>[is(F),z],labelFormatter:(F,z)=>z&&z.length>0?`Investment Date: ${z[0].payload.fullDate}`:F,contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px"}}),u.jsx(Vs,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),u.jsx(gi,{type:"monotone",dataKey:"invested",stroke:"#6b7280",strokeWidth:2,strokeDasharray:"5 5",name:"Total Invested",dot:!1}),u.jsx(gi,{type:"monotone",dataKey:"Bucket Performance",stroke:"#1f2937",strokeWidth:3,name:"Bucket Performance",dot:!1})]})})})]}),u.jsxs(Ve,{className:"p-4 sm:p-6 border-2 border-slate-200 shadow-xl",children:[u.jsxs("div",{className:"mb-4 sm:mb-6",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-900 mb-2",children:"Individual Fund Performance"}),u.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Detailed breakdown of each fund's contribution"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{children:[u.jsx(at,{className:"text-xs sm:text-sm",children:"Fund Name"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"Total Invested"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"SIP Invested"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"Lumpsum Invested"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"Current Value"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"Profit/Loss"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"% Returns"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"CAGR"}),u.jsx(at,{className:"text-xs sm:text-sm",children:"XIRR"})]})}),u.jsx(Qs,{children:N.fundResults.map((F,z)=>{const W=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],q=W[z%W.length];return u.jsxs(ln,{children:[u.jsx(Ke,{className:"font-medium",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:q}}),F.fundName]})}),u.jsx(Ke,{children:is(F.totalInvested)}),u.jsx(Ke,{className:"text-gray-600",children:is(F.sipInvested)}),u.jsx(Ke,{className:"text-gray-600",children:is(F.lumpsumInvested)}),u.jsx(Ke,{children:is(F.currentValue)}),u.jsxs(Ke,{className:F.profit>=0?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[F.profit>=0?"+":"",is(F.profit)]}),u.jsxs(Ke,{className:F.profitPercentage>=0?"text-green-600":"text-red-600",children:[F.profitPercentage>=0?"+":"",F.profitPercentage.toFixed(2),"%"]}),u.jsxs(Ke,{className:F.cagr>=0?"text-black":"text-red-600",children:[F.cagr.toFixed(2),"%"]}),u.jsxs(Ke,{className:F.xirr>=0?"text-black":"text-red-600",children:[F.xirr.toFixed(2),"%"]})]},F.fundId)})})]})})]})]})]})}function lhe({selectedFunds:t}){const[e,r]=j.useState(null);return t.length<1?u.jsxs(Ve,{className:"p-6 sm:p-8 text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-blue-100 mb-3 sm:mb-4",children:u.jsx(oa,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600"})}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Select Funds First"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-2",children:"Please add at least 1 fund to your portfolio above before selecting an investment type."})]}):u.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx(nt,{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4 block",children:"Select Investment Type"}),u.jsx(tS,{value:e||"",onValueChange:n=>r(n),children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4",children:[u.jsxs("div",{className:`flex items-center space-x-2 sm:space-x-3 p-3 sm:p-4 border-2 rounded-lg cursor-pointer transition-all ${e==="SIP"?"border-blue-600 bg-blue-50":"border-gray-200 hover:bg-gray-50 hover:border-blue-300"}`,onClick:()=>r("SIP"),children:[u.jsx(Il,{value:"SIP",id:"sip"}),u.jsx(nt,{htmlFor:"sip",className:`cursor-pointer font-normal flex-1 text-sm sm:text-base ${e==="SIP"?"font-semibold text-blue-700":""}`,children:"SIP (Systematic Investment Plan)"})]}),u.jsxs("div",{className:`flex items-center space-x-2 sm:space-x-3 p-3 sm:p-4 border-2 rounded-lg cursor-pointer transition-all ${e==="Lumpsum"?"border-blue-600 bg-blue-50":"border-gray-200 hover:bg-gray-50 hover:border-blue-300"}`,onClick:()=>r("Lumpsum"),children:[u.jsx(Il,{value:"Lumpsum",id:"lumpsum"}),u.jsx(nt,{htmlFor:"lumpsum",className:`cursor-pointer font-normal flex-1 text-sm sm:text-base ${e==="Lumpsum"?"font-semibold text-blue-700":""}`,children:"Lumpsum"})]}),u.jsxs("div",{className:`flex items-center space-x-2 sm:space-x-3 p-3 sm:p-4 border-2 rounded-lg cursor-pointer transition-all ${e==="SIPLumpsum"?"border-blue-600 bg-blue-50":"border-gray-200 hover:bg-gray-50 hover:border-blue-300"}`,onClick:()=>r("SIPLumpsum"),children:[u.jsx(Il,{value:"SIPLumpsum",id:"siplumpsum"}),u.jsx(nt,{htmlFor:"siplumpsum",className:`cursor-pointer font-normal flex-1 text-sm sm:text-base ${e==="SIPLumpsum"?"font-semibold text-blue-700":""}`,children:"SIP + Lumpsum"})]})]})})]}),e&&u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsx(Ve,{className:"p-4 sm:p-5 md:p-6 bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200",children:u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:[e==="SIP"&&"SIP Calculator",e==="Lumpsum"&&"Lumpsum Calculator",e==="SIPLumpsum"&&"SIP + Lumpsum Calculator"]}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure your investment and calculate returns"})]})})}),e==="SIP"&&u.jsx(ihe,{funds:t}),e==="Lumpsum"&&u.jsx(she,{funds:t}),e==="SIPLumpsum"&&u.jsx(ohe,{funds:t})]})]})}function che({selectedFunds:t,onAddFund:e,onRemoveFund:r,onWeightageChange:n}){return j.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-slate-50 to-blue-50 py-4 sm:py-6 md:py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-6 sm:mb-8",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6 md:p-8 text-white",children:u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-lg sm:rounded-xl bg-white/20 backdrop-blur-lg flex items-center justify-center flex-shrink-0",children:u.jsx(oa,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold break-words",children:"Investment Plan"}),u.jsx("p",{className:"text-blue-100 mt-1 sm:mt-2 text-sm sm:text-base",children:"Calculate returns for SIP, Lumpsum, and combined investment strategies"})]})]})})}),u.jsx("div",{className:"mb-6 sm:mb-8",children:u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Step 1: Select Your Funds"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"Search and add mutual funds to build your investment portfolio. You can add 1-5 funds."}),u.jsx(ZN,{onSelectFund:e})]})}),t.length>0&&u.jsx("div",{className:"mb-8",children:u.jsx(JN,{funds:t,onRemoveFund:r,onWeightageChange:n})}),t.length>=1&&u.jsxs("div",{children:[u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Step 2: Calculate Investment Returns"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Select an investment strategy and calculate your expected returns based on historical NAV data."})]}),u.jsx("div",{className:"mt-3 sm:mt-4",children:u.jsx(lhe,{selectedFunds:t})})]}),t.length<1&&u.jsxs(Ve,{className:"p-6 sm:p-8 md:p-12 text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-18 sm:h-18 md:w-20 md:h-20 rounded-xl sm:rounded-2xl bg-gradient-to-br from-blue-100 to-indigo-100 mb-4 sm:mb-6 shadow-lg",children:u.jsx(oa,{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 text-blue-600"})}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3 px-2",children:"Select Funds to Get Started"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 max-w-md mx-auto px-2",children:"Add at least 1 fund to your portfolio above to begin calculating investment returns."})]})]})})}function LO(t,[e,r]){return Math.min(r,Math.max(e,t))}var RD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uhe="VisuallyHidden",MD=j.forwardRef((t,e)=>u.jsx(qt.span,{...t,ref:e,style:{...RD,...t.style}}));MD.displayName=uhe;var dhe=MD,fhe=[" ","Enter","ArrowUp","ArrowDown"],hhe=[" ","Enter"],Uc="Select",[pv,mv,phe]=xN(Uc),[Gd]=Vi(Uc,[phe,Ld]),gv=Ld(),[mhe,Zl]=Gd(Uc),[ghe,vhe]=Gd(Uc),DD=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:h,form:v}=t,m=gv(e),[g,b]=j.useState(null),[w,N]=j.useState(null),[_,A]=j.useState(!1),C=Gh(c),[E,R]=Fo({prop:n,defaultProp:a??!1,onChange:i,caller:Uc}),[L,U]=Fo({prop:s,defaultProp:o,onChange:l,caller:Uc}),S=j.useRef(null),O=g?v||!!g.closest("form"):!0,[k,M]=j.useState(new Set),$=Array.from(k).map(F=>F.props.value).join(";");return u.jsx(ON,{...m,children:u.jsxs(mhe,{required:h,scope:e,trigger:g,onTriggerChange:b,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:_,onValueNodeHasChildrenChange:A,contentId:vs(),value:L,onValueChange:U,open:E,onOpenChange:R,dir:C,triggerPointerDownPosRef:S,disabled:p,children:[u.jsx(pv.Provider,{scope:e,children:u.jsx(ghe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(F=>{M(z=>new Set(z).add(F))},[]),onNativeOptionRemove:j.useCallback(F=>{M(z=>{const W=new Set(z);return W.delete(F),W})},[]),children:r})}),O?u.jsxs(o9,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:L,onChange:F=>U(F.target.value),disabled:p,form:v,children:[L===void 0?u.jsx("option",{value:""}):null,Array.from(k)]},$):null]})})};DD.displayName=Uc;var FD="SelectTrigger",BD=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=gv(r),s=Zl(FD,r),o=s.disabled||n,l=lr(e,s.onTriggerChange),c=mv(r),d=j.useRef("touch"),[f,p,h]=c9(m=>{const g=c().filter(N=>!N.disabled),b=g.find(N=>N.value===s.value),w=u9(g,m,b);w!==void 0&&s.onValueChange(w.value)}),v=m=>{o||(s.onOpenChange(!0),h()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(kN,{asChild:!0,...i,children:u.jsx(qt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":l9(s.value)?"":void 0,...a,ref:l,onClick:it(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:it(a.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:it(a.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&fhe.includes(m.key)&&(v(),m.preventDefault())})})})});BD.displayName=FD;var $D="SelectValue",qD=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...o}=t,l=Zl($D,r),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=lr(e,l.onValueNodeChange);return Fn(()=>{c(d)},[c,d]),u.jsx(qt.span,{...o,ref:f,style:{pointerEvents:"none"},children:l9(l.value)?u.jsx(u.Fragment,{children:s}):i})});qD.displayName=$D;var yhe="SelectIcon",zD=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return u.jsx(qt.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});zD.displayName=yhe;var bhe="SelectPortal",UD=t=>u.jsx(Xh,{asChild:!0,...t});UD.displayName=bhe;var Wc="SelectContent",WD=j.forwardRef((t,e)=>{const r=Zl(Wc,t.__scopeSelect),[n,a]=j.useState();if(Fn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Vh.createPortal(u.jsx(HD,{scope:t.__scopeSelect,children:u.jsx(pv.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(VD,{...t,ref:e})});WD.displayName=Wc;var os=10,[HD,Jl]=Gd(Wc),xhe="SelectContentImpl",whe=Tc("SelectContent.RemoveScroll"),VD=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:g,...b}=t,w=Zl(Wc,r),[N,_]=j.useState(null),[A,C]=j.useState(null),E=lr(e,ie=>_(ie)),[R,L]=j.useState(null),[U,S]=j.useState(null),O=mv(r),[k,M]=j.useState(!1),$=j.useRef(!1);j.useEffect(()=>{if(N)return DN(N)},[N]),wN();const F=j.useCallback(ie=>{const[fe,...se]=O().map(ae=>ae.ref.current),[he]=se.slice(-1),oe=document.activeElement;for(const ae of ie)if(ae===oe||(ae?.scrollIntoView({block:"nearest"}),ae===fe&&A&&(A.scrollTop=0),ae===he&&A&&(A.scrollTop=A.scrollHeight),ae?.focus(),document.activeElement!==oe))return},[O,A]),z=j.useCallback(()=>F([R,N]),[F,R,N]);j.useEffect(()=>{k&&z()},[k,z]);const{onOpenChange:W,triggerPointerDownPosRef:q}=w;j.useEffect(()=>{if(N){let ie={x:0,y:0};const fe=he=>{ie={x:Math.abs(Math.round(he.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(he.pageY)-(q.current?.y??0))}},se=he=>{ie.x<=10&&ie.y<=10?he.preventDefault():N.contains(he.target)||W(!1),document.removeEventListener("pointermove",fe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",se,{capture:!0})}}},[N,W,q]),j.useEffect(()=>{const ie=()=>W(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[W]);const[ee,de]=c9(ie=>{const fe=O().filter(oe=>!oe.disabled),se=fe.find(oe=>oe.ref.current===document.activeElement),he=u9(fe,ie,se);he&&setTimeout(()=>he.ref.current.focus())}),B=j.useCallback((ie,fe,se)=>{const he=!$.current&&!se;(w.value!==void 0&&w.value===fe||he)&&(L(ie),he&&($.current=!0))},[w.value]),G=j.useCallback(()=>N?.focus(),[N]),Z=j.useCallback((ie,fe,se)=>{const he=!$.current&&!se;(w.value!==void 0&&w.value===fe||he)&&S(ie)},[w.value]),te=n==="popper"?$5:GD,ne=te===$5?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return u.jsx(HD,{scope:r,content:N,viewport:A,onViewportChange:C,itemRefCallback:B,selectedItem:R,onItemLeave:G,itemTextRefCallback:Z,focusSelectedItem:z,selectedItemText:U,position:n,isPositioned:k,searchRef:ee,children:u.jsx(j0,{as:whe,allowPinchZoom:!0,children:u.jsx(b0,{asChild:!0,trapped:w.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:it(a,ie=>{w.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:u.jsx(Kh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ie=>ie.preventDefault(),...b,...ne,onPlaced:()=>M(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:it(b.onKeyDown,ie=>{const fe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!fe&&ie.key.length===1&&de(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let he=O().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const oe=ie.target,ae=he.indexOf(oe);he=he.slice(ae+1)}setTimeout(()=>F(he)),ie.preventDefault()}})})})})})})});VD.displayName=xhe;var Nhe="SelectItemAlignedPosition",GD=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=Zl(Wc,r),s=Jl(Wc,r),[o,l]=j.useState(null),[c,d]=j.useState(null),f=lr(e,E=>d(E)),p=mv(r),h=j.useRef(!1),v=j.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:b,focusSelectedItem:w}=s,N=j.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&c&&m&&g&&b){const E=i.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),U=b.getBoundingClientRect();if(i.dir!=="rtl"){const oe=U.left-R.left,ae=L.left-oe,xe=E.left-ae,we=E.width+xe,Y=Math.max(we,R.width),ge=window.innerWidth-os,De=LO(ae,[os,Math.max(os,ge-Y)]);o.style.minWidth=we+"px",o.style.left=De+"px"}else{const oe=R.right-U.right,ae=window.innerWidth-L.right-oe,xe=window.innerWidth-E.right-ae,we=E.width+xe,Y=Math.max(we,R.width),ge=window.innerWidth-os,De=LO(ae,[os,Math.max(os,ge-Y)]);o.style.minWidth=we+"px",o.style.right=De+"px"}const S=p(),O=window.innerHeight-os*2,k=m.scrollHeight,M=window.getComputedStyle(c),$=parseInt(M.borderTopWidth,10),F=parseInt(M.paddingTop,10),z=parseInt(M.borderBottomWidth,10),W=parseInt(M.paddingBottom,10),q=$+F+k+W+z,ee=Math.min(g.offsetHeight*5,q),de=window.getComputedStyle(m),B=parseInt(de.paddingTop,10),G=parseInt(de.paddingBottom,10),Z=E.top+E.height/2-os,te=O-Z,ne=g.offsetHeight/2,ie=g.offsetTop+ne,fe=$+F+ie,se=q-fe;if(fe<=Z){const oe=S.length>0&&g===S[S.length-1].ref.current;o.style.bottom="0px";const ae=c.clientHeight-m.offsetTop-m.offsetHeight,xe=Math.max(te,ne+(oe?G:0)+ae+z),we=fe+xe;o.style.height=we+"px"}else{const oe=S.length>0&&g===S[0].ref.current;o.style.top="0px";const xe=Math.max(Z,$+m.offsetTop+(oe?B:0)+ne)+se;o.style.height=xe+"px",m.scrollTop=fe-Z+m.offsetTop}o.style.margin=`${os}px 0`,o.style.minHeight=ee+"px",o.style.maxHeight=O+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,o,c,m,g,b,i.dir,n]);Fn(()=>N(),[N]);const[_,A]=j.useState();Fn(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const C=j.useCallback(E=>{E&&v.current===!0&&(N(),w?.(),v.current=!1)},[N,w]);return u.jsx(Ahe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(qt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});GD.displayName=Nhe;var She="SelectPopperPosition",$5=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=os,...i}=t,s=gv(r);return u.jsx(LN,{...s,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$5.displayName=She;var[Ahe,mA]=Gd(Wc,{}),q5="SelectViewport",KD=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=Jl(q5,r),s=mA(q5,r),o=lr(e,i.onViewportChange),l=j.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(pv.Slot,{scope:r,children:u.jsx(qt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:it(a.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=s;if(p?.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const v=window.innerHeight-os*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),b=Math.max(m,g);if(b<v){const w=b+h,N=Math.min(v,w),_=w-N;f.style.height=N+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});KD.displayName=q5;var YD="SelectGroup",[jhe,_he]=Gd(YD),Phe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=vs();return u.jsx(jhe,{scope:r,id:a,children:u.jsx(qt.div,{role:"group","aria-labelledby":a,...n,ref:e})})});Phe.displayName=YD;var XD="SelectLabel",ZD=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=_he(XD,r);return u.jsx(qt.div,{id:a.id,...n,ref:e})});ZD.displayName=XD;var a0="SelectItem",[Che,JD]=Gd(a0),QD=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=t,o=Zl(a0,r),l=Jl(a0,r),c=o.value===n,[d,f]=j.useState(i??""),[p,h]=j.useState(!1),v=lr(e,w=>l.itemRefCallback?.(w,n,a)),m=vs(),g=j.useRef("touch"),b=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Che,{scope:r,value:n,disabled:a,textId:m,isSelected:c,onItemTextChange:j.useCallback(w=>{f(N=>N||(w?.textContent??"").trim())},[]),children:u.jsx(pv.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:u.jsx(qt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:v,onFocus:it(s.onFocus,()=>h(!0)),onBlur:it(s.onBlur,()=>h(!1)),onClick:it(s.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:it(s.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:it(s.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:it(s.onPointerMove,w=>{g.current=w.pointerType,a?l.onItemLeave?.():g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(s.onPointerLeave,w=>{w.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:it(s.onKeyDown,w=>{l.searchRef?.current!==""&&w.key===" "||(hhe.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});QD.displayName=a0;var If="SelectItemText",e9=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,s=Zl(If,r),o=Jl(If,r),l=JD(If,r),c=vhe(If,r),[d,f]=j.useState(null),p=lr(e,b=>f(b),l.onItemTextChange,b=>o.itemTextRefCallback?.(b,l.value,l.disabled)),h=d?.textContent,v=j.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return Fn(()=>(m(v),()=>g(v)),[m,g,v]),u.jsxs(u.Fragment,{children:[u.jsx(qt.span,{id:l.textId,...i,ref:p}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Vh.createPortal(i.children,s.valueNode):null]})});e9.displayName=If;var t9="SelectItemIndicator",r9=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return JD(t9,r).isSelected?u.jsx(qt.span,{"aria-hidden":!0,...n,ref:e}):null});r9.displayName=t9;var z5="SelectScrollUpButton",n9=j.forwardRef((t,e)=>{const r=Jl(z5,t.__scopeSelect),n=mA(z5,t.__scopeSelect),[a,i]=j.useState(!1),s=lr(e,n.onScrollButtonChange);return Fn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;i(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?u.jsx(i9,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});n9.displayName=z5;var U5="SelectScrollDownButton",a9=j.forwardRef((t,e)=>{const r=Jl(U5,t.__scopeSelect),n=mA(U5,t.__scopeSelect),[a,i]=j.useState(!1),s=lr(e,n.onScrollButtonChange);return Fn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?u.jsx(i9,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});a9.displayName=U5;var i9=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=Jl("SelectScrollButton",r),s=j.useRef(null),o=mv(r),l=j.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return j.useEffect(()=>()=>l(),[l]),Fn(()=>{o().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),u.jsx(qt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:it(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:it(a.onPointerMove,()=>{i.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:it(a.onPointerLeave,()=>{l()})})}),Ehe="SelectSeparator",s9=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(qt.div,{"aria-hidden":!0,...n,ref:e})});s9.displayName=Ehe;var W5="SelectArrow",The=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=gv(r),i=Zl(W5,r),s=Jl(W5,r);return i.open&&s.position==="popper"?u.jsx(IN,{...a,...n,ref:e}):null});The.displayName=W5;var Ohe="SelectBubbleInput",o9=j.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=j.useRef(null),i=lr(n,a),s=QN(e);return j.useEffect(()=>{const o=a.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[s,e]),u.jsx(qt.select,{...r,style:{...RD,...r.style},ref:i,defaultValue:e})});o9.displayName=Ohe;function l9(t){return t===""||t===void 0}function c9(t){const e=bs(t),r=j.useRef(""),n=j.useRef(0),a=j.useCallback(s=>{const o=r.current+s;e(o),(function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(o)},[e]),i=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function u9(t,e,r){const a=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=khe(t,Math.max(i,0));a.length===1&&(s=s.filter(c=>c!==r));const l=s.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function khe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Lhe=DD,d9=BD,Ihe=qD,Rhe=zD,Mhe=UD,f9=WD,Dhe=KD,h9=ZD,p9=QD,Fhe=e9,Bhe=r9,m9=n9,g9=a9,v9=s9;const Tl=Lhe,Ol=Ihe,Oo=j.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(d9,{ref:n,className:Et("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(Rhe,{asChild:!0,children:u.jsx(h0,{className:"h-4 w-4 opacity-50"})})]}));Oo.displayName=d9.displayName;const y9=j.forwardRef(({className:t,...e},r)=>u.jsx(m9,{ref:r,className:Et("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Gk,{className:"h-4 w-4"})}));y9.displayName=m9.displayName;const b9=j.forwardRef(({className:t,...e},r)=>u.jsx(g9,{ref:r,className:Et("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(h0,{className:"h-4 w-4"})}));b9.displayName=g9.displayName;const ko=j.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>u.jsx(Mhe,{children:u.jsxs(f9,{ref:a,className:Et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(y9,{}),u.jsx(Dhe,{className:Et("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(b9,{})]})}));ko.displayName=f9.displayName;const $he=j.forwardRef(({className:t,...e},r)=>u.jsx(h9,{ref:r,className:Et("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$he.displayName=h9.displayName;const An=j.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(p9,{ref:n,className:Et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Bhe,{children:u.jsx(Vk,{className:"h-4 w-4"})})}),u.jsx(Fhe,{children:e})]}));An.displayName=p9.displayName;const qhe=j.forwardRef(({className:t,...e},r)=>u.jsx(v9,{ref:r,className:Et("-mx-1 my-1 h-px bg-muted",t),...e}));qhe.displayName=v9.displayName;var vv="Tabs",[zhe]=Vi(vv,[Id]),x9=Id(),[Uhe,gA]=zhe(vv),w9=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=Gh(o),[f,p]=Fo({prop:n,onChange:a,defaultProp:i??"",caller:vv});return u.jsx(Uhe,{scope:r,baseId:vs(),value:f,onValueChange:p,orientation:s,dir:d,activationMode:l,children:u.jsx(qt.div,{dir:d,"data-orientation":s,...c,ref:e})})});w9.displayName=vv;var N9="TabsList",S9=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=gA(N9,r),s=x9(r);return u.jsx(RN,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:u.jsx(qt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});S9.displayName=N9;var A9="TabsTrigger",j9=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,s=gA(A9,r),o=x9(r),l=C9(s.baseId,n),c=E9(s.baseId,n),d=n===s.value;return u.jsx(MN,{asChild:!0,...o,focusable:!a,active:d,children:u.jsx(qt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:e,onMouseDown:it(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:it(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:it(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});j9.displayName=A9;var _9="TabsContent",P9=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=t,o=gA(_9,r),l=C9(o.baseId,n),c=E9(o.baseId,n),d=n===o.value,f=j.useRef(d);return j.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(Gi,{present:a||d,children:({present:p})=>u.jsx(qt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});P9.displayName=_9;function C9(t,e){return`${t}-trigger-${e}`}function E9(t,e){return`${t}-content-${e}`}var Whe=w9,T9=S9,O9=j9,k9=P9;const L9=Whe,vA=j.forwardRef(({className:t,...e},r)=>u.jsx(T9,{ref:r,className:Et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));vA.displayName=T9.displayName;const Xu=j.forwardRef(({className:t,...e},r)=>u.jsx(O9,{ref:r,className:Et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Xu.displayName=O9.displayName;const Zu=j.forwardRef(({className:t,...e},r)=>u.jsx(k9,{ref:r,className:Et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Zu.displayName=k9.displayName;function Hhe({funds:t}){const[e,r]=j.useState({meanReturn:null,windowType:"3Y",message:null}),[n,a]=j.useState(!1),[i,s]=j.useState(null);if(j.useEffect(()=>{if(t.length===0){r({meanReturn:null,windowType:"3Y",message:null});return}(async()=>{a(!0),s(null);try{const f=await Hd(t);f.windowType==="insufficient"||f.totalPeriods===0?r({meanReturn:null,windowType:"insufficient",message:f.message||"Not enough historical NAV data available. Need at least 1 year of data for rolling returns calculation."}):r({meanReturn:f.rollingReturns.bucket.mean,windowType:f.windowType,message:f.message||null})}catch(f){console.error("Error calculating rolling return:",f),s(f.message||"Failed to load performance data")}finally{a(!1)}})()},[t]),t.length===0)return null;const o=(d,f=2)=>d===null||isNaN(d)?"N/A":d.toFixed(f),l=()=>e.windowType==="1Y"?"Rolling Return (1Y)":e.windowType==="insufficient"?"Rolling Return":"Rolling Return (3Y)",c=()=>e.windowType==="1Y"?"Mean return (1-year window)":e.windowType==="insufficient"?"":"Mean return (3-year window)";return u.jsxs(Ve,{className:"p-3 sm:p-5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsxs("div",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wide mb-1 flex items-center gap-1",children:[u.jsx(oa,{className:"h-3 w-3"}),l()]}),n&&u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsx(Sa,{className:"h-4 w-4 animate-spin text-purple-600"}),u.jsx("span",{className:"text-xs text-gray-600",children:"Calculating..."})]}),i&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-red-600",children:[u.jsx(Yf,{className:"h-3 w-3"}),u.jsx("span",{children:"Unable to load"})]}),e.windowType==="insufficient"&&!n&&!i&&u.jsxs("div",{className:"mt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-700 mb-1",children:[u.jsx(Yf,{className:"h-3 w-3"}),u.jsx("span",{className:"font-semibold",children:"Insufficient Data"})]}),u.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:e.message||"Not enough historical NAV data available. Need at least 1 year of data for rolling returns calculation."})]}),e.meanReturn!==null&&!n&&!i&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`text-lg sm:text-2xl font-bold ${e.meanReturn>=0?"text-green-700":"text-red-700"}`,children:[o(e.meanReturn),"%"]}),u.jsx("div",{className:"text-xs text-purple-600 mt-2",children:c()}),e.message&&u.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded text-xs text-amber-700",children:e.message})]})]})}const Vhe="T00:00:00",jd=t=>new Date(`${t}${Vhe}`),ym=t=>{const e={};for(const[r,n]of Object.entries(t))e[r]=n;return e},ia=t=>Math.round((t+Number.EPSILON)*100)/100,_d=t=>Math.round((t+Number.EPSILON)*1e6)/1e6;function Ghe(t){return[...t].sort((e,r)=>jd(e.date).getTime()-jd(r.date).getTime())}function Do(t,e){if(!t||t.length===0)return null;const r=jd(e).getTime();let n=0,a=t.length-1,i=null;for(;n<=a;){const s=n+a>>1,o=t[s];jd(o.date).getTime()<=r?(i=o,n=s+1):a=s-1}return i}function bm(t,e,r){let n=0;for(const[a,i]of Object.entries(e)){if(i<=0)continue;const s=r[a];if(!s)continue;const o=Do(s,t);o&&(n+=i*o.nav)}return n}function Khe(t,e,r){const{withdrawalAmount:n,targetWeights:a,navSeriesByFund:i}=t,s=[];let o=n;const l=Object.keys(a).filter(p=>(r[p]||0)>0),c=l.reduce((p,h)=>p+(a[h]||0),0),d={};if(c>0)for(const p of l)d[p]=(a[p]||0)/c;else if(l.length>0){const p=1/l.length;for(const h of l)d[h]=p}const f=[];for(const p of l){if(o<=.005)break;const h=d[p]??0;if(h<=0)continue;const v=i[p];if(!v)continue;const m=Do(v,e);if(!m)continue;f.push(p);const g=n*h,b=(r[p]||0)*m.nav,w=Math.min(g,b,o),N=m.nav>0?w/m.nav:0;N>0&&(r[p]=_d(Math.max(0,(r[p]||0)-N)),s.push({fundId:p,unitsSold:N,amount:w,navDate:m.date,nav:m.nav}),o=ia(o-w))}if(o>.005){const p={};let h=0;const v=f.length>0?f:l;for(const m of v){const g=i[m];if(!g)continue;const b=Do(g,e);if(!b)continue;const w=(r[m]||0)*b.nav;w<=0||(p[m]=w,h+=w)}if(h>0)for(const[m,g]of Object.entries(p)){if(o<=.005)break;const b=i[m];if(!b)continue;const w=Do(b,e);if(!w)continue;const N=o*(g/h),_=(r[m]||0)*w.nav,A=Math.min(N,_,o),C=w.nav>0?A/w.nav:0;C>0&&(r[m]=_d(Math.max(0,(r[m]||0)-C)),s.push({fundId:m,unitsSold:C,amount:A,navDate:w.date,nav:w.nav}),o=ia(o-A))}}return{sales:s,shortfall:Math.max(0,o)}}function Yhe(t,e,r){const{withdrawalAmount:n,targetWeights:a,navSeriesByFund:i}=t,s={};let o=0;for(const p of Object.keys(a)){const h=i[p],v=h?Do(h,e):null,m=v?(r[p]||0)*v.nav:0;s[p]=m,o+=m}const l={};for(const[p,h]of Object.entries(a))l[p]=o*h;const c=Object.keys(s).map(p=>({fundId:p,overweight:s[p]-(l[p]??0)})).sort((p,h)=>h.overweight-p.overweight),d=[];let f=n;for(const{fundId:p,overweight:h}of c){if(f<=0)break;if(h<=0)continue;const v=i[p];if(!v)continue;const m=Do(v,e);if(!m)continue;const g=(r[p]||0)*m.nav,b=Math.min(h,g,f),w=m.nav>0?b/m.nav:0;w>0&&(r[p]=_d(Math.max(0,(r[p]||0)-w)),d.push({fundId:p,unitsSold:w,amount:b,navDate:m.date,nav:m.nav}),f=ia(f-b))}if(f>.005&&o>0)for(const[p,h]of Object.entries(s)){if(f<=.005)break;if(h<=0)continue;const v=i[p];if(!v)continue;const m=Do(v,e);if(!m)continue;const g=f*(h/o),b=(r[p]||0)*m.nav,w=Math.min(g,b,f),N=m.nav>0?w/m.nav:0;N>0&&(r[p]=_d(Math.max(0,(r[p]||0)-N)),d.push({fundId:p,unitsSold:N,amount:w,navDate:m.date,nav:m.nav}),f=ia(f-w))}return{sales:d,shortfall:Math.max(0,f)}}function Xhe(t,e,r){const{withdrawalAmount:n,navSeriesByFund:a,targetWeights:i,riskOrder:s,fundRisk:o}=t;if(!s||!o)throw new Error("Risk order and fund risk mapping required for RISK_BUCKET strategy.");const l=[];let c=n;for(const d of s){if(c<=.005)break;const f=Object.keys(i).filter(v=>o[v]===d);if(f.length===0)continue;const p={};let h=0;for(const v of f){const m=a[v],g=m?Do(m,e):null,b=g?(r[v]||0)*g.nav:0;b<=0||(p[v]=b,h+=b)}if(!(h<=0))for(const v of f){if(c<=.005)break;const m=p[v];if(!m||m<=0)continue;const g=a[v];if(!g)continue;const b=Do(g,e);if(!b)continue;const w=c*(m/h),N=(r[v]||0)*b.nav,_=Math.min(w,N,c),A=b.nav>0?_/b.nav:0;A>0&&(r[v]=_d(Math.max(0,(r[v]||0)-A)),l.push({fundId:v,unitsSold:A,amount:_,navDate:b.date,nav:b.nav}),c=ia(c-_))}}return{sales:l,shortfall:Math.max(0,c)}}function Zhe(t,e,r){switch(t.strategy){case"PROPORTIONAL":return Khe(t,e,r);case"OVERWEIGHT_FIRST":return Yhe(t,e,r);case"RISK_BUCKET":return Xhe(t,e,r);default:throw new Error(`Unsupported strategy ${t.strategy}`)}}function Jhe(t){let e=-1/0,r=0,n=0;for(const{value:a}of t){if(a>e&&(e=a,n=a),e<=0)continue;const i=(e-a)/e;i>r&&(r=i)}return{maxDrawdown:ia(r),peakValue:ia(n)}}function Qhe(t){const{startDate:e,withdrawalDates:r,navSeriesByFund:n,initialUnits:a}=t,i=ym(a),s=ym(a),o={},l={},c={};for(const E of Object.keys(i))o[E]=[],l[E]=[],c[E]=0;const d={};for(const[E,R]of Object.entries(n))d[E]=Ghe(R);const f=[],p=[],h=[],v=bm(e,s,d);f.push({date:e,portfolioValue:ia(v),totalUnits:ym(s),action:{type:"INIT_STATE"}}),p.push({date:e,value:ia(v)});let m=0,g=0,b=0,w=null;for(const E of r){if(bm(E,s,d)<=.005){w=E;break}const L=Zhe({...t,navSeriesByFund:d},E,s),U=bm(E,s,d),S=ia(t.withdrawalAmount-L.shortfall);if(b+=1,m=ia(m+S),g=ia(g+L.shortfall),L.sales.forEach(O=>{const k={date:O.navDate,amount:O.amount};o[O.fundId].push(k),l[O.fundId].push(O),c[O.fundId]=ia((c[O.fundId]||0)+O.amount),h.push(k)}),f.push({date:E,portfolioValue:ia(U),totalUnits:ym(s),action:{type:"WITHDRAWAL",amount:S,shortfall:L.shortfall,perFund:L.sales}}),p.push({date:E,value:ia(U)}),S<=.005){w=E;break}}const N=ia(bm(r[r.length-1]??e,s,d)),{maxDrawdown:_,peakValue:A}=Jhe(p),C=Object.keys(i).map(E=>({fundId:E,totalWithdrawn:ia(c[E]||0),remainingUnits:_d(s[E]||0),sales:l[E]}));return{timeline:f,totals:{withdrawn:m,endingValue:N,periodsRun:b,depletedOn:w,maxDrawdown:_,peakValue:A,shortfallTotal:g},fundResults:C,cashflows:{overall:h.sort((E,R)=>jd(E.date).getTime()-jd(R.date).getTime()),perFund:o}}}var[yv]=Vi("Tooltip",[Ld]),bv=Ld(),I9="TooltipProvider",epe=700,H5="tooltip.open",[tpe,yA]=yv(I9),R9=t=>{const{__scopeTooltip:e,delayDuration:r=epe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,s=j.useRef(!0),o=j.useRef(!1),l=j.useRef(0);return j.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(tpe,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:j.useCallback(c=>{o.current=c},[]),disableHoverableContent:a,children:i})};R9.displayName=I9;var Fh="Tooltip",[rpe,gp]=yv(Fh),M9=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:s,delayDuration:o}=t,l=yA(Fh,t.__scopeTooltip),c=bv(e),[d,f]=j.useState(null),p=vs(),h=j.useRef(0),v=s??l.disableHoverableContent,m=o??l.delayDuration,g=j.useRef(!1),[b,w]=Fo({prop:n,defaultProp:a??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(H5))):l.onClose(),i?.(E)},caller:Fh}),N=j.useMemo(()=>b?g.current?"delayed-open":"instant-open":"closed",[b]),_=j.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,w(!0)},[w]),A=j.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w(!1)},[w]),C=j.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,w(!0),h.current=0},m)},[m,w]);return j.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),u.jsx(ON,{...c,children:u.jsx(rpe,{scope:e,contentId:p,open:b,stateAttribute:N,trigger:d,onTriggerChange:f,onTriggerEnter:j.useCallback(()=>{l.isOpenDelayedRef.current?C():_()},[l.isOpenDelayedRef,C,_]),onTriggerLeave:j.useCallback(()=>{v?A():(window.clearTimeout(h.current),h.current=0)},[A,v]),onOpen:_,onClose:A,disableHoverableContent:v,children:r})})};M9.displayName=Fh;var V5="TooltipTrigger",D9=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=gp(V5,r),i=yA(V5,r),s=bv(r),o=j.useRef(null),l=lr(e,o,a.onTriggerChange),c=j.useRef(!1),d=j.useRef(!1),f=j.useCallback(()=>c.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(kN,{asChild:!0,...s,children:u.jsx(qt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:it(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:it(t.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:it(t.onPointerDown,()=>{a.open&&a.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:it(t.onFocus,()=>{c.current||a.onOpen()}),onBlur:it(t.onBlur,a.onClose),onClick:it(t.onClick,a.onClose)})})});D9.displayName=V5;var bA="TooltipPortal",[npe,ape]=yv(bA,{forceMount:void 0}),F9=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:a}=t,i=gp(bA,e);return u.jsx(npe,{scope:e,forceMount:r,children:u.jsx(Gi,{present:r||i.open,children:u.jsx(Xh,{asChild:!0,container:a,children:n})})})};F9.displayName=bA;var Pd="TooltipContent",B9=j.forwardRef((t,e)=>{const r=ape(Pd,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,s=gp(Pd,t.__scopeTooltip);return u.jsx(Gi,{present:n||s.open,children:s.disableHoverableContent?u.jsx($9,{side:a,...i,ref:e}):u.jsx(ipe,{side:a,...i,ref:e})})}),ipe=j.forwardRef((t,e)=>{const r=gp(Pd,t.__scopeTooltip),n=yA(Pd,t.__scopeTooltip),a=j.useRef(null),i=lr(e,a),[s,o]=j.useState(null),{trigger:l,onClose:c}=r,d=a.current,{onPointerInTransitChange:f}=n,p=j.useCallback(()=>{o(null),f(!1)},[f]),h=j.useCallback((v,m)=>{const g=v.currentTarget,b={x:v.clientX,y:v.clientY},w=cpe(b,g.getBoundingClientRect()),N=upe(b,w),_=dpe(m.getBoundingClientRect()),A=hpe([...N,..._]);o(A),f(!0)},[f]);return j.useEffect(()=>()=>p(),[p]),j.useEffect(()=>{if(l&&d){const v=g=>h(g,d),m=g=>h(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,h,p]),j.useEffect(()=>{if(s){const v=m=>{const g=m.target,b={x:m.clientX,y:m.clientY},w=l?.contains(g)||d?.contains(g),N=!fpe(b,s);w?p():N&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,s,c,p]),u.jsx($9,{...t,ref:i})}),[spe,ope]=yv(Fh,{isInside:!1}),lpe=s$("TooltipContent"),$9=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...o}=t,l=gp(Pd,r),c=bv(r),{onClose:d}=l;return j.useEffect(()=>(document.addEventListener(H5,d),()=>document.removeEventListener(H5,d)),[d]),j.useEffect(()=>{if(l.trigger){const f=p=>{p.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Kh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(LN,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(lpe,{children:n}),u.jsx(spe,{scope:r,isInside:!0,children:u.jsx(dhe,{id:l.contentId,role:"tooltip",children:a||n})})]})})});B9.displayName=Pd;var q9="TooltipArrow",z9=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=bv(r);return ope(q9,r).isInside?null:u.jsx(IN,{...a,...n,ref:e})});z9.displayName=q9;function cpe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function upe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function dpe(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function fpe(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const o=e[i],l=e[s],c=o.x,d=o.y,f=l.x,p=l.y;d>n!=p>n&&r<(f-c)*(n-d)/(p-d)+c&&(a=!a)}return a}function hpe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ppe(e)}function ppe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],s=e[e.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var mpe=R9,gpe=M9,vpe=D9,ype=F9,bpe=B9,xpe=z9;function wpe({delayDuration:t=0,...e}){return u.jsx(mpe,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function Npe({...t}){return u.jsx(gpe,{"data-slot":"tooltip",...t})}function Spe({...t}){return u.jsx(vpe,{"data-slot":"tooltip-trigger",...t})}function Ape({className:t,sideOffset:e=0,children:r,...n}){return u.jsx(ype,{children:u.jsxs(bpe,{"data-slot":"tooltip-content",sideOffset:e,className:Et("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,u.jsx(xpe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const T2=["LIQUID","DEBT","HYBRID","EQUITY_L","EQUITY_M","EQUITY_S"],IO={LIQUID:"Liquid / Overnight",DEBT:"Debt / Income",HYBRID:"Hybrid / Balanced",EQUITY_L:"Equity - Large",EQUITY_M:"Equity - Mid",EQUITY_S:"Equity - Small"},Un=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),Rn=(t,e=2)=>t.toLocaleString("en-IN",{maximumFractionDigits:e,minimumFractionDigits:e}),jpe=t=>{if(!t)return"EQUITY_M";const e=t.toLowerCase();return e.includes("liquid")||e.includes("overnight")?"LIQUID":e.includes("debt")||e.includes("income")||e.includes("bond")?"DEBT":e.includes("hybrid")||e.includes("balanced")||e.includes("allocation")?"HYBRID":e.includes("mid")?"EQUITY_M":e.includes("small")?"EQUITY_S":e.includes("large")?"EQUITY_L":"EQUITY_M"},Ii=t=>Math.round((t+Number.EPSILON)*100)/100,_pe=(t,e)=>{if(t==="Monthly")return 12;if(t==="Quarterly")return 4;const r=Math.max(1,e||30);return Math.max(1,365.25/r)},Ppe=(t,e)=>t==="Monthly"?"monthly":t==="Quarterly"?"per quarter":`every ${e} days`;function O2({funds:t,initialInvestment:e,initialWithdrawal:r,initialFrequency:n,initialDuration:a,hideAdvanced:i=!1,initialPurchaseDate:s,initialSwpStartDate:o,initialEndDate:l,initialRiskFactor:c,forcedMode:d,title:f}){const[p,h]=j.useState(s||""),[v,m]=j.useState(o||""),[g,b]=j.useState(l||""),[w,N]=j.useState(e||0),[_,A]=j.useState(r||1e4),[C,E]=j.useState(n||"Monthly"),[R,L]=j.useState(30),[U,S]=j.useState("PROPORTIONAL"),[O,k]=j.useState({}),[M,$]=j.useState(!1),[F,z]=j.useState(!1),[W,q]=j.useState(d||"NORMAL"),[ee,de]=j.useState(null),[B,G]=j.useState(null),[Z,te]=j.useState(0),[ne,ie]=j.useState(0),[fe,se]=j.useState(c||3),[he,oe]=j.useState(!1),[ae,xe]=j.useState(null),[we,Y]=j.useState(null),[ge,De]=j.useState(null),[Fe,Pe]=j.useState("bucket");j.useEffect(()=>{k(Ce=>{const Ae={};return t.forEach(We=>{Ae[We.id]=Ce[We.id]??jpe(We.category)}),Ae})},[t]),j.useEffect(()=>{De(null),Y(null)},[t,p,v,g,w,_,C,R,U,O,W,Z,ne,fe]),j.useEffect(()=>{e&&e>0&&N(e),r&&r>0&&A(r),n&&E(n)},[e,r,n]);const Ge=Ce=>{if(d)return;q(Ce),xe(null)};j.useEffect(()=>{d&&q(d)},[d]);const Te=(Ce,Ae)=>{const We=[],qe=new Date(Ce),rt=new Date(Ae);let st=new Date(qe);if(C==="Monthly")for(;st<=rt;)We.push(st.toISOString().split("T")[0]),st.setMonth(st.getMonth()+1);else if(C==="Quarterly")for(;st<=rt;)We.push(st.toISOString().split("T")[0]),st.setMonth(st.getMonth()+3);else for(;st<=rt;)We.push(st.toISOString().split("T")[0]),st.setDate(st.getDate()+R);return We},ze=ee??we?.safeMonthlyWithdrawal??null,Ue=B??we?.requiredCorpusIndefinite??null,Ye=ne>0?B??we?.requiredCorpusFixedHorizon??null:null,Ze=Ppe(C,R),wt=async()=>{if(!he){oe(!0),xe(null),De(null),Y(null),de(null),G(null),Pe("bucket");try{if(!p)throw new Error("Please select the initial investment date.");if(!v)throw new Error("Please select the SWP start date.");if(!g)throw new Error("Please select the SWP end date.");if(new Date(p)>new Date(v))throw new Error("SWP start date must be on or after the investment date.");if(new Date(v)>new Date(g))throw new Error("End date must be after the SWP start date.");if((W==="NORMAL"||W==="CORPUS")&&w<=0)throw new Error("Please enter the total investment amount.");if(W==="NORMAL"&&_<=0)throw new Error("Withdrawal amount must be greater than zero.");if(W==="TARGET"&&Z<=0)throw new Error("Please enter the desired monthly withdrawal.");if(t.length===0)throw new Error("Please select at least one fund.");if(U==="RISK_BUCKET"&&t.filter(Mt=>!O[Mt.id]).length>0)throw new Error("Assign a risk bucket to every fund to use the risk-based strategy.");const Ce=t.map(Qe=>Qe.id),Ae=await Rd(Ce,p,g);if(Ae.length===0)throw new Error("No NAV data available for the selected funds.");const We={};Ae.forEach(Qe=>{We[Qe.schemeCode]=Qe.navData.map(Mt=>({date:Mt.date,nav:Number(Mt.nav)}))});const qe=Te(v,g);if(qe.length===0)throw new Error("No withdrawal dates generated for the selected range.");const rt=t.reduce((Qe,Mt)=>Qe+Mt.weightage,0);if(rt<=0)throw new Error("Fund weightages must sum to a positive number.");const st={};t.forEach(Qe=>{st[Qe.id]=Qe.weightage/rt});const mt={},Nt={};t.forEach(Qe=>{const Mt=We[Qe.id];mt[Qe.id]=iw(Mt),Nt[Qe.id]=lV(Mt)});const Yt=tg(mt,st),et=tg(Nt,st),zt=Math.max(.1,fe),tt=_pe(C,R),ut=Yt!==null?Yt/zt:null,Xt=ut!==null?ut/tt:null,_t=Xt!==null?Xt/100:null,ot=_t&&_t>0?w*_t:null,Lt=W==="TARGET"&&Z>0?Z:null,en=Lt&&_t&&_t>0?Lt/_t:null,Ar=Yt!==null?Math.max(0,Yt-(et??0)):null,tn=Ar!==null?Ar/100:null;let Or=null;if(Lt&&ne>0){const Qe=Lt*tt;tn&&tn>0?Or=Qe*(1-Math.pow(1+tn,-ne))/tn:Or=Qe*ne}let gt=w,Yr=W==="TARGET"?Z:_;const _n=W==="TARGET"?(()=>{const Qe=ne>0&&Or&&Or>0?Or:null,Mt=en&&en>0?en:null;return Qe??Mt??null})():null;if(W==="CORPUS")if(ot&&ot>0)Yr=ot,de(ot),A(ot);else throw new Error("Unable to calculate a safe monthly withdrawal for the selected funds. Try adjusting your fund selection or risk factor.");else if(W==="TARGET"){if(!_n||_n<=0)throw new Error("Unable to calculate the required corpus for the target withdrawal with the current data.");gt=_n,Yr=Z,G(_n),N(_n),A(Z)}else de(null),G(null);Y({portfolioCAGR:Yt,portfolioVolatility:et,swrAnnualPercent:ut,swrPeriodPercent:Xt,riskFactor:zt,safeMonthlyWithdrawal:ot,requiredCorpusIndefinite:en,requiredCorpusFixedHorizon:Or,adjustedReturnPercent:Ar});const yn={},cn={},gr={},kr=(Qe,Mt)=>{const hr=ms(Qe,Mt);return hr||([...Qe].sort((pr,Pn)=>new Date(pr.date).getTime()-new Date(Pn.date).getTime()).find(pr=>new Date(pr.date)>=new Date(Mt))??null)};t.forEach(Qe=>{const Mt=We[Qe.id];if(!Mt||Mt.length===0)throw new Error(`No NAV history found for ${Qe.name}.`);const hr=kr(Mt,p);if(!hr)throw new Error(`No NAV available around ${p} for ${Qe.name}.`);cn[Qe.id]=hr.nav;const $r=gt*(Qe.weightage/rt),pr=hr.nav>0?$r/hr.nav:0;yn[Qe.id]=pr,gr[Qe.id]=$r});const Rt=Qhe({startDate:p,withdrawalAmount:Yr,withdrawalDates:qe,strategy:U,targetWeights:st,initialUnits:yn,navSeriesByFund:We,riskOrder:U==="RISK_BUCKET"?[...T2]:void 0,fundRisk:U==="RISK_BUCKET"?O:void 0}),Ia=Rt.timeline.filter(Qe=>Qe.action?.type==="WITHDRAWAL"),ca=t.map(Qe=>{const Mt=Rt.fundResults.find(Xn=>Xn.fundId===Qe.id),hr=Mt?.remainingUnits??0,pr=(We[Qe.id]&&We[Qe.id].length>0?ms(We[Qe.id],g)||We[Qe.id][We[Qe.id].length-1]:null)?.nav??0,Pn=Ii(hr*pr);return{fundId:Qe.id,fundName:Qe.name,weightage:Qe.weightage,navAtPurchase:cn[Qe.id],unitsPurchased:yn[Qe.id],remainingUnits:hr,totalWithdrawn:Mt?.totalWithdrawn??0,currentValue:Pn}}),bn=Ii(ca.reduce((Qe,Mt)=>Qe+Mt.currentValue,0)),Kn=Ii(ca.reduce((Qe,Mt)=>{const hr=Mt.remainingUnits*cn[Mt.fundId];return Qe+hr},0)),Yn=Ii(bn-Kn),sr=[{date:new Date(p),amount:-gt},...Rt.cashflows.overall.map(Qe=>({date:new Date(Qe.date),amount:Qe.amount}))],$n=Rt.totals.depletedOn??g;(bn>0||Rt.totals.depletedOn)&&sr.push({date:new Date($n),amount:bn});const Ka=sr.some(Qe=>Qe.amount>0),ua=sr.some(Qe=>Qe.amount<0),Ya=Ka&&ua&&sr.length>=2?Ic(sr):null;let Ra=0;const Xr=Rt.timeline.map(Qe=>{Qe.action?.type==="WITHDRAWAL"&&(Ra=Ii(Ra+(Qe.action.amount??0)));const Mt={date:Qe.date,invested:gt,withdrawn:Ra,portfolioValue:Qe.portfolioValue};return t.forEach(hr=>{const $r=We[hr.id],Pn=($r&&$r.length>0?ms($r,Qe.date)||$r[$r.length-1]:null)?.nav??0,Xn=Qe.totalUnits[hr.id]??0;Mt[hr.name]=Ii(Xn*Pn)}),Mt}),Xa=[];Ia.forEach(Qe=>{t.forEach(Mt=>{const hr=We[Mt.id],$r=Qe.action?.perFund?.find(Ai=>Ai.fundId===Mt.id),pr=$r?{date:$r.navDate,nav:$r.nav}:hr&&hr.length>0?ms(hr,Qe.date)||hr[hr.length-1]:null,Pn=pr?.nav??0,Xn=pr?.date??Qe.date,xn=Qe.totalUnits[Mt.id]??0,Za=Ii(xn*Pn),Ts=cn[Mt.id]??0,Ni=gr[Mt.id]??0,qn=Ii(xn*Ts),Si=Ii(Za-qn),Os=Ii(Math.max(0,Ni-qn)),xr=Ni>0?Ii(Os/Ni*100):0;Xa.push({date:Qe.date,fundId:Mt.id,fundName:Mt.name,navDate:Xn,nav:Pn,withdrawalAmount:$r?.amount??0,unitsRedeemed:$r?.unitsSold??0,unitsLeft:xn,fundValue:Za,portfolioValue:Qe.portfolioValue,totalWithdrawal:Qe.action?.amount??0,investedValue:qn,profitLoss:Si,principalDepletedValue:Os,principalDepletionPercent:xr})})}),De({totalInvested:gt,totalWithdrawn:Ii(Rt.totals.withdrawn),finalCorpus:bn,finalPrincipalRemaining:Kn,finalProfitRemaining:Yn,xirr:Ya??null,maxDrawdown:Rt.totals.maxDrawdown,survivalMonths:Rt.totals.depletedOn?Ia.length:qe.length,depletedOn:Rt.totals.depletedOn,timeline:Rt.timeline,chartData:Xr,fundSummaries:ca,tableRows:Xa}),z(!1),oe(!1)}catch(Ce){xe(Ce.message||"Something went wrong while running the SWP simulation."),oe(!1)}}},Pt=()=>{ge&&ahe({...ge,fundSummaries:ge.fundSummaries.map(Ce=>{const Ae=Ce.unitsPurchased*Ce.navAtPurchase,We=Ce.currentValue+Ce.totalWithdrawn-Ae;return{fundName:Ce.fundName,totalInvested:Ae,totalWithdrawn:Ce.totalWithdrawn,currentValue:Ce.currentValue,profit:We}}),inputs:{totalInvestment:w,withdrawalAmount:_,frequency:C,startDate:p,endDate:g,funds:t.map(Ce=>({name:Ce.name,weightage:Ce.weightage}))}})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Ve,{className:"p-4 sm:p-6",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:f||"SWP Calculator"}),d?u.jsxs("div",{className:"space-y-4",children:[d==="NORMAL"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"total-investment-normal",children:"Total Investment ()"}),u.jsx(Tt,{id:"total-investment-normal",type:"number",min:1,value:w||"",onChange:Ce=>{const Ae=Number(Ce.target.value)||0;N(Ae>=0?Ae:0)},placeholder:"500000",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"withdrawal-amount-normal",children:"Monthly Withdrawal ()"}),u.jsx(Tt,{id:"withdrawal-amount-normal",type:"number",min:1,value:_,onChange:Ce=>{const Ae=Number(Ce.target.value)||0;A(Ae>=0?Ae:0)},placeholder:"15000",className:"mt-1"})]})]}),d==="CORPUS"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"total-investment-corpus",children:"Total Investment ()"}),u.jsx(Tt,{id:"total-investment-corpus",type:"number",min:1,value:w||"",onChange:Ce=>{const Ae=Number(Ce.target.value)||0;N(Ae>=0?Ae:0)},placeholder:"500000",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsxs(nt,{htmlFor:"auto-withdrawal",children:["Safe Withdrawal (",Ze,") ()"]}),u.jsx(Tt,{id:"auto-withdrawal",value:ze!==null?Rn(ze,2):"",readOnly:!0,disabled:!0,placeholder:"Run simulation to calculate",className:"mt-1"}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Withdrawal per ",Ze," is computed from the safe withdrawal rate after running the simulation."]})]})]}),d==="TARGET"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs(nt,{htmlFor:"desired-withdrawal-target",children:["Desired ",Ze," Withdrawal ()"]}),u.jsx(Tt,{id:"desired-withdrawal-target",type:"number",min:1,value:Z||"",onChange:Ce=>{const Ae=Number(Ce.target.value)||0;te(Ae>=0?Ae:0)},placeholder:"20000",className:"mt-1"}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Enter the amount you want to withdraw per ",Ze.toLowerCase(),"."]})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"auto-corpus",children:"Required Corpus ()"}),u.jsx(Tt,{id:"auto-corpus",value:Ue!==null?Rn(Ue,0):"",readOnly:!0,disabled:!0,placeholder:"Run simulation to calculate",className:"mt-1"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:u.jsxs("div",{children:[u.jsxs(nt,{htmlFor:"duration-years",children:["Horizon (years) ",u.jsx("span",{className:"text-xs text-slate-500",children:"(optional)"})]}),u.jsx(Tt,{id:"duration-years",type:"number",min:0,value:ne||"",onChange:Ce=>{const Ae=Number(Ce.target.value)||0;ie(Ae>=0&&Ae<=100?Ae:Ae<0?0:100)},placeholder:"15",className:"mt-1"}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Provide a duration to estimate the corpus for a finite SWP. Leave blank for indefinite withdrawals."})]})})]})]}):u.jsxs(L9,{value:W,onValueChange:Ge,className:"space-y-4",children:[u.jsxs(vA,{className:"grid grid-cols-1 md:grid-cols-3 bg-slate-100",children:[u.jsx(Xu,{value:"NORMAL",children:"Normal Simulation"}),u.jsx(Xu,{value:"CORPUS",children:"I Have a Corpus"}),u.jsx(Xu,{value:"TARGET",children:"I Have a Target Withdrawal"})]}),u.jsx(Zu,{value:"NORMAL",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"total-investment-normal",children:"Total Investment ()"}),u.jsx(Tt,{id:"total-investment-normal",type:"number",min:1,value:w||"",onChange:Ce=>{const Ae=Number(Ce.target.value)||0;N(Ae>=0?Ae:0)},placeholder:"500000",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"withdrawal-amount-normal",children:"Monthly Withdrawal ()"}),u.jsx(Tt,{id:"withdrawal-amount-normal",type:"number",min:1,value:_,onChange:Ce=>{const Ae=Number(Ce.target.value)||0;A(Ae>=0?Ae:0)},placeholder:"15000",className:"mt-1"})]})]})}),u.jsx(Zu,{value:"CORPUS",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"total-investment-corpus",children:"Total Investment ()"}),u.jsx(Tt,{id:"total-investment-corpus",type:"number",min:1,value:w||"",onChange:Ce=>{const Ae=Number(Ce.target.value)||0;N(Ae>=0?Ae:0)},placeholder:"500000",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsxs(nt,{htmlFor:"auto-withdrawal",children:["Safe Withdrawal (",Ze,") ()"]}),u.jsx(Tt,{id:"auto-withdrawal",value:ze!==null?Rn(ze,2):"",readOnly:!0,disabled:!0,placeholder:"Run simulation to calculate",className:"mt-1"}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Withdrawal per ",Ze," is computed from the safe withdrawal rate after running the simulation."]})]})]})}),u.jsxs(Zu,{value:"TARGET",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs(nt,{htmlFor:"desired-withdrawal-target",children:["Desired ",Ze," Withdrawal ()"]}),u.jsx(Tt,{id:"desired-withdrawal-target",type:"number",min:1,value:Z||"",onChange:Ce=>{const Ae=Number(Ce.target.value)||0;te(Ae>=0?Ae:0)},placeholder:"20000",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"auto-corpus",children:"Required Corpus ()"}),u.jsx(Tt,{id:"auto-corpus",value:Ue!==null?Rn(Ue,0):"",readOnly:!0,disabled:!0,placeholder:"Run simulation to calculate",className:"mt-1"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:u.jsxs("div",{children:[u.jsxs(nt,{htmlFor:"duration-years",children:["Horizon (years) ",u.jsx("span",{className:"text-xs text-slate-500",children:"(optional)"})]}),u.jsx(Tt,{id:"duration-years",type:"number",min:0,max:100,value:ne||"",onChange:Ce=>{const Ae=Number(Ce.target.value)||0;ie(Ae>=0&&Ae<=100?Ae:Ae<0?0:100)},placeholder:"15",className:"mt-1"}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Provide a duration to estimate the corpus for a finite SWP. Leave blank for indefinite withdrawals."})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"purchase-date",children:"Investment Date"}),u.jsx(Tt,{id:"purchase-date",type:"date",value:p,onChange:Ce=>{const Ae=Ce.target.value;Ae<=Br()&&(h(Ae),v&&Ae>v&&m(Ae),g&&Ae>g&&b(Ae))},max:Br(),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"swp-start-date",children:"SWP Start Date"}),u.jsx(Tt,{id:"swp-start-date",type:"date",value:v,onChange:Ce=>{const Ae=Ce.target.value;Ae<=Br()&&(!p||Ae>=p)&&(m(Ae),g&&Ae>g&&b(Ae))},min:p||void 0,max:g||Br(),className:"mt-1"}),p&&v&&p>v&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:"SWP start must be after purchase date"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"end-date",children:"End Date"}),u.jsx(Tt,{id:"end-date",type:"date",value:g,onChange:Ce=>{const Ae=Ce.target.value;if(Ae<=Br()){const We=v||p;(!We||Ae>=We)&&b(Ae)}},min:v||p||void 0,max:Br(),className:"mt-1"}),(p&&g&&p>g||v&&g&&v>g)&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:"End date must be after purchase/SWP start date"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"frequency",children:"Withdrawal Frequency"}),u.jsxs(Tl,{value:C,onValueChange:Ce=>E(Ce),children:[u.jsx(Oo,{className:"mt-1",children:u.jsx(Ol,{})}),u.jsxs(ko,{children:[u.jsx(An,{value:"Monthly",children:"Monthly"}),u.jsx(An,{value:"Quarterly",children:"Quarterly"}),u.jsx(An,{value:"Custom",children:"Custom (Days)"})]})]})]}),C==="Custom"&&u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"custom-frequency",children:"Custom Interval (Days)"}),u.jsx(Tt,{id:"custom-frequency",type:"number",min:1,max:365,value:R,onChange:Ce=>{const Ae=Number(Ce.target.value)||1;L(Ae>=1&&Ae<=365?Ae:Ae<1?1:365)},placeholder:"30",className:"mt-1"})]})]}),!i&&u.jsxs("div",{className:"mt-6 border rounded-lg border-slate-200 bg-slate-50",children:[u.jsxs("button",{type:"button",className:"w-full flex items-center justify-between px-4 py-3 text-left text-sm font-medium text-slate-700 hover:bg-slate-100 transition-colors",onClick:()=>$(Ce=>!Ce),children:[u.jsx("span",{children:"Advanced Options"}),u.jsx("span",{children:M?"":"+"})]}),M&&u.jsxs("div",{className:"px-4 pb-4 pt-2 space-y-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"risk-factor",children:"Risk factor"}),u.jsx(Tt,{id:"risk-factor",type:"number",min:.1,max:10,step:.1,value:fe,onChange:Ce=>{const Ae=Number(Ce.target.value)||3;se(Ae>=.1&&Ae<=10?Ae:Ae<.1?.1:10)},className:"mt-1"}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Higher risk factor = more conservative withdrawal rate. Default is 3."})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"strategy",children:"Withdrawal Strategy"}),u.jsxs(Tl,{value:U,onValueChange:Ce=>S(Ce),children:[u.jsx(Oo,{className:"mt-1",children:u.jsx(Ol,{})}),u.jsxs(ko,{children:[u.jsx(An,{value:"PROPORTIONAL",children:"Proportional by target weights (default)"}),u.jsx(An,{value:"OVERWEIGHT_FIRST",children:"Overweight first (harvest gains)"}),u.jsx(An,{value:"RISK_BUCKET",children:"Risk bucket (sell lowest risk first)"})]})]})]}),U==="RISK_BUCKET"&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("p",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded-md px-3 py-2",children:["Withdrawals will use the following bucket order:"," ",u.jsx("strong",{children:T2.map(Ce=>IO[Ce]).join("  ")})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.map(Ce=>u.jsxs("div",{children:[u.jsxs(nt,{className:"text-xs text-slate-600",children:[Ce.name,"  Risk bucket"]}),u.jsxs(Tl,{value:O[Ce.id],onValueChange:Ae=>k(We=>({...We,[Ce.id]:Ae})),children:[u.jsx(Oo,{className:"mt-1",children:u.jsx(Ol,{})}),u.jsx(ko,{children:T2.map(Ae=>u.jsx(An,{value:Ae,children:IO[Ae]},Ae))})]})]},Ce.id))})]})]})]}),u.jsx(Ct,{onClick:wt,disabled:he||!p||!v||!g||t.length===0||(W==="TARGET"?Z<=0||isNaN(Z):w<=0),className:"w-full mt-6",title:he?"Calculating...":p?v?g?t.length===0?"Please select at least one fund":W==="TARGET"&&(Z<=0||isNaN(Z))?"Please enter desired withdrawal amount":W!=="TARGET"&&w<=0?"Please enter total investment amount":"Click to run simulation":"Please select End Date":"Please select SWP Start Date":"Please select Investment Date",children:he?"Simulating...":"Run SWP Simulation"})]}),he&&u.jsxs(Ve,{className:"p-8 sm:p-10 md:p-12 text-center border-slate-200",children:[u.jsx(Sa,{className:"w-10 h-10 sm:w-12 sm:h-12 animate-spin text-blue-600 mx-auto mb-3 sm:mb-4"}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Running SWP Simulation..."}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"This may take a few moments while we calculate your withdrawal strategy"})]}),we&&u.jsx(wpe,{children:u.jsxs(Ve,{className:"p-4 sm:p-6 border border-slate-200 bg-white",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Safe withdrawal insights"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Based on historical weighted returns and your selected risk factor."})]}),u.jsxs(Npe,{children:[u.jsx(Spe,{asChild:!0,children:u.jsx(QB,{className:"h-4 w-4 text-slate-400 mt-1 cursor-help"})}),u.jsx(Ape,{side:"bottom",className:"max-w-xs text-xs leading-snug",children:`We compute each fund's CAGR and volatility, weight them by your allocation, and divide the combined CAGR by the chosen risk factor to estimate a sustainable withdrawal rate. If a fund lacks sufficient history you will see "Not enough history".`})]})]}),u.jsxs(tr,{variant:"outline",className:"text-slate-600 border-slate-200",children:["Risk factor: ",Rn(we.riskFactor,1)]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-1",children:"Portfolio CAGR"}),u.jsx("div",{className:"text-xl font-semibold text-slate-900",children:we.portfolioCAGR!==null?`${Rn(we.portfolioCAGR,2)}%`:"Not enough history"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-1",children:"Annualized volatility"}),u.jsx("div",{className:"text-xl font-semibold text-slate-900",children:we.portfolioVolatility!==null?`${Rn(we.portfolioVolatility,2)}%`:"Not enough history"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-1",children:"Safe withdrawal rate (annual)"}),u.jsx("div",{className:"text-xl font-semibold text-slate-900",children:we.swrAnnualPercent!==null?`${Rn(we.swrAnnualPercent,2)}%`:"Not enough history"}),u.jsxs("div",{className:"text-xs text-slate-500",children:["Per ",Ze,":"," ",we.swrPeriodPercent!==null?`${Rn(we.swrPeriodPercent,3)}%`:""]})]})]}),u.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs(Ve,{className:"border border-slate-200 bg-slate-50 p-4",children:[u.jsxs("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-1",children:["Safe withdrawal (",Ze,") (from corpus)"]}),u.jsx("div",{className:"text-xl font-semibold text-slate-900",children:we.safeMonthlyWithdrawal!==null?Un(we.safeMonthlyWithdrawal):"Not enough history"}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Based on total investment of ",Un(w)," and withdrawals taken ",Ze,"."]})]}),u.jsxs(Ve,{className:"border border-slate-200 bg-slate-50 p-4",children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-1",children:"Corpus required for target withdrawal"}),u.jsx("div",{className:"flex flex-col gap-1 text-slate-900 font-semibold text-sm",children:W==="TARGET"?u.jsxs(u.Fragment,{children:[u.jsxs("span",{children:["Indefinite:"," ",Ue!==null?Un(Ue):"Run the simulation to calculate"]}),u.jsx("span",{children:ne>0?u.jsxs(u.Fragment,{children:[ne," years:"," ",Ye!==null?Un(Ye):"Run the simulation to calculate"]}):"Provide a horizon to estimate finite-duration corpus."})]}):u.jsx("span",{className:"text-xs text-slate-500 font-normal",children:'Switch to "I Have a Target Withdrawal" to estimate the corpus needed for a desired income.'})}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uses adjusted return of"," ",we.adjustedReturnPercent!==null?`${Rn(we.adjustedReturnPercent,2)}%`:"Not enough history"," ","(CAGR minus volatility)."]})]})]})]})}),ae&&u.jsx(Ve,{className:"p-4 bg-red-50 border border-red-200 text-red-800",children:ae}),ge&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-end",children:u.jsxs(Ct,{variant:"outline",onClick:Pt,className:"flex items-center gap-2 border-slate-300 text-slate-700 hover:bg-slate-50",children:[u.jsx(Ec,{className:"h-4 w-4"}),"Download Report"]})}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(Ve,{className:"p-4 border-slate-200",children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-2",children:"Total Invested"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900",children:Un(ge.totalInvested)})]}),u.jsxs(Ve,{className:"p-4 border-slate-200",children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-2",children:"Total Withdrawn"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900",children:Un(ge.totalWithdrawn)})]}),u.jsxs(Ve,{className:"p-4 border-slate-200",children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-2",children:"Final Corpus Value"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-2",children:Un(ge.finalCorpus)}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-slate-600",children:"Principal Remaining:"}),u.jsx("span",{className:"font-semibold text-slate-900",children:Un(ge.finalPrincipalRemaining)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-slate-600",children:"Profit Remaining:"}),u.jsx("span",{className:`font-semibold ${ge.finalProfitRemaining>=0?"text-green-600":"text-red-600"}`,children:Un(ge.finalProfitRemaining)})]})]})]}),u.jsx(Ve,{className:"p-4 border-slate-200 flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-2",children:"XIRR (Money-weighted return)"}),u.jsxs("div",{className:`text-2xl font-bold ${(ge.xirr??0)>=0?"text-green-600":"text-red-600"} flex items-center gap-2`,children:[(ge.xirr??0)>=0?u.jsx(oa,{className:"h-5 w-5"}):u.jsx(m0,{className:"h-5 w-5"}),ge.xirr!==null?`${Rn(ge.xirr,2)}%`:""]})]})}),u.jsxs(Ve,{className:"p-4 border-slate-200",children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-2",children:"Survival Duration"}),u.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[ge.survivalMonths," months"]}),u.jsx("div",{className:"text-xs text-slate-500 mt-1",children:ge.depletedOn?`Depleted on ${ge.depletedOn}`:"Portfolio still active at end date"})]}),u.jsxs(Ve,{className:"p-4 border-slate-200",children:[u.jsx("div",{className:"text-xs uppercase text-slate-500 font-semibold mb-2",children:"Max Drawdown"}),u.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[Rn(ge.maxDrawdown*100,2),"%"]})]}),u.jsx(Hhe,{funds:t})]}),u.jsxs(Ve,{className:"p-4 sm:p-6 border-slate-200",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Portfolio value vs withdrawals"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Tracks invested capital, cash withdrawn, and remaining corpus value across the simulation."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(Tl,{value:Fe,onValueChange:Pe,children:[u.jsx(Oo,{className:"w-[200px] bg-white border-slate-200",children:u.jsx(Ol,{})}),u.jsxs(ko,{children:[u.jsx(An,{value:"bucket",children:u.jsx("span",{className:"font-medium",children:"Bucket (All Funds)"})}),ge.fundSummaries.map(Ce=>u.jsx(An,{value:Ce.fundId,children:Ce.fundName},Ce.fundId))]})]}),u.jsxs(tr,{variant:"outline",className:"bg-slate-50 text-slate-700",children:[ge.chartData.length," data points"]})]})]}),u.jsx("div",{className:"w-full h-[320px]",children:u.jsx(U0,{width:"100%",height:"100%",children:u.jsxs(oA,{data:ge.chartData,children:[u.jsx(pp,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),u.jsx(Yl,{dataKey:"date",tick:{fontSize:12},tickFormatter:Ce=>new Date(Ce).toLocaleDateString("en-IN",{month:"short",year:"numeric"})}),u.jsx(Xl,{tick:{fontSize:12},tickFormatter:Ce=>`${(Ce/1e3).toFixed(0)}K`}),u.jsx(hi,{formatter:(Ce,Ae)=>[Un(Ce),Ae],labelFormatter:Ce=>new Date(Ce).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),u.jsx(Vs,{iconType:"circle"}),u.jsx(gi,{type:"monotone",dataKey:"invested",name:"Invested capital",stroke:"#94a3b8",strokeDasharray:"6 4",strokeWidth:2,dot:!1}),Fe==="bucket"?u.jsxs(u.Fragment,{children:[u.jsx(gi,{type:"monotone",dataKey:"portfolioValue",name:"Portfolio value",stroke:"#1f2937",strokeWidth:3,dot:!1}),u.jsx(gi,{type:"monotone",dataKey:"withdrawn",name:"Cumulative withdrawals",stroke:"#2563eb",strokeWidth:2,dot:!1})]}):u.jsxs(u.Fragment,{children:[ge.fundSummaries.filter(Ce=>Ce.fundId===Fe).map(Ce=>{const Ae=t.findIndex(qe=>qe.id===Ce.fundId),We=["#0ea5e9","#22c55e","#f97316","#a855f7","#ef4444"];return u.jsx(gi,{type:"monotone",dataKey:Ce.fundName,name:`${Ce.fundName} value`,stroke:We[Ae%We.length],strokeWidth:3,dot:!1},Ce.fundId)}),u.jsx(gi,{type:"monotone",dataKey:"withdrawn",name:"Cumulative withdrawals",stroke:"#2563eb",strokeWidth:2,dot:!1})]})]})})})]}),u.jsxs(Ve,{className:"p-4 sm:p-6 border-slate-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Fund breakdown"}),u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{children:[u.jsx(at,{children:"Fund"}),u.jsx(at,{children:"Weight"}),u.jsx(at,{children:"Purchase NAV"}),u.jsx(at,{children:"Units bought"}),u.jsx(at,{children:"Units remaining"}),u.jsx(at,{children:"Total withdrawn"}),u.jsx(at,{children:"Current value"})]})}),u.jsx(Qs,{children:ge.fundSummaries.map(Ce=>u.jsxs(ln,{children:[u.jsx(Ke,{className:"font-medium",children:Ce.fundName}),u.jsxs(Ke,{children:[Ce.weightage,"%"]}),u.jsxs(Ke,{children:["",Rn(Ce.navAtPurchase,2)]}),u.jsx(Ke,{children:Rn(Ce.unitsPurchased,4)}),u.jsx(Ke,{children:Rn(Ce.remainingUnits,4)}),u.jsx(Ke,{children:Un(Ce.totalWithdrawn)}),u.jsx(Ke,{children:Un(Ce.currentValue)})]},Ce.fundId))})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Withdrawal ledger"}),u.jsx(Ct,{variant:"outline",onClick:()=>z(Ce=>!Ce),className:"text-sm",children:F?"Hide table":"Show table"})]}),F&&u.jsx(Ve,{className:"p-4 sm:p-6 border-slate-200 overflow-x-auto",children:ge.tableRows.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"No withdrawals occurred during the selected period."}):u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{children:[u.jsx(at,{children:"Date"}),u.jsx(at,{children:"Fund"}),u.jsx(at,{children:"NAV date"}),u.jsx(at,{children:"NAV ()"}),u.jsx(at,{children:"Withdrawal ()"}),u.jsx(at,{children:"Units redeemed"}),u.jsx(at,{children:"Units left"}),u.jsx(at,{children:"Fund value ()"}),u.jsx(at,{children:"Invested value ()"}),u.jsx(at,{children:"Profit / Loss ()"}),u.jsx(at,{children:"Principal withdrawn ()"}),u.jsx(at,{children:"Principal withdrawn (%)"}),u.jsx(at,{children:"Portfolio value ()"})]})}),u.jsx(Qs,{children:(()=>{const Ce={};let Ae=0;ge.tableRows.forEach(rt=>{Ce[rt.date]||(Ce[rt.date]=Ae,Ae++)});const We=["bg-white","bg-blue-50","bg-green-50","bg-purple-50","bg-yellow-50"],qe=["hover:bg-gray-50","hover:bg-blue-100","hover:bg-green-100","hover:bg-purple-100","hover:bg-yellow-100"];return ge.tableRows.map((rt,st)=>{const mt=Ce[rt.date]??0,Nt=We[mt%We.length],Yt=qe[mt%qe.length];return u.jsxs(ln,{className:`${Nt} ${Yt}`,children:[u.jsx(Ke,{children:rt.date}),u.jsx(Ke,{children:rt.fundName}),u.jsx(Ke,{children:rt.navDate}),u.jsx(Ke,{children:Rn(rt.nav,2)}),u.jsx(Ke,{children:Un(rt.withdrawalAmount)}),u.jsx(Ke,{children:Rn(rt.unitsRedeemed,4)}),u.jsx(Ke,{children:Rn(rt.unitsLeft,4)}),u.jsx(Ke,{children:Un(rt.fundValue)}),u.jsx(Ke,{children:Un(rt.investedValue)}),u.jsx(Ke,{children:Un(rt.profitLoss)}),u.jsx(Ke,{children:Un(rt.principalDepletedValue)}),u.jsxs(Ke,{children:[Rn(rt.principalDepletionPercent,2),"%"]}),u.jsx(Ke,{children:Un(rt.portfolioValue)})]},`${rt.date}-${rt.fundId}-${st}`)})})()})]})})]})]})}function Cpe({selectedFunds:t}){const[e,r]=j.useState(null);return t.length<1?u.jsxs(Ve,{className:"p-6 sm:p-8 text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-blue-100 mb-3 sm:mb-4",children:u.jsx(oa,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600"})}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Select Funds First"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-2",children:"Please add at least 1 fund to your portfolio above before planning your retirement."})]}):u.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[!e&&u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx(nt,{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4 block",children:"Select Planning Mode"}),u.jsx(tS,{value:e||"",onValueChange:n=>r(n),children:u.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 p-3 sm:p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 hover:border-green-300 transition-all",onClick:()=>r("PAYOUT"),children:[u.jsx(Il,{value:"PAYOUT",id:"payout"}),u.jsx(nt,{htmlFor:"payout",className:"cursor-pointer font-normal flex-1 text-sm sm:text-base",children:"How much payout expected? (I have corpus - Calculate safe withdrawal)"})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 p-3 sm:p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 hover:border-green-300 transition-all",onClick:()=>r("CORPUS"),children:[u.jsx(Il,{value:"CORPUS",id:"corpus"}),u.jsx(nt,{htmlFor:"corpus",className:"cursor-pointer font-normal flex-1 text-sm sm:text-base",children:"How much corpus is required? (I have target withdrawal - Calculate required corpus)"})]}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 p-3 sm:p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 hover:border-green-300 transition-all",onClick:()=>r("NORMAL"),children:[u.jsx(Il,{value:"NORMAL",id:"normal"}),u.jsx(nt,{htmlFor:"normal",className:"cursor-pointer font-normal flex-1 text-sm sm:text-base",children:"Perform Normal calculations"})]})]})})]}),e==="NORMAL"&&u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Normal SWP Calculator"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Run normal SWP simulations with your own inputs"})]}),u.jsx("button",{onClick:()=>r(null),className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-medium whitespace-nowrap",children:" Change Mode"})]}),u.jsx(O2,{funds:t,forcedMode:"NORMAL",title:"Normal SWP Simulation",hideAdvanced:!0})]}),e==="PAYOUT"&&u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Calculate Safe Withdrawal"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"I have a corpus - Calculate safe withdrawal amount"})]}),u.jsx("button",{onClick:()=>r(null),className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-medium whitespace-nowrap",children:" Change Mode"})]}),u.jsx(O2,{funds:t,forcedMode:"CORPUS",title:"Safe Withdrawal Calculator",hideAdvanced:!1})]}),e==="CORPUS"&&u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Calculate Required Corpus"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"I have a target withdrawal - Calculate required corpus"})]}),u.jsx("button",{onClick:()=>r(null),className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-medium whitespace-nowrap",children:" Change Mode"})]}),u.jsx(O2,{funds:t,forcedMode:"TARGET",title:"Required Corpus Calculator",hideAdvanced:!1})]})]})}function Epe({selectedFunds:t,onAddFund:e,onRemoveFund:r,onWeightageChange:n}){return j.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-slate-50 to-blue-50 py-4 sm:py-6 md:py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-6 sm:mb-8",children:u.jsx("div",{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6 md:p-8 text-white",children:u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-lg sm:rounded-xl bg-white/20 backdrop-blur-lg flex items-center justify-center flex-shrink-0",children:u.jsx(zm,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold break-words",children:"Retirement Plan"}),u.jsx("p",{className:"text-green-100 mt-1 sm:mt-2 text-sm sm:text-base",children:"Plan your retirement with systematic withdrawal plans and yearly return calculations"})]})]})})}),u.jsx("div",{className:"mb-6 sm:mb-8",children:u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Step 1: Select Your Funds"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"Search and add mutual funds to build your retirement portfolio. You can add 1-5 funds."}),u.jsx(ZN,{onSelectFund:e})]})}),t.length>0&&u.jsx("div",{className:"mb-8",children:u.jsx(JN,{funds:t,onRemoveFund:r,onWeightageChange:n})}),t.length>=1&&u.jsxs("div",{children:[u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Step 2: Plan Your Retirement"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Calculate your retirement corpus and withdrawal strategy using systematic withdrawal plans."})]}),u.jsx("div",{className:"mt-3 sm:mt-4",children:u.jsx(Cpe,{selectedFunds:t})})]}),t.length<1&&u.jsxs(Ve,{className:"p-6 sm:p-8 md:p-12 text-center",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-18 sm:h-18 md:w-20 md:h-20 rounded-xl sm:rounded-2xl bg-gradient-to-br from-green-100 to-emerald-100 mb-4 sm:mb-6 shadow-lg",children:u.jsx(zm,{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 text-green-600"})}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3 px-2",children:"Select Funds to Get Started"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 max-w-md mx-auto px-2",children:"Add at least 1 fund to your portfolio above to begin planning your retirement strategy."})]})]})})}const U9=[{name:"Mumbai",zone:1,state:"Maharashtra"},{name:"Delhi",zone:1,state:"Delhi"},{name:"Bangalore",zone:1,state:"Karnataka"},{name:"Hyderabad",zone:1,state:"Telangana"},{name:"Chennai",zone:1,state:"Tamil Nadu"},{name:"Kolkata",zone:1,state:"West Bengal"},{name:"Pune",zone:1,state:"Maharashtra"},{name:"Ahmedabad",zone:1,state:"Gujarat"},{name:"Navi Mumbai",zone:2,state:"Maharashtra"},{name:"Thane",zone:2,state:"Maharashtra"},{name:"Kalyan-Dombivli",zone:2,state:"Maharashtra"},{name:"Vasai-Virar",zone:2,state:"Maharashtra"},{name:"Nagpur",zone:2,state:"Maharashtra"},{name:"Nashik",zone:2,state:"Maharashtra"},{name:"Aurangabad",zone:2,state:"Maharashtra"},{name:"Solapur",zone:2,state:"Maharashtra"},{name:"Kolhapur",zone:2,state:"Maharashtra"},{name:"Sangli",zone:2,state:"Maharashtra"},{name:"Jalgaon",zone:2,state:"Maharashtra"},{name:"Amravati",zone:2,state:"Maharashtra"},{name:"Latur",zone:2,state:"Maharashtra"},{name:"Dhule",zone:2,state:"Maharashtra"},{name:"Nanded",zone:2,state:"Maharashtra"},{name:"Satara",zone:2,state:"Maharashtra"},{name:"Ichalkaranji",zone:2,state:"Maharashtra"},{name:"Akola",zone:2,state:"Maharashtra"},{name:"Chandrapur",zone:2,state:"Maharashtra"},{name:"Malegaon",zone:2,state:"Maharashtra"},{name:"Jalna",zone:2,state:"Maharashtra"},{name:"Bhusawal",zone:2,state:"Maharashtra"},{name:"Panvel",zone:2,state:"Maharashtra"},{name:"Badlapur",zone:2,state:"Maharashtra"},{name:"Ulhasnagar",zone:2,state:"Maharashtra"},{name:"Surat",zone:2,state:"Gujarat"},{name:"Vadodara",zone:2,state:"Gujarat"},{name:"Rajkot",zone:2,state:"Gujarat"},{name:"Gandhinagar",zone:2,state:"Gujarat"},{name:"Bhavnagar",zone:2,state:"Gujarat"},{name:"Jamnagar",zone:2,state:"Gujarat"},{name:"Junagadh",zone:2,state:"Gujarat"},{name:"Gandhidham",zone:2,state:"Gujarat"},{name:"Ankleshwar",zone:2,state:"Gujarat"},{name:"Bharuch",zone:2,state:"Gujarat"},{name:"Navsari",zone:2,state:"Gujarat"},{name:"Valsad",zone:2,state:"Gujarat"},{name:"Vapi",zone:2,state:"Gujarat"},{name:"Morbi",zone:2,state:"Gujarat"},{name:"Surendranagar",zone:2,state:"Gujarat"},{name:"Mehsana",zone:2,state:"Gujarat"},{name:"Palanpur",zone:2,state:"Gujarat"},{name:"Bhuj",zone:2,state:"Gujarat"},{name:"Jaipur",zone:2,state:"Rajasthan"},{name:"Jodhpur",zone:2,state:"Rajasthan"},{name:"Kota",zone:2,state:"Rajasthan"},{name:"Bikaner",zone:2,state:"Rajasthan"},{name:"Ajmer",zone:2,state:"Rajasthan"},{name:"Udaipur",zone:2,state:"Rajasthan"},{name:"Alwar",zone:2,state:"Rajasthan"},{name:"Bhilwara",zone:2,state:"Rajasthan"},{name:"Bharatpur",zone:2,state:"Rajasthan"},{name:"Sikar",zone:2,state:"Rajasthan"},{name:"Pali",zone:2,state:"Rajasthan"},{name:"Bhiwadi",zone:2,state:"Rajasthan"},{name:"Sri Ganganagar",zone:2,state:"Rajasthan"},{name:"Hanumangarh",zone:2,state:"Rajasthan"},{name:"Tonk",zone:2,state:"Rajasthan"},{name:"Kishangarh",zone:2,state:"Rajasthan"},{name:"Beawar",zone:2,state:"Rajasthan"},{name:"Chittorgarh",zone:2,state:"Rajasthan"},{name:"Jhunjhunu",zone:2,state:"Rajasthan"},{name:"Nagaur",zone:2,state:"Rajasthan"},{name:"Sawai Madhopur",zone:2,state:"Rajasthan"},{name:"Lucknow",zone:2,state:"Uttar Pradesh"},{name:"Kanpur",zone:2,state:"Uttar Pradesh"},{name:"Ghaziabad",zone:2,state:"Uttar Pradesh"},{name:"Agra",zone:2,state:"Uttar Pradesh"},{name:"Meerut",zone:2,state:"Uttar Pradesh"},{name:"Varanasi",zone:2,state:"Uttar Pradesh"},{name:"Allahabad",zone:2,state:"Uttar Pradesh"},{name:"Bareilly",zone:2,state:"Uttar Pradesh"},{name:"Aligarh",zone:2,state:"Uttar Pradesh"},{name:"Moradabad",zone:2,state:"Uttar Pradesh"},{name:"Saharanpur",zone:2,state:"Uttar Pradesh"},{name:"Muzaffarnagar",zone:2,state:"Uttar Pradesh"},{name:"Gorakhpur",zone:2,state:"Uttar Pradesh"},{name:"Mathura",zone:2,state:"Uttar Pradesh"},{name:"Jhansi",zone:2,state:"Uttar Pradesh"},{name:"Rampur",zone:2,state:"Uttar Pradesh"},{name:"Shahjahanpur",zone:2,state:"Uttar Pradesh"},{name:"Noida",zone:2,state:"Uttar Pradesh"},{name:"Greater Noida",zone:2,state:"Uttar Pradesh"},{name:"Firozabad",zone:2,state:"Uttar Pradesh"},{name:"Prayagraj",zone:2,state:"Uttar Pradesh"},{name:"Sitapur",zone:2,state:"Uttar Pradesh"},{name:"Hardoi",zone:2,state:"Uttar Pradesh"},{name:"Unnao",zone:2,state:"Uttar Pradesh"},{name:"Raebareli",zone:2,state:"Uttar Pradesh"},{name:"Sultanpur",zone:2,state:"Uttar Pradesh"},{name:"Bahraich",zone:2,state:"Uttar Pradesh"},{name:"Pilibhit",zone:2,state:"Uttar Pradesh"},{name:"Badaun",zone:2,state:"Uttar Pradesh"},{name:"Amroha",zone:2,state:"Uttar Pradesh"},{name:"Sambhal",zone:2,state:"Uttar Pradesh"},{name:"Shamli",zone:2,state:"Uttar Pradesh"},{name:"Bagpat",zone:2,state:"Uttar Pradesh"},{name:"Hapur",zone:2,state:"Uttar Pradesh"},{name:"Bulandshahr",zone:2,state:"Uttar Pradesh"},{name:"Hathras",zone:2,state:"Uttar Pradesh"},{name:"Etah",zone:2,state:"Uttar Pradesh"},{name:"Kasganj",zone:2,state:"Uttar Pradesh"},{name:"Mainpuri",zone:2,state:"Uttar Pradesh"},{name:"Etawah",zone:2,state:"Uttar Pradesh"},{name:"Auraiya",zone:2,state:"Uttar Pradesh"},{name:"Kannauj",zone:2,state:"Uttar Pradesh"},{name:"Farrukhabad",zone:2,state:"Uttar Pradesh"},{name:"Deoria",zone:2,state:"Uttar Pradesh"},{name:"Mau",zone:2,state:"Uttar Pradesh"},{name:"Azamgarh",zone:2,state:"Uttar Pradesh"},{name:"Ballia",zone:2,state:"Uttar Pradesh"},{name:"Ghazipur",zone:2,state:"Uttar Pradesh"},{name:"Mirzapur",zone:2,state:"Uttar Pradesh"},{name:"Sonbhadra",zone:2,state:"Uttar Pradesh"},{name:"Chandauli",zone:2,state:"Uttar Pradesh"},{name:"Fatehpur",zone:2,state:"Uttar Pradesh"},{name:"Banda",zone:2,state:"Uttar Pradesh"},{name:"Hamirpur",zone:2,state:"Uttar Pradesh"},{name:"Mahoba",zone:2,state:"Uttar Pradesh"},{name:"Lalitpur",zone:2,state:"Uttar Pradesh"},{name:"Jalaun",zone:2,state:"Uttar Pradesh"},{name:"Orai",zone:2,state:"Uttar Pradesh"},{name:"Lakhimpur Kheri",zone:2,state:"Uttar Pradesh"},{name:"Bijnor",zone:2,state:"Uttar Pradesh"},{name:"Gautam Buddha Nagar",zone:2,state:"Uttar Pradesh"},{name:"Indore",zone:2,state:"Madhya Pradesh"},{name:"Bhopal",zone:2,state:"Madhya Pradesh"},{name:"Gwalior",zone:2,state:"Madhya Pradesh"},{name:"Jabalpur",zone:2,state:"Madhya Pradesh"},{name:"Ujjain",zone:2,state:"Madhya Pradesh"},{name:"Sagar",zone:2,state:"Madhya Pradesh"},{name:"Dewas",zone:2,state:"Madhya Pradesh"},{name:"Ratlam",zone:2,state:"Madhya Pradesh"},{name:"Satna",zone:2,state:"Madhya Pradesh"},{name:"Burhanpur",zone:2,state:"Madhya Pradesh"},{name:"Murwara",zone:2,state:"Madhya Pradesh"},{name:"Rewa",zone:2,state:"Madhya Pradesh"},{name:"Chhindwara",zone:2,state:"Madhya Pradesh"},{name:"Khandwa",zone:2,state:"Madhya Pradesh"},{name:"Morena",zone:2,state:"Madhya Pradesh"},{name:"Guna",zone:2,state:"Madhya Pradesh"},{name:"Vidisha",zone:2,state:"Madhya Pradesh"},{name:"Shivpuri",zone:2,state:"Madhya Pradesh"},{name:"Ludhiana",zone:2,state:"Punjab"},{name:"Amritsar",zone:2,state:"Punjab"},{name:"Jalandhar",zone:2,state:"Punjab"},{name:"Patiala",zone:2,state:"Punjab"},{name:"Mohali",zone:2,state:"Punjab"},{name:"Bathinda",zone:2,state:"Punjab"},{name:"Hoshiarpur",zone:2,state:"Punjab"},{name:"Moga",zone:2,state:"Punjab"},{name:"Sangrur",zone:2,state:"Punjab"},{name:"Pathankot",zone:2,state:"Punjab"},{name:"Phagwara",zone:2,state:"Punjab"},{name:"Abohar",zone:2,state:"Punjab"},{name:"Muktsar",zone:2,state:"Punjab"},{name:"Firozpur",zone:2,state:"Punjab"},{name:"Kapurthala",zone:2,state:"Punjab"},{name:"Batala",zone:2,state:"Punjab"},{name:"Gurgaon",zone:2,state:"Haryana"},{name:"Faridabad",zone:2,state:"Haryana"},{name:"Panipat",zone:2,state:"Haryana"},{name:"Karnal",zone:2,state:"Haryana"},{name:"Rohtak",zone:2,state:"Haryana"},{name:"Hisar",zone:2,state:"Haryana"},{name:"Sonipat",zone:2,state:"Haryana"},{name:"Ambala",zone:2,state:"Haryana"},{name:"Yamunanagar",zone:2,state:"Haryana"},{name:"Kurukshetra",zone:2,state:"Haryana"},{name:"Rewari",zone:2,state:"Haryana"},{name:"Palwal",zone:2,state:"Haryana"},{name:"Bhiwani",zone:2,state:"Haryana"},{name:"Sirsa",zone:2,state:"Haryana"},{name:"Kaithal",zone:2,state:"Haryana"},{name:"Narnaul",zone:2,state:"Haryana"},{name:"Fatehabad",zone:2,state:"Haryana"},{name:"Jind",zone:2,state:"Haryana"},{name:"Dehradun",zone:2,state:"Uttarakhand"},{name:"Haridwar",zone:2,state:"Uttarakhand"},{name:"Roorkee",zone:2,state:"Uttarakhand"},{name:"Haldwani",zone:2,state:"Uttarakhand"},{name:"Rudrapur",zone:2,state:"Uttarakhand"},{name:"Kashipur",zone:2,state:"Uttarakhand"},{name:"Rishikesh",zone:2,state:"Uttarakhand"},{name:"Nainital",zone:2,state:"Uttarakhand"},{name:"Pithoragarh",zone:2,state:"Uttarakhand"},{name:"Almora",zone:2,state:"Uttarakhand"},{name:"Patna",zone:2,state:"Bihar"},{name:"Muzaffarpur",zone:2,state:"Bihar"},{name:"Gaya",zone:2,state:"Bihar"},{name:"Bhagalpur",zone:2,state:"Bihar"},{name:"Purnia",zone:2,state:"Bihar"},{name:"Darbhanga",zone:2,state:"Bihar"},{name:"Arrah",zone:2,state:"Bihar"},{name:"Begusarai",zone:2,state:"Bihar"},{name:"Katihar",zone:2,state:"Bihar"},{name:"Munger",zone:2,state:"Bihar"},{name:"Chhapra",zone:2,state:"Bihar"},{name:"Hajipur",zone:2,state:"Bihar"},{name:"Saharsa",zone:2,state:"Bihar"},{name:"Samastipur",zone:2,state:"Bihar"},{name:"Motihari",zone:2,state:"Bihar"},{name:"Bettiah",zone:2,state:"Bihar"},{name:"Siwan",zone:2,state:"Bihar"},{name:"Buxar",zone:2,state:"Bihar"},{name:"Jehanabad",zone:2,state:"Bihar"},{name:"Nawada",zone:2,state:"Bihar"},{name:"Raipur",zone:2,state:"Chhattisgarh"},{name:"Durg-Bhilai",zone:2,state:"Chhattisgarh"},{name:"Bilaspur",zone:2,state:"Chhattisgarh"},{name:"Korba",zone:2,state:"Chhattisgarh"},{name:"Raigarh",zone:2,state:"Chhattisgarh"},{name:"Jagdalpur",zone:2,state:"Chhattisgarh"},{name:"Ambikapur",zone:2,state:"Chhattisgarh"},{name:"Rajnandgaon",zone:2,state:"Chhattisgarh"},{name:"Dhamtari",zone:2,state:"Chhattisgarh"},{name:"Mahasamund",zone:2,state:"Chhattisgarh"},{name:"Ranchi",zone:2,state:"Jharkhand"},{name:"Jamshedpur",zone:2,state:"Jharkhand"},{name:"Dhanbad",zone:2,state:"Jharkhand"},{name:"Bokaro",zone:2,state:"Jharkhand"},{name:"Hazaribagh",zone:2,state:"Jharkhand"},{name:"Ramgarh",zone:2,state:"Jharkhand"},{name:"Giridih",zone:2,state:"Jharkhand"},{name:"Deoghar",zone:2,state:"Jharkhand"},{name:"Dumka",zone:2,state:"Jharkhand"},{name:"Gumla",zone:2,state:"Jharkhand"},{name:"Bhubaneswar",zone:2,state:"Odisha"},{name:"Cuttack",zone:2,state:"Odisha"},{name:"Rourkela",zone:2,state:"Odisha"},{name:"Berhampur",zone:2,state:"Odisha"},{name:"Sambalpur",zone:2,state:"Odisha"},{name:"Puri",zone:2,state:"Odisha"},{name:"Balasore",zone:2,state:"Odisha"},{name:"Bhadrak",zone:2,state:"Odisha"},{name:"Baripada",zone:2,state:"Odisha"},{name:"Jharsuguda",zone:2,state:"Odisha"},{name:"Coimbatore",zone:2,state:"Tamil Nadu"},{name:"Madurai",zone:2,state:"Tamil Nadu"},{name:"Tiruchirappalli",zone:2,state:"Tamil Nadu"},{name:"Salem",zone:2,state:"Tamil Nadu"},{name:"Tirunelveli",zone:2,state:"Tamil Nadu"},{name:"Erode",zone:2,state:"Tamil Nadu"},{name:"Dindigul",zone:2,state:"Tamil Nadu"},{name:"Vellore",zone:2,state:"Tamil Nadu"},{name:"Tirupur",zone:2,state:"Tamil Nadu"},{name:"Nagercoil",zone:2,state:"Tamil Nadu"},{name:"Thanjavur",zone:2,state:"Tamil Nadu"},{name:"Kumbakonam",zone:2,state:"Tamil Nadu"},{name:"Karaikudi",zone:2,state:"Tamil Nadu"},{name:"Dharmapuri",zone:2,state:"Tamil Nadu"},{name:"Krishnagiri",zone:2,state:"Tamil Nadu"},{name:"Hosur",zone:2,state:"Tamil Nadu"},{name:"Pollachi",zone:2,state:"Tamil Nadu"},{name:"Udumalaipettai",zone:2,state:"Tamil Nadu"},{name:"Rajapalayam",zone:2,state:"Tamil Nadu"},{name:"Sivakasi",zone:2,state:"Tamil Nadu"},{name:"Virudhunagar",zone:2,state:"Tamil Nadu"},{name:"Mysore",zone:2,state:"Karnataka"},{name:"Hubli",zone:2,state:"Karnataka"},{name:"Mangalore",zone:2,state:"Karnataka"},{name:"Belgaum",zone:2,state:"Karnataka"},{name:"Gulbarga",zone:2,state:"Karnataka"},{name:"Dharwad",zone:2,state:"Karnataka"},{name:"Bijapur",zone:2,state:"Karnataka"},{name:"Raichur",zone:2,state:"Karnataka"},{name:"Bidar",zone:2,state:"Karnataka"},{name:"Hospet",zone:2,state:"Karnataka"},{name:"Bellary",zone:2,state:"Karnataka"},{name:"Tumkur",zone:2,state:"Karnataka"},{name:"Mandya",zone:2,state:"Karnataka"},{name:"Shimoga",zone:2,state:"Karnataka"},{name:"Chikmagalur",zone:2,state:"Karnataka"},{name:"Udupi",zone:2,state:"Karnataka"},{name:"Davangere",zone:2,state:"Karnataka"},{name:"Hassan",zone:2,state:"Karnataka"},{name:"Warangal",zone:2,state:"Telangana"},{name:"Nizamabad",zone:2,state:"Telangana"},{name:"Karimnagar",zone:2,state:"Telangana"},{name:"Ramagundam",zone:2,state:"Telangana"},{name:"Mahabubnagar",zone:2,state:"Telangana"},{name:"Siddipet",zone:2,state:"Telangana"},{name:"Suryapet",zone:2,state:"Telangana"},{name:"Adilabad",zone:2,state:"Telangana"},{name:"Nalgonda",zone:2,state:"Telangana"},{name:"Khammam",zone:2,state:"Telangana"},{name:"Visakhapatnam",zone:2,state:"Andhra Pradesh"},{name:"Vijayawada",zone:2,state:"Andhra Pradesh"},{name:"Rajahmundry",zone:2,state:"Andhra Pradesh"},{name:"Guntur",zone:2,state:"Andhra Pradesh"},{name:"Tirupati",zone:2,state:"Andhra Pradesh"},{name:"Nellore",zone:2,state:"Andhra Pradesh"},{name:"Kurnool",zone:2,state:"Andhra Pradesh"},{name:"Kadapa",zone:2,state:"Andhra Pradesh"},{name:"Anantapur",zone:2,state:"Andhra Pradesh"},{name:"Chittoor",zone:2,state:"Andhra Pradesh"},{name:"Eluru",zone:2,state:"Andhra Pradesh"},{name:"Ongole",zone:2,state:"Andhra Pradesh"},{name:"Machilipatnam",zone:2,state:"Andhra Pradesh"},{name:"Proddatur",zone:2,state:"Andhra Pradesh"},{name:"Tenali",zone:2,state:"Andhra Pradesh"},{name:"Bhimavaram",zone:2,state:"Andhra Pradesh"},{name:"Kochi",zone:2,state:"Kerala"},{name:"Thiruvananthapuram",zone:2,state:"Kerala"},{name:"Kozhikode",zone:2,state:"Kerala"},{name:"Thrissur",zone:2,state:"Kerala"},{name:"Kannur",zone:2,state:"Kerala"},{name:"Kollam",zone:2,state:"Kerala"},{name:"Alappuzha",zone:2,state:"Kerala"},{name:"Palakkad",zone:2,state:"Kerala"},{name:"Malappuram",zone:2,state:"Kerala"},{name:"Kottayam",zone:2,state:"Kerala"},{name:"Manjeri",zone:2,state:"Kerala"},{name:"Tirur",zone:2,state:"Kerala"},{name:"Ponnani",zone:2,state:"Kerala"},{name:"Howrah",zone:2,state:"West Bengal"},{name:"Durgapur",zone:2,state:"West Bengal"},{name:"Asansol",zone:2,state:"West Bengal"},{name:"Siliguri",zone:2,state:"West Bengal"},{name:"Bardhaman",zone:2,state:"West Bengal"},{name:"Malda",zone:2,state:"West Bengal"},{name:"Kharagpur",zone:2,state:"West Bengal"},{name:"Haldia",zone:2,state:"West Bengal"},{name:"Krishnanagar",zone:2,state:"West Bengal"},{name:"Darjeeling",zone:2,state:"West Bengal"},{name:"Guwahati",zone:2,state:"Assam"},{name:"Silchar",zone:2,state:"Assam"},{name:"Dibrugarh",zone:2,state:"Assam"},{name:"Jorhat",zone:2,state:"Assam"},{name:"Tinsukia",zone:2,state:"Assam"},{name:"Tezpur",zone:2,state:"Assam"},{name:"Nagaon",zone:2,state:"Assam"},{name:"Goalpara",zone:2,state:"Assam"},{name:"Chandigarh",zone:2,state:"Chandigarh"},{name:"Srinagar",zone:2,state:"Jammu and Kashmir"},{name:"Jammu",zone:2,state:"Jammu and Kashmir"},{name:"Imphal",zone:2,state:"Manipur"},{name:"Shillong",zone:2,state:"Meghalaya"},{name:"Panaji",zone:2,state:"Goa"},{name:"Vasco da Gama",zone:2,state:"Goa"},{name:"Pondicherry",zone:2,state:"Puducherry"},{name:"Parbhani",zone:3,state:"Maharashtra"},{name:"Sangamner",zone:3,state:"Maharashtra"},{name:"Barshi",zone:3,state:"Maharashtra"},{name:"Yavatmal",zone:3,state:"Maharashtra"},{name:"Kamptee",zone:3,state:"Maharashtra"},{name:"Gondia",zone:3,state:"Maharashtra"},{name:"Wardha",zone:3,state:"Maharashtra"},{name:"Osmanabad",zone:3,state:"Maharashtra"},{name:"Beed",zone:3,state:"Maharashtra"},{name:"Ahmednagar",zone:3,state:"Maharashtra"},{name:"Ratnagiri",zone:3,state:"Maharashtra"},{name:"Chiplun",zone:3,state:"Maharashtra"},{name:"Baramati",zone:3,state:"Maharashtra"},{name:"Sangli-Miraj",zone:3,state:"Maharashtra"},{name:"Godhra",zone:3,state:"Gujarat"},{name:"Botad",zone:3,state:"Gujarat"},{name:"Dahod",zone:3,state:"Gujarat"},{name:"Nadiad",zone:3,state:"Gujarat"},{name:"Banswara",zone:3,state:"Rajasthan"},{name:"Baran",zone:3,state:"Rajasthan"},{name:"Bundi",zone:3,state:"Rajasthan"},{name:"Dausa",zone:3,state:"Rajasthan"},{name:"Dholpur",zone:3,state:"Rajasthan"},{name:"Dungarpur",zone:3,state:"Rajasthan"},{name:"Jaisalmer",zone:3,state:"Rajasthan"},{name:"Jalore",zone:3,state:"Rajasthan"},{name:"Jhalawar",zone:3,state:"Rajasthan"},{name:"Rajsamand",zone:3,state:"Rajasthan"},{name:"Sirohi",zone:3,state:"Rajasthan"},{name:"Karauli",zone:3,state:"Rajasthan"},{name:"Kashipur",zone:3,state:"Uttar Pradesh"},{name:"Fatehgarh",zone:3,state:"Uttar Pradesh"},{name:"Kaushambi",zone:3,state:"Uttar Pradesh"},{name:"Pratapgarh",zone:3,state:"Uttar Pradesh"},{name:"Amethi",zone:3,state:"Uttar Pradesh"},{name:"Barabanki",zone:3,state:"Uttar Pradesh"},{name:"Ayodhya",zone:3,state:"Uttar Pradesh"},{name:"Gonda",zone:3,state:"Uttar Pradesh"},{name:"Basti",zone:3,state:"Uttar Pradesh"},{name:"Siddharthnagar",zone:3,state:"Uttar Pradesh"},{name:"Maharajganj",zone:3,state:"Uttar Pradesh"},{name:"Kushinagar",zone:3,state:"Uttar Pradesh"},{name:"Sant Kabir Nagar",zone:3,state:"Uttar Pradesh"},{name:"Mussoorie",zone:3,state:"Uttarakhand"},{name:"Chamoli",zone:3,state:"Uttarakhand"},{name:"Tehri",zone:3,state:"Uttarakhand"},{name:"Pauri",zone:3,state:"Uttarakhand"},{name:"Champawat",zone:3,state:"Uttarakhand"},{name:"Bageshwar",zone:3,state:"Uttarakhand"},{name:"Udham Singh Nagar",zone:3,state:"Uttarakhand"},{name:"Madhepura",zone:3,state:"Bihar"},{name:"Banka",zone:3,state:"Bihar"},{name:"Jamui",zone:3,state:"Bihar"},{name:"Lakhisarai",zone:3,state:"Bihar"},{name:"Sheikhpura",zone:3,state:"Bihar"},{name:"Aurangabad",zone:3,state:"Bihar"},{name:"Kaimur",zone:3,state:"Bihar"},{name:"Rohtas",zone:3,state:"Bihar"},{name:"Arwal",zone:3,state:"Bihar"},{name:"Gopalganj",zone:3,state:"Bihar"},{name:"Vaishali",zone:3,state:"Bihar"},{name:"Saran",zone:3,state:"Bihar"},{name:"Sheohar",zone:3,state:"Bihar"},{name:"Sitamarhi",zone:3,state:"Bihar"},{name:"Madhubani",zone:3,state:"Bihar"},{name:"Supaul",zone:3,state:"Bihar"},{name:"Kishanganj",zone:3,state:"Bihar"},{name:"Araria",zone:3,state:"Bihar"},{name:"Dantewada",zone:3,state:"Chhattisgarh"},{name:"Bijapur",zone:3,state:"Chhattisgarh"},{name:"Narayanpur",zone:3,state:"Chhattisgarh"},{name:"Kanker",zone:3,state:"Chhattisgarh"},{name:"Kondagaon",zone:3,state:"Chhattisgarh"},{name:"Bastar",zone:3,state:"Chhattisgarh"},{name:"Sukma",zone:3,state:"Chhattisgarh"},{name:"Mungeli",zone:3,state:"Chhattisgarh"},{name:"Balod",zone:3,state:"Chhattisgarh"},{name:"Gariaband",zone:3,state:"Chhattisgarh"},{name:"Pakur",zone:3,state:"Jharkhand"},{name:"Godda",zone:3,state:"Jharkhand"},{name:"Sahebganj",zone:3,state:"Jharkhand"},{name:"Chatra",zone:3,state:"Jharkhand"},{name:"Koderma",zone:3,state:"Jharkhand"},{name:"Simdega",zone:3,state:"Jharkhand"},{name:"Khunti",zone:3,state:"Jharkhand"},{name:"Latehar",zone:3,state:"Jharkhand"},{name:"Lohardaga",zone:3,state:"Jharkhand"},{name:"Palamu",zone:3,state:"Jharkhand"},{name:"Jajpur",zone:3,state:"Odisha"},{name:"Kendrapara",zone:3,state:"Odisha"},{name:"Jagatsinghpur",zone:3,state:"Odisha"},{name:"Khordha",zone:3,state:"Odisha"},{name:"Nayagarh",zone:3,state:"Odisha"},{name:"Ganjam",zone:3,state:"Odisha"},{name:"Gajapati",zone:3,state:"Odisha"},{name:"Kandhamal",zone:3,state:"Odisha"},{name:"Boudh",zone:3,state:"Odisha"},{name:"Sonepur",zone:3,state:"Odisha"},{name:"Bolangir",zone:3,state:"Odisha"},{name:"Nuapada",zone:3,state:"Odisha"},{name:"Kalahandi",zone:3,state:"Odisha"},{name:"Rayagada",zone:3,state:"Odisha"},{name:"Nabarangpur",zone:3,state:"Odisha"},{name:"Koraput",zone:3,state:"Odisha"},{name:"Malkangiri",zone:3,state:"Odisha"},{name:"Angul",zone:3,state:"Odisha"},{name:"Dhenkanal",zone:3,state:"Odisha"},{name:"Keonjhar",zone:3,state:"Odisha"},{name:"Mayurbhanj",zone:3,state:"Odisha"},{name:"Tuticorin",zone:3,state:"Tamil Nadu"},{name:"Cuddalore",zone:3,state:"Tamil Nadu"},{name:"Villupuram",zone:3,state:"Tamil Nadu"},{name:"Pudukkottai",zone:3,state:"Tamil Nadu"},{name:"Ramanathapuram",zone:3,state:"Tamil Nadu"},{name:"Sivaganga",zone:3,state:"Tamil Nadu"},{name:"Pattukkottai",zone:3,state:"Tamil Nadu"},{name:"Ariyalur",zone:3,state:"Tamil Nadu"},{name:"Perambalur",zone:3,state:"Tamil Nadu"},{name:"Nagapattinam",zone:3,state:"Tamil Nadu"},{name:"Thiruvarur",zone:3,state:"Tamil Nadu"},{name:"Chitradurga",zone:3,state:"Karnataka"},{name:"Kolar",zone:3,state:"Karnataka"},{name:"Chikkaballapur",zone:3,state:"Karnataka"},{name:"Ramanagara",zone:3,state:"Karnataka"},{name:"Chamarajanagar",zone:3,state:"Karnataka"},{name:"Haveri",zone:3,state:"Karnataka"},{name:"Gadag",zone:3,state:"Karnataka"},{name:"Bagalkot",zone:3,state:"Karnataka"},{name:"Vijayapura",zone:3,state:"Karnataka"},{name:"Yadgir",zone:3,state:"Karnataka"},{name:"Kalaburagi",zone:3,state:"Karnataka"},{name:"Medak",zone:3,state:"Telangana"},{name:"Sangareddy",zone:3,state:"Telangana"},{name:"Mancherial",zone:3,state:"Telangana"},{name:"Jagtial",zone:3,state:"Telangana"},{name:"Kamareddy",zone:3,state:"Telangana"},{name:"Peddapalli",zone:3,state:"Telangana"},{name:"Bhongir",zone:3,state:"Telangana"},{name:"Mahabubabad",zone:3,state:"Telangana"},{name:"Tadepalligudem",zone:3,state:"Andhra Pradesh"},{name:"Palakollu",zone:3,state:"Andhra Pradesh"},{name:"Narsapuram",zone:3,state:"Andhra Pradesh"},{name:"Chilakaluripet",zone:3,state:"Andhra Pradesh"},{name:"Bapatla",zone:3,state:"Andhra Pradesh"},{name:"Srikakulam",zone:3,state:"Andhra Pradesh"},{name:"Vizianagaram",zone:3,state:"Andhra Pradesh"},{name:"Parvathipuram",zone:3,state:"Andhra Pradesh"},{name:"Narasaraopet",zone:3,state:"Andhra Pradesh"},{name:"Markapur",zone:3,state:"Andhra Pradesh"},{name:"Kadiri",zone:3,state:"Andhra Pradesh"},{name:"Pathanamthitta",zone:3,state:"Kerala"},{name:"Idukki",zone:3,state:"Kerala"},{name:"Wayanad",zone:3,state:"Kerala"},{name:"Kasaragod",zone:3,state:"Kerala"},{name:"Kalyani",zone:3,state:"West Bengal"},{name:"Raiganj",zone:3,state:"West Bengal"},{name:"Balurghat",zone:3,state:"West Bengal"},{name:"Jalpaiguri",zone:3,state:"West Bengal"},{name:"Alipurduar",zone:3,state:"West Bengal"},{name:"Cooch Behar",zone:3,state:"West Bengal"},{name:"Purulia",zone:3,state:"West Bengal"},{name:"Bankura",zone:3,state:"West Bengal"},{name:"Midnapore",zone:3,state:"West Bengal"},{name:"Tamluk",zone:3,state:"West Bengal"},{name:"Contai",zone:3,state:"West Bengal"},{name:"Diamond Harbour",zone:3,state:"West Bengal"},{name:"Barasat",zone:3,state:"West Bengal"},{name:"Basirhat",zone:3,state:"West Bengal"},{name:"Berhampore",zone:3,state:"West Bengal"},{name:"Baharampur",zone:3,state:"West Bengal"},{name:"Barpeta",zone:3,state:"Assam"},{name:"Bongaigaon",zone:3,state:"Assam"},{name:"Dhubri",zone:3,state:"Assam"},{name:"Kokrajhar",zone:3,state:"Assam"},{name:"Sivasagar",zone:3,state:"Assam"},{name:"Dhemaji",zone:3,state:"Assam"},{name:"Lakhimpur",zone:3,state:"Assam"},{name:"Sonitpur",zone:3,state:"Assam"},{name:"Udalguri",zone:3,state:"Assam"},{name:"Darrang",zone:3,state:"Assam"},{name:"Morigaon",zone:3,state:"Assam"},{name:"Hojai",zone:3,state:"Assam"},{name:"Karimganj",zone:3,state:"Assam"},{name:"Hailakandi",zone:3,state:"Assam"},{name:"Cachar",zone:3,state:"Assam"},{name:"Karbi Anglong",zone:3,state:"Assam"},{name:"Dima Hasao",zone:3,state:"Assam"},{name:"Kohima",zone:3,state:"Nagaland"},{name:"Dimapur",zone:3,state:"Nagaland"},{name:"Mokokchung",zone:3,state:"Nagaland"},{name:"Tuensang",zone:3,state:"Nagaland"},{name:"Wokha",zone:3,state:"Nagaland"},{name:"Zunheboto",zone:3,state:"Nagaland"},{name:"Aizawl",zone:3,state:"Mizoram"},{name:"Lunglei",zone:3,state:"Mizoram"},{name:"Saiha",zone:3,state:"Mizoram"},{name:"Champhai",zone:3,state:"Mizoram"},{name:"Serchhip",zone:3,state:"Mizoram"},{name:"Kolasib",zone:3,state:"Mizoram"},{name:"Mamit",zone:3,state:"Mizoram"},{name:"Lawngtlai",zone:3,state:"Mizoram"},{name:"Agartala",zone:3,state:"Tripura"},{name:"Udaipur",zone:3,state:"Tripura"},{name:"Ambassa",zone:3,state:"Tripura"},{name:"Kailasahar",zone:3,state:"Tripura"},{name:"Dharmanagar",zone:3,state:"Tripura"},{name:"Khowai",zone:3,state:"Tripura"},{name:"Itanagar",zone:3,state:"Arunachal Pradesh"},{name:"Naharlagun",zone:3,state:"Arunachal Pradesh"},{name:"Pasighat",zone:3,state:"Arunachal Pradesh"},{name:"Tezu",zone:3,state:"Arunachal Pradesh"},{name:"Ziro",zone:3,state:"Arunachal Pradesh"},{name:"Bomdila",zone:3,state:"Arunachal Pradesh"},{name:"Tawang",zone:3,state:"Arunachal Pradesh"},{name:"Gangtok",zone:3,state:"Sikkim"},{name:"Namchi",zone:3,state:"Sikkim"},{name:"Mangan",zone:3,state:"Sikkim"},{name:"Geyzing",zone:3,state:"Sikkim"},{name:"Jorethang",zone:3,state:"Sikkim"},{name:"Anantnag",zone:3,state:"Jammu and Kashmir"},{name:"Baramulla",zone:3,state:"Jammu and Kashmir"},{name:"Sopore",zone:3,state:"Jammu and Kashmir"},{name:"Leh",zone:3,state:"Ladakh"},{name:"Kargil",zone:3,state:"Ladakh"},{name:"Port Blair",zone:3,state:"Andaman and Nicobar Islands"},{name:"Diglipur",zone:3,state:"Andaman and Nicobar Islands"},{name:"Mayabunder",zone:3,state:"Andaman and Nicobar Islands"},{name:"Rangat",zone:3,state:"Andaman and Nicobar Islands"},{name:"Kavaratti",zone:3,state:"Lakshadweep"},{name:"Agatti",zone:3,state:"Lakshadweep"},{name:"Amini",zone:3,state:"Lakshadweep"},{name:"Andrott",zone:3,state:"Lakshadweep"},{name:"Bitra",zone:3,state:"Lakshadweep"},{name:"Chettat",zone:3,state:"Lakshadweep"},{name:"Kadmat",zone:3,state:"Lakshadweep"},{name:"Kalpeni",zone:3,state:"Lakshadweep"},{name:"Kiltan",zone:3,state:"Lakshadweep"},{name:"Minicoy",zone:3,state:"Lakshadweep"},{name:"Daman",zone:3,state:"Daman and Diu"},{name:"Diu",zone:3,state:"Daman and Diu"},{name:"Silvassa",zone:3,state:"Dadra and Nagar Haveli"},{name:"Margao",zone:3,state:"Goa"},{name:"Mapusa",zone:3,state:"Goa"},{name:"Ponda",zone:3,state:"Goa"}];function Tpe(t,e){const r=W9(t);return r?r.zone:null}function W9(t,e){return U9.find(r=>r.name.toLowerCase()===t.toLowerCase())||null}function Ope(){return[...U9].sort((t,e)=>t.zone!==e.zone?t.zone-e.zone:t.name.localeCompare(e.name))}const k2=["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad"];function kpe({value:t,onChange:e,label:r="City/Locality",required:n=!1}){const[a,i]=j.useState(""),[s,o]=j.useState(!1),[l,c]=j.useState(0),d=j.useRef(null),f=j.useRef(null),p=j.useRef(null),h=j.useMemo(()=>Ope(),[]),v=j.useMemo(()=>{if(!t)return null;if(t.includes("|")){const[A,C]=t.split("|");return h.find(E=>E.name.toLowerCase()===A.toLowerCase()&&E.state.toLowerCase()===C.toLowerCase())||null}return W9(t)},[t,h]),m=j.useMemo(()=>{if(!a.trim()){const C=h.filter(R=>k2.includes(R.name)),E=h.filter(R=>!k2.includes(R.name));return[...C,...E]}const A=a.toLowerCase().trim();return h.filter(C=>C.name.toLowerCase().includes(A)||C.state.toLowerCase().includes(A))},[a,h]);j.useEffect(()=>{c(0)},[m.length]),j.useEffect(()=>{const A=C=>{f.current&&!f.current.contains(C.target)&&(o(!1),i(""))};if(s)return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[s]);const g=A=>{if(!s&&(A.key==="ArrowDown"||A.key==="Enter")){o(!0);return}if(s)switch(A.key){case"ArrowDown":A.preventDefault(),c(C=>C<m.length-1?C+1:C);break;case"ArrowUp":A.preventDefault(),c(C=>C>0?C-1:0);break;case"Enter":if(A.preventDefault(),m[l]){const C=m[l];b(C.name,C.state)}break;case"Escape":o(!1),i(""),d.current?.blur();break}},b=(A,C)=>{let E=null;C?E=h.find(L=>L.name.toLowerCase()===A.toLowerCase()&&L.state.toLowerCase()===C.toLowerCase())?.zone||null:E=Tpe(A),e(A,E||1,C),o(!1),i(""),d.current?.blur()},w=A=>{const C=A.target.value;i(C),o(!0),C&&!s&&o(!0)},N=()=>{o(!0)},_=s?a:v?`${v.name}, ${v.state}`:t&&!t.includes("|")?t:"";return u.jsxs("div",{ref:f,className:"relative",children:[u.jsxs(nt,{htmlFor:"city",children:[r," ",n&&"*"]}),u.jsxs("div",{className:"relative",children:[u.jsx(pN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 z-10"}),u.jsx(Tt,{id:"city",ref:d,type:"text",value:s?a:_,onChange:w,onFocus:N,onKeyDown:g,placeholder:"Type to search city...",className:"pl-10 pr-10",required:n}),u.jsx(h0,{className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 transition-transform ${s?"rotate-180":""}`,onClick:()=>{o(!s),s||d.current?.focus()}})]}),s&&u.jsxs(Ve,{className:"absolute top-full left-0 right-0 mt-1 z-50 shadow-lg border-2 max-h-[400px] overflow-hidden",children:[u.jsx("div",{ref:p,className:"overflow-y-auto max-h-[400px]",style:{scrollBehavior:"smooth"},children:m.length===0?u.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:['No cities found for "',a,'"']}):u.jsxs(u.Fragment,{children:[!a&&u.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 bg-gray-50 border-b sticky top-0",children:"Popular Cities"}),m.map((A,C)=>{const E=C===l,R=!a&&k2.includes(A.name);return u.jsx("div",{className:`
                        px-3 py-2 cursor-pointer transition-colors
                        ${E?"bg-blue-50 border-l-2 border-l-blue-500":"hover:bg-gray-50"}
                        ${R&&!a?"font-semibold":""}
                      `,onClick:()=>b(A.name,A.state),onMouseEnter:()=>c(C),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-sm text-gray-900 truncate",children:A.name}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:A.state})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[u.jsxs("span",{className:"text-xs text-gray-400",children:["Zone ",A.zone]}),t&&(t.includes("|")&&t===`${A.name}|${A.state}`||!t.includes("|")&&t===A.name&&v?.name===A.name)&&u.jsx(Vk,{className:"h-4 w-4 text-blue-500 flex-shrink-0"})]})]})},`${A.name}-${A.state}`)})]})}),m.length>0&&u.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 bg-gray-50 border-t",children:[m.length," ",m.length===1?"city":"cities"," found",a&&` for "${a}"`]})]}),v&&!s&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Your city is categorized as Zone ",v.zone,v.zone===1?" (Metro)":v.zone===2?" (Tier-1)":" (Rest of India)"]})]})}function Lpe({onSubmit:t}){const[e,r]=j.useState({name:"",dob:"",maritalStatus:"single",city:"Mumbai",zone:1,annualIncome:0,expenses:0,investments:0,numberOfKids:0,kidsDob:[],loanAmount:0}),n=o=>{o.preventDefault(),a()&&t(e)},a=()=>!e.name||!e.dob||!e.annualIncome||!e.expenses?(alert("Please fill in all required fields"),!1):e.numberOfKids>0&&e.kidsDob.length!==e.numberOfKids?(alert("Please provide DOB for all children"),!1):!0,i=o=>{const l=Math.max(0,Math.min(10,o));r(c=>{const d=[...c.kidsDob||[]];for(;d.length<l;)d.push("");for(;d.length>l;)d.pop();return{...c,numberOfKids:l,kidsDob:d}})},s=(o,l)=>{const c=new Date().toISOString().split("T")[0],d=e.dob;l<=c&&(!d||l>=d)&&r(f=>{const p=[...f.kidsDob||[]];return p[o]=l,{...f,kidsDob:p}})};return u.jsx("form",{onSubmit:n,children:u.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Personal Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"name",children:"Full Name *"}),u.jsx(Tt,{id:"name",type:"text",value:e.name||"",onChange:o=>r(l=>({...l,name:o.target.value})),required:!0,placeholder:"John Doe"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"dob",children:"Date of Birth *"}),u.jsx(Tt,{id:"dob",type:"date",value:e.dob||"",onChange:o=>{const l=o.target.value;l<=new Date().toISOString().split("T")[0]&&r(c=>({...c,dob:l}))},required:!0,max:new Date().toISOString().split("T")[0]})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"marital-status",children:"Marital Status *"}),u.jsx(tS,{value:e.maritalStatus||"single",onValueChange:o=>r(l=>({...l,maritalStatus:o,numberOfKids:o==="single"?0:l.numberOfKids})),children:u.jsxs("div",{className:"flex gap-3 sm:gap-4 mt-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Il,{value:"single",id:"single"}),u.jsx(nt,{htmlFor:"single",className:"cursor-pointer text-sm sm:text-base",children:"Single"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Il,{value:"married",id:"married"}),u.jsx(nt,{htmlFor:"married",className:"cursor-pointer text-sm sm:text-base",children:"Married"})]})]})})]}),u.jsx("div",{children:u.jsx(kpe,{value:e.city||"Mumbai",onChange:(o,l,c)=>{const d=c?`${o}|${c}`:o;r(f=>({...f,city:d,zone:l,locality:l===1?"metro":l===2?"tier1":"tier2"}))},label:"City/Locality",required:!0})})]})]}),u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Financial Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"annual-income",children:"Annual Income () *"}),u.jsx(Tt,{id:"annual-income",type:"number",value:e.annualIncome||"",onChange:o=>{const l=parseFloat(o.target.value)||0;r(c=>({...c,annualIncome:l>=0?l:0}))},required:!0,min:"0",prefix:"",className:"pl-8"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"expenses",children:"Monthly Expenses () *"}),u.jsx(Tt,{id:"expenses",type:"number",value:e.expenses||"",onChange:o=>{const l=parseFloat(o.target.value)||0;r(c=>({...c,expenses:l>=0?l:0}))},required:!0,min:"0",prefix:"",className:"pl-8"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"investments",children:"Existing Investments ()"}),u.jsx(Tt,{id:"investments",type:"number",value:e.investments||"",onChange:o=>{const l=parseFloat(o.target.value)||0;r(c=>({...c,investments:l>=0?l:0}))},min:"0",prefix:"",className:"pl-8",placeholder:"0"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"loan-amount",children:"Loan Amount () - if any"}),u.jsx(Tt,{id:"loan-amount",type:"number",value:e.loanAmount||"",onChange:o=>{const l=parseFloat(o.target.value)||0;r(c=>({...c,loanAmount:l>=0?l:0}))},min:"0",prefix:"",className:"pl-8",placeholder:"0"})]})]})]}),e.maritalStatus==="married"&&u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Children Information"}),u.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{children:[u.jsx(nt,{className:"text-sm sm:text-base",children:"Number of Children"}),u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mt-2",children:[u.jsx(Ct,{type:"button",variant:"outline",size:"icon",onClick:()=>i((e.numberOfKids||0)-1),disabled:(e.numberOfKids||0)<=0,className:"h-9 w-9 sm:h-10 sm:w-10",children:u.jsx(Jk,{className:"h-4 w-4"})}),u.jsx("span",{className:"text-base sm:text-lg font-semibold w-12 text-center",children:e.numberOfKids||0}),u.jsx(Ct,{type:"button",variant:"outline",size:"icon",onClick:()=>i((e.numberOfKids||0)+1),disabled:(e.numberOfKids||0)>=10,className:"h-9 w-9 sm:h-10 sm:w-10",children:u.jsx(p0,{className:"h-4 w-4"})})]})]}),e.numberOfKids>0&&u.jsxs("div",{className:"space-y-3",children:[u.jsx(nt,{className:"text-sm sm:text-base",children:"Children's Date of Birth"}),Array.from({length:e.numberOfKids||0}).map((o,l)=>u.jsxs("div",{children:[u.jsxs(nt,{htmlFor:`kid-dob-${l}`,className:"text-sm sm:text-base",children:["Child ",l+1," DOB"]}),u.jsx(Tt,{id:`kid-dob-${l}`,type:"date",value:e.kidsDob?.[l]||"",onChange:c=>s(l,c.target.value),min:e.dob||void 0,max:new Date().toISOString().split("T")[0],required:!0,className:"mt-1"}),e.dob&&e.kidsDob?.[l]&&e.kidsDob[l]<e.dob&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Child's DOB must be after parent's DOB"})]},l))]})]})]}),u.jsxs(Ct,{type:"submit",size:"lg",className:"w-full h-11 sm:h-12 text-sm sm:text-base",children:[u.jsx(Wk,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Generate Financial Plan"]})]})})}function H9(t){switch(t){case"early":return"Early Career (22-30)";case"mid":return"Mid Career (31-40)";case"late":return"Late Career (41-55)";default:return"Early Career"}}function Ipe(t,e,r,n){const a=o=>{if(o.city){const l=o.zone===1?"Zone 1 (Metro)":o.zone===2?"Zone 2 (Tier-1)":"Zone 3";return`${o.city} - ${l}`}return o.locality?o.locality==="metro"?"Zone 1 (Metro Cities)":o.locality==="tier1"?"Zone 2 (Tier-1/Non-Metro)":"Zone 3 (Rest of India)":"Not specified"},i=new Date().toLocaleString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),s=n||`${window.location.origin}/logo.png`;return`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Financial Plan Report - ${t.name}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
      line-height: 1.6;
      color: #333;
    }
    .header {
      text-align: center;
      border-bottom: 3px solid #2563eb;
      padding-bottom: 20px;
      margin-bottom: 30px;
    }
    .header-logo {
      max-width: 200px;
      height: auto;
      margin-bottom: 15px;
    }
    .header h1 {
      color: #2563eb;
      margin: 0 0 10px 0;
    }
    .header-timestamp {
      color: #666;
      font-size: 14px;
      margin-top: 10px;
    }
    .section {
      margin-bottom: 30px;
      page-break-inside: avoid;
    }
    .section h2 {
      color: #1e40af;
      border-bottom: 2px solid #93c5fd;
      padding-bottom: 10px;
    }
    .summary-cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin: 20px 0;
    }
    .card {
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 8px;
      background: #f9fafb;
    }
    .card h4 {
      margin: 0 0 10px 0;
      color: #1e40af;
    }
    .card .value {
      font-size: 24px;
      font-weight: bold;
      color: #2563eb;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    table th, table td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    table th {
      background-color: #2563eb;
      color: white;
    }
    .recommendations {
      list-style: none;
      padding: 0;
    }
    .recommendations li {
      padding: 10px;
      margin: 10px 0;
      background: #dbeafe;
      border-left: 4px solid #2563eb;
      border-radius: 4px;
    }
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 2px solid #ddd;
      text-align: center;
      color: #666;
      font-size: 12px;
    }
    @media print {
      body {
        margin: 0;
        padding: 20px;
      }
      .section {
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <img src="${s}" alt="The Lal Street" class="header-logo" />
    <h1>Financial Planning Report</h1>
    <p class="header-timestamp">Generated on ${i}</p>
  </div>

  <div class="section">
    <h2>Personal Information</h2>
    <table>
      <tr>
        <th>Name</th>
        <td>${t.name}</td>
        <th>Age</th>
        <td>${e.age} years</td>
      </tr>
      <tr>
        <th>Date of Birth</th>
        <td>${new Date(t.dob).toLocaleDateString("en-IN")}</td>
        <th>Marital Status</th>
        <td>${t.maritalStatus==="married"?"Married":"Single"}</td>
      </tr>
      <tr>
        <th>Region</th>
        <td>${a(t)}</td>
        <th>Career Stage</th>
        <td>${H9(e.careerStage)}</td>
      </tr>
    </table>
  </div>

  <div class="section">
    <h2>Financial Summary</h2>
    <div class="summary-cards">
      <div class="card">
        <h4>Term Insurance Coverage</h4>
        <div class="value">${r(e.termInsuranceCover)}</div>
      </div>
      <div class="card">
        <h4>Health Insurance Coverage</h4>
        <div class="value">${e.healthInsuranceCover}</div>
      </div>
      <div class="card">
        <h4>Recommended Monthly SIP</h4>
        <div class="value">${r(e.sipRecommendation)}</div>
      </div>
      <div class="card">
        <h4>Emergency Fund</h4>
        <div class="value">${r(e.emergencyFund)}</div>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Financial Analysis</h2>
    <table>
      <tr>
        <th>Annual Income</th>
        <td>${r(t.annualIncome)}</td>
      </tr>
      <tr>
        <th>Monthly Expenses</th>
        <td>${r(e.monthlyExpenses)}</td>
      </tr>
      <tr>
        <th>Inflation-Adjusted Monthly Expenses (10 years)</th>
        <td>${r(e.inflationAdjustedExpenses)}</td>
      </tr>
      <tr>
        <th>Existing Investments</th>
        <td>${r(t.investments||0)}</td>
      </tr>
      ${t.loanAmount>0?`
      <tr>
        <th>Loan Amount</th>
        <td>${r(t.loanAmount)}</td>
      </tr>
      `:""}
    </table>
  </div>

  <div class="section">
    <h2>Actionable Recommendations</h2>
    <ol class="recommendations">
      ${e.recommendations.map((o,l)=>`
        <li><strong>${l+1}.</strong> ${o}</li>
      `).join("")}
    </ol>
  </div>

  <div class="section">
    <h2>Insurance Details</h2>
    <table>
      <tr>
        <th>Term Insurance Coverage</th>
        <td>${r(e.termInsuranceCover)}</td>
        <th>Coverage Period</th>
        <td>${t.numberOfKids>0?"Until youngest child turns 30":"Until age 60"}</td>
      </tr>
      <tr>
        <th>Health Insurance Coverage</th>
        <td>${e.healthInsuranceCover}</td>
        <th>Based on</th>
        <td>Annual Income: ${r(t.annualIncome)}</td>
      </tr>
    </table>
  </div>

  <div class="footer">
    <p>This report is generated by The Lal Street Financial Planning Tool.</p>
    <p>For personalized financial advice, consult with a certified financial planner.</p>
  </div>
</body>
</html>
  `}function Rpe(t,e){const n=Ipe(t,e,i=>"Rs. "+new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(i),`${window.location.origin}/logo.png`),a=window.open("","_blank");if(!a){const i=new Blob([n],{type:"text/html"}),s=URL.createObjectURL(i),o=document.createElement("a");o.href=s,o.download=`Financial-Plan-${t.name.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s);return}a.document.write(n),a.document.close(),a.onload=()=>{setTimeout(()=>{a.focus(),a.print()},500)},setTimeout(()=>{a&&!a.closed&&(a.focus(),a.print())},1e3)}function Mpe({inputs:t,results:e,onDownload:r,isGeneratingPDF:n=!1}){const a=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(s),i=s=>{if(s.city){const o=s.zone===1?"Zone 1 (Metro)":s.zone===2?"Zone 2 (Tier-1)":"Zone 3";return`${s.city} - ${o}`}return s.locality?s.locality==="metro"?"Zone 1 (Metro Cities)":s.locality==="tier1"?"Zone 2 (Tier-1/Non-Metro)":"Zone 3 (Rest of India)":"Not specified"};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(Ve,{className:"p-4 bg-blue-50 border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ll,{className:"w-5 h-5 text-blue-600"}),u.jsx("h4",{className:"font-semibold text-blue-900",children:"Term Insurance"})]}),u.jsx("p",{className:"text-2xl font-bold text-blue-700",children:a(e.termInsuranceCover)}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Recommended Coverage"})]}),u.jsxs(Ve,{className:"p-4 bg-green-50 border-green-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(_3,{className:"w-5 h-5 text-green-600"}),u.jsx("h4",{className:"font-semibold text-green-900",children:"Health Insurance"})]}),u.jsx("p",{className:"text-2xl font-bold text-green-700",children:e.healthInsuranceCover}),u.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Base Cover"})]}),u.jsxs(Ve,{className:"p-4 bg-purple-50 border-purple-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(oa,{className:"w-5 h-5 text-purple-600"}),u.jsx("h4",{className:"font-semibold text-purple-900",children:"Monthly SIP"})]}),u.jsx("p",{className:"text-2xl font-bold text-purple-700",children:a(e.sipRecommendation)}),u.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Recommended"})]}),u.jsxs(Ve,{className:"p-4 bg-orange-50 border-orange-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Kk,{className:"w-5 h-5 text-orange-600"}),u.jsx("h4",{className:"font-semibold text-orange-900",children:"Emergency Fund"})]}),u.jsx("p",{className:"text-2xl font-bold text-orange-700",children:a(e.emergencyFund)}),u.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"6 Months Expenses"})]})]}),u.jsxs(Ve,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Financial Plan Summary"}),u.jsxs(Ct,{onClick:r,disabled:n,children:[u.jsx(Ec,{className:"h-4 w-4 mr-2"}),n?"Opening...":"Download PDF Report"]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Personal Information"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Name"}),u.jsx("p",{className:"font-semibold",children:t.name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Age"}),u.jsxs("p",{className:"font-semibold",children:[e.age," years"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Career Stage"}),u.jsx(tr,{variant:"outline",children:H9(e.careerStage)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600",children:"Region"}),u.jsx("p",{className:"font-semibold",children:i(t)})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Financial Analysis"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Annual Income"}),u.jsx("p",{className:"text-xl font-bold",children:a(t.annualIncome)})]}),u.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Monthly Expenses"}),u.jsx("p",{className:"text-xl font-bold",children:a(e.monthlyExpenses)})]}),u.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Inflation-Adjusted Expenses (10 years)"}),u.jsx("p",{className:"text-xl font-bold",children:a(e.inflationAdjustedExpenses)}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At 6% inflation rate"})]}),u.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Existing Investments"}),u.jsx("p",{className:"text-xl font-bold",children:a(t.investments||0)})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[u.jsx(Hk,{className:"w-5 h-5 text-green-600"}),"Actionable Recommendations"]}),u.jsx("div",{className:"space-y-2",children:e.recommendations.map((s,o)=>u.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold mt-0.5 flex-shrink-0",children:o+1}),u.jsx("p",{className:"text-sm text-gray-800",children:s})]},o))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs(Ve,{className:"p-4 border-2 border-blue-200",children:[u.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[u.jsx(Ll,{className:"w-5 h-5 text-blue-600"}),"Term Insurance Details"]}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Coverage Amount:"}),u.jsx("span",{className:"font-semibold",children:a(e.termInsuranceCover)})]}),t.numberOfKids>0?u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Coverage Until:"}),u.jsx("span",{className:"font-semibold",children:"Youngest child turns 30"})]}):u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Coverage Until:"}),u.jsx("span",{className:"font-semibold",children:"Age 60"})]}),t.loanAmount>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Includes Loan:"}),u.jsx("span",{className:"font-semibold",children:a(t.loanAmount)})]})]})]}),u.jsxs(Ve,{className:"p-4 border-2 border-green-200",children:[u.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[u.jsx(_3,{className:"w-5 h-5 text-green-600"}),"Health Insurance Details"]}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Recommended Cover:"}),u.jsx("span",{className:"font-semibold",children:e.healthInsuranceCover})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Based on Income:"}),u.jsx("span",{className:"font-semibold",children:a(t.annualIncome)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Region:"}),u.jsx("span",{className:"font-semibold",children:i(t)})]})]})]})]})]})]})]})}const Dpe=.06,Fpe=.07,V9=30,$s=60;function i0(t){const e=new Date(t),r=new Date;let n=r.getFullYear()-e.getFullYear();const a=r.getMonth()-e.getMonth();return(a<0||a===0&&r.getDate()<e.getDate())&&n--,n}function Bpe(t){return t>=22&&t<=30?"early":t>=31&&t<=40?"mid":t>=41&&t<=55?"late":"early"}function G9(t,e){return t*Math.pow(1+Dpe,e)}function $pe(t,e){let r;return typeof t=="number"?r=t:t==="metro"?r=1:t==="tier1"?r=2:r=3,e<=8e5?r===1?"10-15 lakh":r===2?"7-10 lakh":"5-7 lakh":e<=16e5?r===1?"15-25 lakh":r===2?"10-15 lakh":"7-12 lakh":r===1?"25-50 lakh":r===2?"15-25 lakh":"12-20 lakh"}function qpe(t){const e=i0(t.dob),r=t.expenses;let n,a;if(t.numberOfKids>0&&t.kidsDob&&t.kidsDob.length>0){const d=t.kidsDob.filter(f=>f).map(f=>i0(f));if(d.length>0){const f=Math.min(...d);n=V9-f,a=e+n}else n=$s-e,a=$s}else n=$s-e,a=$s;if(n=Math.max(1,n),t.maritalStatus==="married"){const d=$s-e,f=$s;f>a&&(n=d,a=f)}const i=a-e,c=G9(r,i)*12/Fpe+(t.loanAmount||0);return Math.round(c)}function zpe(t,e,r){const n=e*12,a=t-n;return r===0||r<1e4?Math.round(a*.5/12):Math.round(a*.3/12)}function Upe(t){return Math.round(t*6)}function Wpe(t,e){const r=[];return e.careerStage==="early"?(r.push(`Build an emergency fund of ${e.emergencyFund.toLocaleString("en-IN")} to cover 6 months of expenses.`),r.push(`Start SIP of ${e.sipRecommendation.toLocaleString("en-IN")} per month to build wealth early.`),r.push(`Get term insurance coverage of ${e.termInsuranceCover.toLocaleString("en-IN")} to protect your family.`),r.push(`Consider health insurance coverage of ${e.healthInsuranceCover} for medical emergencies.`)):e.careerStage==="mid"?(r.push(`Increase your term insurance coverage to ${e.termInsuranceCover.toLocaleString("en-IN")} to account for growing responsibilities.`),t.numberOfKids>0&&r.push("Start planning for children's education - consider creating a dedicated SIP for education goals."),r.push(`Ensure health insurance coverage of ${e.healthInsuranceCover} for the entire family.`),r.push("Consider a second term insurance plan if current coverage is insufficient."),r.push(`Increase SIP to ${e.sipRecommendation.toLocaleString("en-IN")} per month for wealth accumulation.`)):(r.push("Focus on retirement planning - aim to build a corpus that can sustain your post-retirement expenses."),r.push("Review and optimize your existing investments for better returns."),r.push(`Ensure adequate health insurance coverage of ${e.healthInsuranceCover} considering medical costs in later years.`),r.push("Plan for corpus withdrawal strategy to maintain lifestyle post-retirement.")),t.loanAmount>0&&r.push(`Your term insurance should cover your loan amount of ${t.loanAmount.toLocaleString("en-IN")} in addition to living expenses.`),(t.investments===0||t.investments<1e4)&&r.push("Start investing immediately - even small SIPs can grow significantly over time."),r}function Hpe(t){const e=i0(t.dob),r=Bpe(e),n=t.expenses;let a=10;if(t.numberOfKids>0&&t.kidsDob&&t.kidsDob.length>0){const p=t.kidsDob.filter(h=>h).map(h=>i0(h));if(p.length>0){const h=Math.min(...p),v=V9-h,m=$s-e;a=Math.max(v,m)}else a=$s-e}else a=$s-e;if(t.maritalStatus==="married"){const p=$s-e;a=Math.max(a,p)}a=Math.min(Math.max(a,1),30);const i=G9(n,a),s=t.zone||(t.locality?t.locality==="metro"?1:t.locality==="tier1"?2:3:1),o=$pe(s,t.annualIncome),l=qpe(t),c=zpe(t.annualIncome,n,t.investments),d=Upe(n),f={age:e,careerStage:r,monthlyExpenses:n,inflationAdjustedExpenses:i,healthInsuranceCover:o,termInsuranceCover:l,sipRecommendation:c,emergencyFund:d,recommendations:[],healthInsuranceRecommendation:o};return f.recommendations=Wpe(t,f),f}function Vpe(){const[t,e]=j.useState(null),[r,n]=j.useState(null),[a,i]=j.useState(!1),[s,o]=j.useState(!1),l=f=>{const p=Hpe(f);e(f),n(p),i(!0),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)},c=()=>{if(t&&r){o(!0);try{Rpe(t,r),setTimeout(()=>o(!1),2e3)}catch(f){console.error("Error downloading report:",f),o(!1),alert("Failed to open print dialog. Please try again.")}}},d=()=>{i(!1),e(null),n(null)};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-slate-50 to-blue-50 py-4 sm:py-6 md:py-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"mb-6 sm:mb-8",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6 md:p-8 text-white",children:u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[u.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-lg sm:rounded-xl bg-white/20 backdrop-blur-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Yk,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold break-words",children:"Financial Planning"}),u.jsx("p",{className:"text-purple-100 mt-1 sm:mt-2 text-sm sm:text-base",children:"Get personalized financial recommendations based on your profile, income, and goals"})]})]})})}),a&&t&&r&&u.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[u.jsxs(Ct,{variant:"outline",onClick:d,className:"w-full sm:w-auto h-10 sm:h-9 text-sm sm:text-base",children:[u.jsx(qm,{className:"h-4 w-4 mr-2"}),"Back to Form"]}),u.jsx(Mpe,{inputs:t,results:r,onDownload:c,isGeneratingPDF:s})]}),!a&&u.jsxs(Ve,{className:"p-4 sm:p-5 md:p-6 lg:p-8",children:[u.jsxs("div",{className:"mb-4 sm:mb-6",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Get Your Financial Plan"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Fill in your details below to receive personalized financial planning recommendations including term insurance, health insurance, SIP suggestions, and more."})]}),u.jsx(Lpe,{onSubmit:l})]})]})})}function Gpe({onNavigate:t}){const{isAuthenticated:e}=y0(),[r,n]=j.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),u.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),u.jsx("div",{className:"absolute -bottom-8 left-1/2 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),u.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-20",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 mb-8 bg-purple-500/20 backdrop-blur-sm border border-purple-400/30 rounded-full",children:[u.jsx(Y2,{className:"w-4 h-4 text-purple-300 animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-purple-200",children:"Coming Soon"})]}),u.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold text-white mb-6 leading-tight",children:u.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"AI Stock Analysis"})}),u.jsx("p",{className:"text-xl sm:text-2xl text-slate-300 mb-4 max-w-2xl mx-auto",children:"Harness the power of artificial intelligence to make smarter investment decisions"}),u.jsx("p",{className:"text-lg text-slate-300 mb-12 max-w-xl mx-auto font-medium",children:"Get ready to experience the next generation of stock analysis. Our AI-powered platform will revolutionize how you make investment decisions and maximize your portfolio returns."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[u.jsxs(Ve,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-6 hover:bg-white/15 transition-all",children:[u.jsx(Uk,{className:"w-10 h-10 text-purple-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"AI-Powered Insights"}),u.jsx("p",{className:"text-sm text-slate-300",children:"Get intelligent stock analysis powered by advanced machine learning algorithms"})]}),u.jsxs(Ve,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-6 hover:bg-white/15 transition-all",children:[u.jsx(oa,{className:"w-10 h-10 text-blue-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Real-Time Analysis"}),u.jsx("p",{className:"text-sm text-slate-300",children:"Receive instant recommendations based on market trends and historical data"})]}),u.jsxs(Ve,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-6 hover:bg-white/15 transition-all",children:[u.jsx(rL,{className:"w-10 h-10 text-yellow-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Smart Predictions"}),u.jsx("p",{className:"text-sm text-slate-300",children:"Leverage predictive analytics to stay ahead of market movements"})]})]}),u.jsx("div",{className:"space-y-6",children:e?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-green-500/20 backdrop-blur-sm border border-green-400/30 rounded-full mb-4",children:[u.jsx(Y2,{className:"w-5 h-5 text-green-300"}),u.jsx("span",{className:"text-sm font-medium text-green-200",children:" You're on the waiting list! We'll notify you as soon as AI Stock Analysis launches."})]}),u.jsx("p",{className:"text-sm text-slate-400",children:"Thank you for joining our exclusive community. You'll be among the first to experience the future of intelligent stock analysis!"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex justify-center items-center",children:u.jsxs(Ct,{onClick:()=>n(!0),size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-10 py-7 text-lg font-bold shadow-2xl hover:shadow-purple-500/50 transition-all transform hover:scale-105",children:[u.jsx(G2,{className:"w-5 h-5 mr-2"}),"Join the Exclusive Waiting List",u.jsx(fN,{className:"w-5 h-5 ml-2"})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-base text-slate-300 font-medium",children:" Secure Your Spot Among Early Adopters"}),u.jsx("p",{className:"text-sm text-slate-400 max-w-2xl mx-auto",children:"Be the first to unlock AI-powered stock analysis when we launch. Join our exclusive waiting list and get priority access to revolutionary investment insights that will transform your portfolio strategy."}),u.jsx("p",{className:"text-xs text-slate-500 italic",children:"Limited spots available  First-come, first-served basis"})]})]})}),u.jsx("div",{className:"mt-16 pt-8 border-t border-white/10",children:u.jsxs("p",{className:"text-sm text-slate-500",children:["Want to learn more? ",u.jsx("button",{onClick:()=>t?.("home"),className:"text-purple-400 hover:text-purple-300 underline",children:"Explore our other tools"})]})})]})}),u.jsx(XN,{open:r,onClose:()=>n(!1)}),u.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function Kpe(t){const e=new URLSearchParams;return t.category&&e.append("category",t.category),t.tags&&t.tags.length>0&&t.tags.forEach(r=>e.append("tags",r)),t.exclusive!==void 0&&e.append("exclusive",String(t.exclusive)),t.search&&e.append("search",t.search),t.isPublished!==void 0&&e.append("isPublished",String(t.isPublished)),t.sortBy&&e.append("sortBy",t.sortBy),t.sortOrder&&e.append("sortOrder",t.sortOrder),t.limit&&e.append("limit",String(t.limit)),t.skip&&e.append("skip",String(t.skip)),e.toString()}async function G5(t={}){try{const e=Kpe(t),r=`${Ha.BLOGS}${e?`?${e}`:""}`,n=await fetch(r,{credentials:"include"});if(!n.ok)throw new Error(`Failed to fetch blogs: ${n.statusText}`);return await n.json()}catch(e){return console.error("Error fetching blogs:",e),{success:!1,data:[],pagination:{total:0,limit:50,skip:0,hasMore:!1}}}}async function Ype(t){try{const e=`${Ha.BLOGS}/${t}`,r=await fetch(e,{credentials:"include"});if(!r.ok){if(r.status===404)return null;throw new Error(`Failed to fetch blog: ${r.statusText}`)}return(await r.json()).data||null}catch(e){return console.error("Error fetching blog:",e),null}}async function K9(){try{const t=`${Ha.BLOGS}/categories/all`,e=await fetch(t,{credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch categories: ${e.statusText}`);return(await e.json()).data||[]}catch(t){return console.error("Error fetching categories:",t),[]}}async function Y9(){try{const t=`${Ha.BLOGS}/tags/all`,e=await fetch(t,{credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch tags: ${e.statusText}`);return(await e.json()).data||[]}catch(t){return console.error("Error fetching tags:",t),[]}}async function Xpe(t){const e=Md();if(!e)throw new Error("Admin authentication required");try{const r=new FormData;r.append("title",t.title),r.append("content",t.content),t.image?r.append("image",t.image):t.imageUrl&&r.append("imageUrl",t.imageUrl),t.categories.length>0&&r.append("categories",JSON.stringify(t.categories)),t.tags.length>0&&r.append("tags",JSON.stringify(t.tags)),r.append("exclusive",String(t.exclusive)),t.author&&r.append("author",t.author),t.isPublished!==void 0&&r.append("isPublished",String(t.isPublished));const n=await fetch(Ha.BLOGS,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});if(!n.ok){const i=await n.json();throw new Error(i.message||`Failed to create blog: ${n.statusText}`)}return(await n.json()).data}catch(r){throw console.error("Error creating blog:",r),r}}async function Zpe(t,e){const r=Md();if(!r)throw new Error("Admin authentication required");try{const n=new FormData;e.title&&n.append("title",e.title),e.content&&n.append("content",e.content),e.image?n.append("image",e.image):e.imageUrl&&n.append("imageUrl",e.imageUrl),e.categories&&n.append("categories",JSON.stringify(e.categories)),e.tags&&n.append("tags",JSON.stringify(e.tags)),e.exclusive!==void 0&&n.append("exclusive",String(e.exclusive)),e.author&&n.append("author",e.author),e.isPublished!==void 0&&n.append("isPublished",String(e.isPublished));const a=await fetch(`${Ha.BLOGS}/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${r}`},body:n});if(!a.ok){const s=await a.json();throw new Error(s.message||`Failed to update blog: ${a.statusText}`)}return(await a.json()).data}catch(n){throw console.error("Error updating blog:",n),n}}async function Jpe(t){const e=Md();if(!e)throw new Error("Admin authentication required");try{const r=await fetch(`${Ha.BLOGS}/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Failed to delete blog: ${r.statusText}`)}}catch(r){throw console.error("Error deleting blog:",r),r}}const xA=j.memo(function({src:e,alt:r,fallbackSrc:n="https://via.placeholder.com/600x300?text=No+Image",placeholder:a,lazy:i=!0,aspectRatio:s,className:o="",onError:l,...c}){const[d,f]=j.useState(a||""),[p,h]=j.useState(!1),[v,m]=j.useState(!1),g=j.useRef(null),b=j.useRef(null);j.useEffect(()=>{if(!i){f(e);return}const _=g.current;if(_)return b.current=new IntersectionObserver(A=>{A.forEach(C=>{C.isIntersecting&&(f(e),b.current?.disconnect())})},{rootMargin:"50px",threshold:.01}),b.current.observe(_),()=>{b.current&&b.current.disconnect()}},[e,i]);const w=_=>{v||(m(!0),f(n),h(!0)),l?.(_)},N=()=>{h(!0)};return u.jsxs("div",{className:`relative overflow-hidden ${s||""} ${o}`,style:s?{aspectRatio:s}:void 0,children:[!p&&a&&u.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse",style:{backgroundImage:a?`url(${a})`:void 0,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(10px)"}}),u.jsx("img",{ref:g,src:d||a||n,alt:r,className:`w-full h-full object-cover transition-opacity duration-300 ${p?"opacity-100":"opacity-0"}`,onLoad:N,onError:w,loading:i?"lazy":"eager",decoding:"async",...c})]})}),Qpe=j.memo(function({blog:e,onClick:r,parseArray:n,truncateText:a,formatDateShort:i}){const s=o=>o.replace(/[\[\]"\\]/g,"").trim();return u.jsxs("article",{onClick:()=>r(e),className:"group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer border border-gray-100",children:[u.jsxs("div",{className:"relative h-40 overflow-hidden bg-gray-200",children:[e.imageUrl?u.jsx(xA,{src:e.imageUrl,alt:e.title||"Blog image",lazy:!0,className:"group-hover:scale-110 transition-transform duration-500",fallbackSrc:"https://via.placeholder.com/600x300?text=No+Image"}):u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.exclusive&&u.jsx(tr,{className:"absolute top-3 right-3 bg-purple-600 text-white",children:"Exclusive"})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:n(e.categories).slice(0,2).map(o=>{const l=typeof o=="string"?s(o):o;return l?u.jsx(tr,{variant:"secondary",className:"text-xs px-2 py-0.5",children:l},l):null})}),u.jsx("h3",{className:"text-base font-bold text-gray-900 mb-1.5 line-clamp-2 group-hover:text-blue-600 transition-colors leading-snug",children:e.title||"Untitled"}),u.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2 leading-relaxed",children:e.content?a(e.content.replace(/<[^>]*>/g,""),100):"No content available"}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(f0,{className:"w-3 h-3"}),i(e.createdAt||"")]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(hN,{className:"w-3 h-3"}),e.views||0]})]}),u.jsx(fN,{className:"w-3.5 h-3.5 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]})});function RO({onNavigate:t}){const[e,r]=j.useState([]),[n,a]=j.useState([]),[i,s]=j.useState([]),[o,l]=j.useState(!0),[c,d]=j.useState(!1),[f,p]=j.useState(""),[h,v]=j.useState(""),[m,g]=j.useState(""),[b,w]=j.useState([]),[N,_]=j.useState("createdAt"),[A,C]=j.useState("desc");j.useEffect(()=>{const q=setTimeout(()=>{v(f)},300);return()=>clearTimeout(q)},[f]);const E=j.useCallback(async()=>{try{const[q,ee]=await Promise.all([K9(),Y9()]);a(q),s(ee)}catch(q){console.error("Error loading initial data:",q)}},[]),R=j.useCallback(async()=>{l(!0);try{const q={search:h||void 0,category:m||void 0,tags:b.length>0?b:void 0,sortBy:N,sortOrder:A,isPublished:!0,limit:20},ee=await G5(q);ee&&ee.data?r(ee.data):r([])}catch(q){console.error("Error loading blogs:",q),r([])}finally{l(!1)}},[h,m,b,N,A]);j.useEffect(()=>{E()},[E]),j.useEffect(()=>{R()},[R]);const L=q=>{w(ee=>ee.includes(q)?ee.filter(de=>de!==q):[...ee,q])},U=q=>{t?t("blog-detail",q.id):window.location.hash=`#blog-detail?id=${q.id}`},S=j.useCallback(q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),[]),O=j.useCallback(q=>{const ee=new Date(q),B=Math.abs(new Date().getTime()-ee.getTime()),G=Math.ceil(B/(1e3*60*60*24));return G===0?"Today":G===1?"Yesterday":G<7?`${G} days ago`:G<30?`${Math.floor(G/7)} weeks ago`:G<365?`${Math.floor(G/30)} months ago`:S(q)},[S]),k=j.useCallback((q,ee)=>q.length<=ee?q:q.substring(0,ee).trim()+"...",[]),M=j.useCallback(q=>{if(!q)return[];if(Array.isArray(q))return q;if(typeof q=="string")try{const ee=JSON.parse(q);if(Array.isArray(ee))return ee}catch{return q.replace(/^\[|\]$/g,"").replace(/["\\]/g,"").split(",").map(de=>de.trim()).filter(de=>de.length>0&&!de.match(/^[\[\]]+$/))}return[]},[]),$=j.useMemo(()=>!e||e.length===0?null:e[0],[e]),F=j.useMemo(()=>!e||e.length===0?[]:e.slice(1),[e]),z=j.useMemo(()=>!e||e.length===0?[]:[...e].sort((q,ee)=>(ee.views||0)-(q.views||0)).slice(0,5),[e]),W=j.useMemo(()=>!i||i.length===0?[]:i.sort((q,ee)=>(ee.blogCount||0)-(q.blogCount||0)).slice(0,10),[i]);return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[u.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-50 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsx("button",{onClick:()=>t?.("home"),className:"text-2xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:"The Lal Street"}),u.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[u.jsx("button",{onClick:()=>t?.("home"),className:"text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors border-b-2 border-transparent hover:border-blue-600 pb-1",children:"Home"}),u.jsx("button",{className:"text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors border-b-2 border-blue-600 pb-1",children:"Blogs"}),u.jsx("button",{className:"text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors border-b-2 border-transparent hover:border-blue-600 pb-1",children:"Community"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"hidden sm:flex items-center gap-2 relative",children:[u.jsx(pN,{className:"absolute left-3 text-gray-400 w-4 h-4"}),u.jsx(Tt,{type:"text",placeholder:"Search...",value:f,onChange:q=>p(q.target.value),className:"pl-10 w-56 border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm"})]}),u.jsxs(Tl,{value:m||"all",onValueChange:q=>g(q==="all"?"":q),children:[u.jsx(Oo,{className:"w-40 border-gray-300 text-sm h-9",children:u.jsx(Ol,{placeholder:"Category"})}),u.jsxs(ko,{children:[u.jsx(An,{value:"all",children:"All"}),n.map(q=>u.jsx(An,{value:q.name,children:q.name},q.id))]})]}),u.jsxs(Tl,{value:N,onValueChange:q=>_(q),children:[u.jsx(Oo,{className:"w-32 border-gray-300 text-sm h-9",children:u.jsx(Ol,{})}),u.jsxs(ko,{children:[u.jsx(An,{value:"createdAt",children:"Latest"}),u.jsx(An,{value:"views",children:"Popular"})]})]})]})]})})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[u.jsx("aside",{className:"lg:col-span-2 hidden lg:block",children:u.jsx("div",{className:"sticky top-24",children:u.jsxs(Ve,{className:"p-4 bg-white/80 backdrop-blur-sm border-gray-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Categories"}),u.jsxs("nav",{className:"space-y-1.5",children:[u.jsx("button",{onClick:()=>{g("")},className:`w-full flex items-center px-2.5 py-1.5 rounded-md text-xs font-medium transition-colors ${m?"text-gray-700 hover:bg-gray-50":"bg-blue-50 text-blue-700 border border-blue-200"}`,children:"All"}),n.map(q=>u.jsxs("button",{onClick:()=>{g(q.name)},className:`w-full flex items-center justify-between px-2.5 py-1.5 rounded-md text-xs font-medium transition-colors ${m===q.name?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsx("span",{className:"flex-1 text-left truncate",children:q.name}),u.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",q.blogCount,")"]})]},q.id))]})]})})}),u.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[$&&u.jsxs("article",{onClick:()=>U($),className:"group relative h-[400px] rounded-xl overflow-hidden cursor-pointer shadow-lg hover:shadow-xl transition-all duration-300",children:[u.jsxs("div",{className:"absolute inset-0",children:[$.imageUrl?u.jsx(xA,{src:$.imageUrl,alt:$.title||"Featured blog",lazy:!1,className:"group-hover:scale-110 transition-transform duration-700",fallbackSrc:"https://via.placeholder.com/1200x400?text=No+Image"}):u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-600 to-purple-600"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"})]}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[M($.categories).slice(0,2).map(q=>{const ee=typeof q=="string"?q.replace(/[\[\]"\\]/g,"").trim():q;return ee?u.jsx(tr,{className:"bg-white/20 text-white border-white/30 backdrop-blur-sm text-xs px-2 py-0.5",children:ee},ee):null}),$.exclusive&&u.jsx(tr,{className:"bg-purple-600 text-white text-xs px-2 py-0.5",children:"Exclusive"})]}),u.jsx("h2",{className:"text-2xl font-bold mb-2 leading-tight group-hover:text-blue-300 transition-colors",children:$.title||"Featured Article"}),u.jsx("p",{className:"text-sm text-white/90 mb-4 line-clamp-2",children:$.content?k($.content.replace(/<[^>]*>/g,""),100):""}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/80",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(mN,{className:"w-3 h-3"}),u.jsx("span",{children:$.author||"The Lal Street"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(f0,{className:"w-3 h-3"}),u.jsx("span",{children:O($.createdAt)})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(hN,{className:"w-3 h-3"}),u.jsx("span",{children:$.views||0})]})]}),u.jsxs(Ct,{size:"sm",className:"bg-white text-gray-900 hover:bg-blue-50 gap-1 text-xs h-8",children:["Read More",u.jsx(fN,{className:"w-3 h-3"})]})]})]})]}),o?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading blogs..."})]})}):F.length===0&&!$?u.jsxs(Ve,{className:"p-12 text-center bg-white/80 backdrop-blur-sm",children:[u.jsx(zk,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No blogs found"}),u.jsx("p",{className:"text-gray-600",children:f||m||b.length>0?"Try adjusting your filters":"Check back soon for new content"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:F.map(q=>u.jsx(Qpe,{blog:q,onClick:U,parseArray:M,truncateText:k,formatDateShort:O},q.id))})]}),u.jsxs("aside",{className:"lg:col-span-3 space-y-6",children:[z.length>0&&u.jsxs(Ve,{className:"p-4 bg-white/80 backdrop-blur-sm border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(oa,{className:"w-4 h-4 text-blue-600"}),u.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Most Popular"})]}),u.jsx("div",{className:"space-y-3",children:z.map((q,ee)=>u.jsxs("button",{onClick:()=>U(q),className:"w-full flex gap-3 text-left hover:bg-gray-50 p-2 rounded-md transition-colors group",children:[u.jsx("span",{className:"text-xl font-bold text-gray-300 group-hover:text-blue-600 transition-colors flex-shrink-0 leading-none",children:String(ee+1).padStart(2,"0")}),u.jsx("p",{className:"text-xs font-medium text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors flex-1 leading-snug",children:q.title})]},q.id))})]}),W.length>0&&u.jsxs(Ve,{className:"p-4 bg-white/80 backdrop-blur-sm border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(tL,{className:"w-4 h-4 text-blue-600"}),u.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Trending Tags"})]}),u.jsx("div",{className:"flex flex-wrap gap-1.5",children:W.map(q=>{const ee=typeof q.name=="string"?q.name.replace(/[\[\]"\\]/g,"").trim():q.name;return ee?u.jsx("button",{onClick:()=>L(ee),className:`px-2.5 py-1 rounded-full text-xs font-medium transition-all ${b.includes(ee)?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ee},q.id):null})})]})]})]})})]})}function eme({blogId:t,onNavigate:e}){const[r,n]=j.useState(null),[a,i]=j.useState(!0),[s,o]=j.useState(null);j.useEffect(()=>{t&&(async()=>{i(!0),o(null);try{const h=await Ype(t);n(h)}catch(h){o(h.message||"Failed to load blog")}finally{i(!1)}})()},[t]);const l=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),c=p=>{if(!p)return[];if(Array.isArray(p))return p;if(typeof p=="string")try{const h=JSON.parse(p);if(Array.isArray(h))return h}catch{return p.replace(/^\[|\]$/g,"").replace(/["\\]/g,"").split(",").map(v=>v.trim()).filter(v=>v.length>0&&!v.match(/^[\[\]]+$/))}return[]},d=p=>p.replace(/[\[\]"\\]/g,"").trim(),f=()=>{e?e("blogs"):window.location.hash="#blogs"};return a?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading blog..."})]})}):s||!r?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Blog Not Found"}),u.jsx("p",{className:"text-gray-600 mb-6",children:s||"The blog you are looking for does not exist."}),u.jsxs(Ct,{onClick:f,variant:"outline",children:[u.jsx(qm,{className:"w-4 h-4 mr-2"}),"Back to Blogs"]})]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs(Ct,{onClick:f,variant:"ghost",className:"gap-2 text-gray-600 hover:text-gray-900",children:[u.jsx(qm,{className:"w-4 h-4"}),"Back to Blogs"]})})}),u.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-xl mb-8 bg-gray-200 shadow-lg",children:[u.jsx(xA,{src:r.imageUrl,alt:r.title,lazy:!1,aspectRatio:"16/9",fallbackSrc:"https://via.placeholder.com/1200x600?text=No+Image"}),r.exclusive&&u.jsx(tr,{className:"absolute top-4 right-4 bg-purple-600 text-white",children:"Exclusive"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 leading-tight",children:r.title}),u.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 mb-6 pb-6 border-b border-gray-200",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(f0,{className:"w-4 h-4"}),l(r.createdAt)]}),u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(hN,{className:"w-4 h-4"}),r.views||0," views"]}),r.author&&u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(mN,{className:"w-4 h-4"}),r.author]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[c(r.categories).map(p=>{const h=typeof p=="string"?d(p):p;return h?u.jsx(tr,{variant:"secondary",className:"text-sm px-3 py-1",children:h},h):null}),c(r.tags).map(p=>{const h=typeof p=="string"?d(p):p;return h?u.jsxs(tr,{variant:"outline",className:"text-sm px-3 py-1 gap-1",children:[u.jsx(tL,{className:"w-3 h-3"}),h]},h):null})]}),u.jsx("div",{className:"blog-content text-gray-700 leading-relaxed prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:r.content}}),u.jsx("style",{children:`
            .blog-content {
              font-size: 1.125rem;
              line-height: 1.875;
            }
            .blog-content p {
              margin-bottom: 1rem;
            }
            .blog-content h1 {
              font-size: 2rem;
              font-weight: 700;
              margin-top: 2rem;
              margin-bottom: 1rem;
              color: #111827;
            }
            .blog-content h2 {
              font-size: 1.5rem;
              font-weight: 600;
              margin-top: 1.75rem;
              margin-bottom: 0.75rem;
              color: #1f2937;
            }
            .blog-content h3 {
              font-size: 1.25rem;
              font-weight: 600;
              margin-top: 1.5rem;
              margin-bottom: 0.5rem;
              color: #374151;
            }
            .blog-content img {
              max-width: 100%;
              height: auto;
              border-radius: 0.75rem;
              margin: 1.5rem 0;
              box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            }
            .blog-content a {
              color: #2563eb;
              text-decoration: underline;
              font-weight: 500;
            }
            .blog-content a:hover {
              color: #1d4ed8;
            }
            .blog-content ul,
            .blog-content ol {
              margin: 1rem 0;
              padding-left: 1.5rem;
            }
            .blog-content ul {
              list-style-type: disc;
            }
            .blog-content ol {
              list-style-type: decimal;
            }
            .blog-content li {
              margin-bottom: 0.5rem;
            }
            .blog-content strong {
              font-weight: 700;
              color: #111827;
            }
            .blog-content em {
              font-style: italic;
            }
            .blog-content u {
              text-decoration: underline;
            }
            .blog-content s {
              text-decoration: line-through;
            }
            .blog-content blockquote {
              border-left: 4px solid #e5e7eb;
              padding-left: 1rem;
              margin: 1.5rem 0;
              font-style: italic;
              color: #6b7280;
            }
            .blog-content .ql-align-center {
              text-align: center;
            }
            .blog-content .ql-align-right {
              text-align: right;
            }
            .blog-content .ql-align-justify {
              text-align: justify;
            }
            .blog-content .ql-indent-1 {
              padding-left: 3em;
            }
            .blog-content .ql-indent-2 {
              padding-left: 6em;
            }
          `})]})]})]})}function tme({className:t,...e}){return u.jsx("textarea",{"data-slot":"textarea",className:Et("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function rme({isAdmin:t=!0}){const[e,r]=j.useState([]),[n,a]=j.useState(!1),[i,s]=j.useState(!1),[o,l]=j.useState(null),[c,d]=j.useState(!1),[f,p]=j.useState(""),[h,v]=j.useState(""),[m,g]=j.useState("both"),[b,w]=j.useState("moderate"),[N,_]=j.useState([]);j.useEffect(()=>{A()},[]);const A=async()=>{try{const M=await Ff(!1);r(M)}catch(M){console.error("Error loading suggested buckets:",M),r([])}},C=M=>{if(N.find(ee=>ee.id===M.id))return;if(N.length>=5){alert("Maximum 5 funds allowed in a bucket.");return}const $=N.length+1,F=Math.floor(100/$),z=100-F*$,W=new Array($).fill(F);for(let ee=0;ee<z;ee++)W[ee]+=1;const q=N.map((ee,de)=>({...ee,weightage:W[de]}));_([...q,{...M,weightage:W[$-1]}])},E=M=>{const $=N.filter(F=>F.id!==M);if($.length>0){const F=$.length,z=Math.floor(100/F),W=100-z*F,q=new Array(F).fill(z);for(let de=0;de<W;de++)q[de]+=1;const ee=$.map((de,B)=>({...de,weightage:q[B]}));_(ee)}else _([])},R=(M,$)=>{_(N.map(F=>F.id===M?{...F,weightage:$}:F))},L=()=>{p(""),v(""),g("both"),w("moderate"),_([]),s(!1),l(null)},U=async()=>{if(!f.trim()||N.length===0){alert("Please provide a bucket name and at least one fund.");return}const M=N.reduce(($,F)=>$+F.weightage,0);if(Math.abs(M-100)>.01){alert("Total weightage must equal 100%.");return}d(!0);try{const $=await Hd(N),F={name:f.trim(),description:h.trim(),category:m,funds:N,isActive:!0,performance:{rollingReturns:$.rollingReturns,riskLevel:b,analysisStartDate:$.analysisStartDate,analysisEndDate:$.analysisEndDate,totalPeriods:$.totalPeriods},riskLevel:b};if(i&&o)await ow(o,{...F,lastCalculationDate:new Date().toISOString(),updatedAt:new Date().toISOString()});else{const z={...F,id:`bucket-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastCalculationDate:new Date().toISOString()};await l8(z)}await A(),L(),a(!1)}catch($){console.error("Error calculating performance:",$),alert(`Error calculating performance: ${$.message}`)}finally{d(!1)}},S=M=>{p(M.name),v(M.description),g(M.category),w(M.riskLevel),_(M.funds),s(!0),l(M.id),a(!0)},O=async M=>{if(confirm("Are you sure you want to delete this suggested bucket?"))try{await c8(M),await A()}catch($){console.error("Error deleting bucket:",$),alert(`Error deleting bucket: ${$.message}`)}},k=async M=>{try{await ow(M.id,{isActive:!M.isActive,updatedAt:new Date().toISOString()}),await A()}catch($){console.error("Error updating bucket:",$),alert(`Error updating bucket: ${$.message}`)}};return t?u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Manage Suggested Buckets"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage recommended portfolios for users"})]}),u.jsxs(ep,{open:n,onOpenChange:M=>{a(M),M||L()},children:[u.jsx(UH,{asChild:!0,children:u.jsxs(Ct,{children:[u.jsx(p0,{className:"h-4 w-4 mr-2"}),"Create Bucket"]})}),u.jsxs(tp,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(rp,{children:[u.jsx(np,{children:i?"Edit Suggested Bucket":"Create Suggested Bucket"}),u.jsx(ap,{children:i?"Update the bucket details and recalculate performance metrics.":"Create a new suggested bucket with funds and calculate performance metrics."})]}),u.jsxs("div",{className:"space-y-6 mt-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"bucket-name",children:"Bucket Name *"}),u.jsx(Tt,{id:"bucket-name",value:f,onChange:M=>p(M.target.value),placeholder:"e.g., Conservative Growth Portfolio"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"bucket-description",children:"Description"}),u.jsx(tme,{id:"bucket-description",value:h,onChange:M=>v(M.target.value),placeholder:"Describe this bucket...",rows:3})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"category",children:"Category *"}),u.jsxs(Tl,{value:m,onValueChange:M=>g(M),children:[u.jsx(Oo,{children:u.jsx(Ol,{})}),u.jsxs(ko,{children:[u.jsx(An,{value:"investment",children:"Investment"}),u.jsx(An,{value:"retirement",children:"Retirement"}),u.jsx(An,{value:"both",children:"Both"})]})]})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"risk",children:"Risk Level *"}),u.jsxs(Tl,{value:b,onValueChange:M=>w(M),children:[u.jsx(Oo,{children:u.jsx(Ol,{})}),u.jsxs(ko,{children:[u.jsx(An,{value:"low",children:"Low"}),u.jsx(An,{value:"moderate",children:"Moderate"}),u.jsx(An,{value:"high",children:"High"})]})]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(nt,{children:"Select Funds *"}),u.jsx(ZN,{onSelectFund:C}),N.length>0&&u.jsx(Ve,{className:"p-4",children:u.jsx(JN,{funds:N,onRemoveFund:E,onWeightageChange:R})})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[u.jsxs(Ct,{variant:"outline",onClick:()=>a(!1),children:[u.jsx(_o,{className:"h-4 w-4 mr-2"}),"Cancel"]}),u.jsx(Ct,{onClick:U,disabled:c,children:c?u.jsxs(u.Fragment,{children:[u.jsx(Sa,{className:"h-4 w-4 mr-2 animate-spin"}),"Calculating..."]}):u.jsxs(u.Fragment,{children:[u.jsx(eL,{className:"h-4 w-4 mr-2"}),i?"Update":"Create & Calculate Performance"]})})]})]})]})]})]}),u.jsx(Ve,{children:u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{children:[u.jsx(at,{children:"Name"}),u.jsx(at,{children:"Category"}),u.jsx(at,{children:"Risk"}),u.jsx(at,{children:"Funds"}),u.jsx(at,{children:"Status"}),u.jsx(at,{children:"Avg Return"}),u.jsx(at,{children:"Actions"})]})}),u.jsx(Qs,{children:e.length===0?u.jsx(ln,{children:u.jsx(Ke,{colSpan:7,className:"text-center text-gray-500 py-8",children:"No suggested buckets yet. Create one to get started."})}):e.map(M=>u.jsxs(ln,{children:[u.jsx(Ke,{className:"font-medium",children:M.name}),u.jsx(Ke,{children:u.jsx(tr,{variant:"secondary",children:M.category})}),u.jsx(Ke,{children:u.jsx(tr,{variant:M.riskLevel==="low"?"default":M.riskLevel==="moderate"?"secondary":"destructive",children:M.riskLevel})}),u.jsx(Ke,{children:M.funds.length}),u.jsx(Ke,{children:u.jsx(tr,{variant:M.isActive?"default":"secondary",children:M.isActive?"Active":"Inactive"})}),u.jsxs(Ke,{children:[M.performance.rollingReturns.bucket.mean.toFixed(2),"%"]}),u.jsx(Ke,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ct,{variant:"outline",size:"sm",onClick:()=>k(M),children:M.isActive?"Deactivate":"Activate"}),u.jsx(Ct,{variant:"outline",size:"sm",onClick:()=>S(M),children:u.jsx(Qk,{className:"h-4 w-4"})}),u.jsx(Ct,{variant:"outline",size:"sm",onClick:()=>O(M.id),children:u.jsx(Um,{className:"h-4 w-4"})})]})})]},M.id))})]})})]}):null}var xv="Switch",[nme]=Vi(xv),[ame,ime]=nme(xv),X9=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[p,h]=j.useState(null),v=lr(e,N=>h(N)),m=j.useRef(!1),g=p?d||!!p.closest("form"):!0,[b,w]=Fo({prop:a,defaultProp:i??!1,onChange:c,caller:xv});return u.jsxs(ame,{scope:r,checked:b,disabled:o,children:[u.jsx(qt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":eF(b),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onClick:it(t.onClick,N=>{w(_=>!_),g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})}),g&&u.jsx(Q9,{control:p,bubbles:!m.current,name:n,value:l,checked:b,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});X9.displayName=xv;var Z9="SwitchThumb",J9=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=ime(Z9,r);return u.jsx(qt.span,{"data-state":eF(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});J9.displayName=Z9;var sme="SwitchBubbleInput",Q9=j.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=j.useRef(null),o=lr(s,i),l=QN(r),c=CN(e);return j.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const v=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(v)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q9.displayName=sme;function eF(t){return t?"checked":"unchecked"}var ome=X9,lme=J9;function MO({className:t,...e}){return u.jsx(ome,{"data-slot":"switch",className:Et("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(lme,{"data-slot":"switch-thumb",className:Et("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var tF=typeof global=="object"&&global&&global.Object===Object&&global,cme=typeof self=="object"&&self&&self.Object===Object&&self,io=tF||cme||Function("return this")(),Ul=io.Symbol,rF=Object.prototype,ume=rF.hasOwnProperty,dme=rF.toString,Cf=Ul?Ul.toStringTag:void 0;function fme(t){var e=ume.call(t,Cf),r=t[Cf];try{t[Cf]=void 0;var n=!0}catch{}var a=dme.call(t);return n&&(e?t[Cf]=r:delete t[Cf]),a}var hme=Object.prototype,pme=hme.toString;function mme(t){return pme.call(t)}var gme="[object Null]",vme="[object Undefined]",DO=Ul?Ul.toStringTag:void 0;function Kd(t){return t==null?t===void 0?vme:gme:DO&&DO in Object(t)?fme(t):mme(t)}function Vo(t){return t!=null&&typeof t=="object"}var Hc=Array.isArray;function Ql(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function nF(t){return t}var yme="[object AsyncFunction]",bme="[object Function]",xme="[object GeneratorFunction]",wme="[object Proxy]";function wA(t){if(!Ql(t))return!1;var e=Kd(t);return e==bme||e==xme||e==yme||e==wme}var L2=io["__core-js_shared__"],FO=(function(){var t=/[^.]+$/.exec(L2&&L2.keys&&L2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function Nme(t){return!!FO&&FO in t}var Sme=Function.prototype,Ame=Sme.toString;function nu(t){if(t!=null){try{return Ame.call(t)}catch{}try{return t+""}catch{}}return""}var jme=/[\\^$.*+?()[\]{}|]/g,_me=/^\[object .+?Constructor\]$/,Pme=Function.prototype,Cme=Object.prototype,Eme=Pme.toString,Tme=Cme.hasOwnProperty,Ome=RegExp("^"+Eme.call(Tme).replace(jme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kme(t){if(!Ql(t)||Nme(t))return!1;var e=wA(t)?Ome:_me;return e.test(nu(t))}function Lme(t,e){return t?.[e]}function au(t,e){var r=Lme(t,e);return kme(r)?r:void 0}var K5=au(io,"WeakMap"),BO=Object.create,Ime=(function(){function t(){}return function(e){if(!Ql(e))return{};if(BO)return BO(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function Rme(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Mme(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Dme=800,Fme=16,Bme=Date.now;function $me(t){var e=0,r=0;return function(){var n=Bme(),a=Fme-(n-r);if(r=n,a>0){if(++e>=Dme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function qme(t){return function(){return t}}var s0=(function(){try{var t=au(Object,"defineProperty");return t({},"",{}),t}catch{}})(),zme=s0?function(t,e){return s0(t,"toString",{configurable:!0,enumerable:!1,value:qme(e),writable:!0})}:nF,Ume=$me(zme);function Wme(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Hme=9007199254740991,Vme=/^(?:0|[1-9]\d*)$/;function aF(t,e){var r=typeof t;return e=e??Hme,!!e&&(r=="number"||r!="symbol"&&Vme.test(t))&&t>-1&&t%1==0&&t<e}function NA(t,e,r){e=="__proto__"&&s0?s0(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function vp(t,e){return t===e||t!==t&&e!==e}var Gme=Object.prototype,Kme=Gme.hasOwnProperty;function iF(t,e,r){var n=t[e];(!(Kme.call(t,e)&&vp(n,r))||r===void 0&&!(e in t))&&NA(t,e,r)}function Yme(t,e,r,n){var a=!r;r||(r={});for(var i=-1,s=e.length;++i<s;){var o=e[i],l=void 0;l===void 0&&(l=t[o]),a?NA(r,o,l):iF(r,o,l)}return r}var $O=Math.max;function Xme(t,e,r){return e=$O(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=$O(n.length-e,0),s=Array(i);++a<i;)s[a]=n[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=n[a];return o[e]=r(s),Rme(t,this,o)}}function Zme(t,e){return Ume(Xme(t,e,nF),t+"")}var Jme=9007199254740991;function sF(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Jme}function wv(t){return t!=null&&sF(t.length)&&!wA(t)}function Qme(t,e,r){if(!Ql(r))return!1;var n=typeof e;return(n=="number"?wv(r)&&aF(e,r.length):n=="string"&&e in r)?vp(r[e],t):!1}function ege(t){return Zme(function(e,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,s&&Qme(r[0],r[1],s)&&(i=a<3?void 0:i,a=1),e=Object(e);++n<a;){var o=r[n];o&&t(e,o,n,i)}return e})}var tge=Object.prototype;function SA(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||tge;return t===r}function rge(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var nge="[object Arguments]";function qO(t){return Vo(t)&&Kd(t)==nge}var oF=Object.prototype,age=oF.hasOwnProperty,ige=oF.propertyIsEnumerable,Y5=qO((function(){return arguments})())?qO:function(t){return Vo(t)&&age.call(t,"callee")&&!ige.call(t,"callee")};function sge(){return!1}var lF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zO=lF&&typeof module=="object"&&module&&!module.nodeType&&module,oge=zO&&zO.exports===lF,UO=oge?io.Buffer:void 0,lge=UO?UO.isBuffer:void 0,Bh=lge||sge,cge="[object Arguments]",uge="[object Array]",dge="[object Boolean]",fge="[object Date]",hge="[object Error]",pge="[object Function]",mge="[object Map]",gge="[object Number]",vge="[object Object]",yge="[object RegExp]",bge="[object Set]",xge="[object String]",wge="[object WeakMap]",Nge="[object ArrayBuffer]",Sge="[object DataView]",Age="[object Float32Array]",jge="[object Float64Array]",_ge="[object Int8Array]",Pge="[object Int16Array]",Cge="[object Int32Array]",Ege="[object Uint8Array]",Tge="[object Uint8ClampedArray]",Oge="[object Uint16Array]",kge="[object Uint32Array]",Ur={};Ur[Age]=Ur[jge]=Ur[_ge]=Ur[Pge]=Ur[Cge]=Ur[Ege]=Ur[Tge]=Ur[Oge]=Ur[kge]=!0;Ur[cge]=Ur[uge]=Ur[Nge]=Ur[dge]=Ur[Sge]=Ur[fge]=Ur[hge]=Ur[pge]=Ur[mge]=Ur[gge]=Ur[vge]=Ur[yge]=Ur[bge]=Ur[xge]=Ur[wge]=!1;function Lge(t){return Vo(t)&&sF(t.length)&&!!Ur[Kd(t)]}function AA(t){return function(e){return t(e)}}var cF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gf=cF&&typeof module=="object"&&module&&!module.nodeType&&module,Ige=Gf&&Gf.exports===cF,I2=Ige&&tF.process,Cd=(function(){try{var t=Gf&&Gf.require&&Gf.require("util").types;return t||I2&&I2.binding&&I2.binding("util")}catch{}})(),WO=Cd&&Cd.isTypedArray,jA=WO?AA(WO):Lge,Rge=Object.prototype,Mge=Rge.hasOwnProperty;function uF(t,e){var r=Hc(t),n=!r&&Y5(t),a=!r&&!n&&Bh(t),i=!r&&!n&&!a&&jA(t),s=r||n||a||i,o=s?rge(t.length,String):[],l=o.length;for(var c in t)(e||Mge.call(t,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||aF(c,l)))&&o.push(c);return o}function dF(t,e){return function(r){return t(e(r))}}var Dge=dF(Object.keys,Object),Fge=Object.prototype,Bge=Fge.hasOwnProperty;function $ge(t){if(!SA(t))return Dge(t);var e=[];for(var r in Object(t))Bge.call(t,r)&&r!="constructor"&&e.push(r);return e}function qge(t){return wv(t)?uF(t):$ge(t)}function zge(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Uge=Object.prototype,Wge=Uge.hasOwnProperty;function Hge(t){if(!Ql(t))return zge(t);var e=SA(t),r=[];for(var n in t)n=="constructor"&&(e||!Wge.call(t,n))||r.push(n);return r}function fF(t){return wv(t)?uF(t,!0):Hge(t)}var $h=au(Object,"create");function Vge(){this.__data__=$h?$h(null):{},this.size=0}function Gge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Kge="__lodash_hash_undefined__",Yge=Object.prototype,Xge=Yge.hasOwnProperty;function Zge(t){var e=this.__data__;if($h){var r=e[t];return r===Kge?void 0:r}return Xge.call(e,t)?e[t]:void 0}var Jge=Object.prototype,Qge=Jge.hasOwnProperty;function e0e(t){var e=this.__data__;return $h?e[t]!==void 0:Qge.call(e,t)}var t0e="__lodash_hash_undefined__";function r0e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$h&&e===void 0?t0e:e,this}function Vc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vc.prototype.clear=Vge;Vc.prototype.delete=Gge;Vc.prototype.get=Zge;Vc.prototype.has=e0e;Vc.prototype.set=r0e;function n0e(){this.__data__=[],this.size=0}function Nv(t,e){for(var r=t.length;r--;)if(vp(t[r][0],e))return r;return-1}var a0e=Array.prototype,i0e=a0e.splice;function s0e(t){var e=this.__data__,r=Nv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():i0e.call(e,r,1),--this.size,!0}function o0e(t){var e=this.__data__,r=Nv(e,t);return r<0?void 0:e[r][1]}function l0e(t){return Nv(this.__data__,t)>-1}function c0e(t,e){var r=this.__data__,n=Nv(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Zo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zo.prototype.clear=n0e;Zo.prototype.delete=s0e;Zo.prototype.get=o0e;Zo.prototype.has=l0e;Zo.prototype.set=c0e;var qh=au(io,"Map");function u0e(){this.size=0,this.__data__={hash:new Vc,map:new(qh||Zo),string:new Vc}}function d0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Sv(t,e){var r=t.__data__;return d0e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function f0e(t){var e=Sv(this,t).delete(t);return this.size-=e?1:0,e}function h0e(t){return Sv(this,t).get(t)}function p0e(t){return Sv(this,t).has(t)}function m0e(t,e){var r=Sv(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function iu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}iu.prototype.clear=u0e;iu.prototype.delete=f0e;iu.prototype.get=h0e;iu.prototype.has=p0e;iu.prototype.set=m0e;function g0e(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var hF=dF(Object.getPrototypeOf,Object),v0e="[object Object]",y0e=Function.prototype,b0e=Object.prototype,pF=y0e.toString,x0e=b0e.hasOwnProperty,w0e=pF.call(Object);function N0e(t){if(!Vo(t)||Kd(t)!=v0e)return!1;var e=hF(t);if(e===null)return!0;var r=x0e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&pF.call(r)==w0e}function S0e(){this.__data__=new Zo,this.size=0}function A0e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function j0e(t){return this.__data__.get(t)}function _0e(t){return this.__data__.has(t)}var P0e=200;function C0e(t,e){var r=this.__data__;if(r instanceof Zo){var n=r.__data__;if(!qh||n.length<P0e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new iu(n)}return r.set(t,e),this.size=r.size,this}function Ys(t){var e=this.__data__=new Zo(t);this.size=e.size}Ys.prototype.clear=S0e;Ys.prototype.delete=A0e;Ys.prototype.get=j0e;Ys.prototype.has=_0e;Ys.prototype.set=C0e;var mF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,HO=mF&&typeof module=="object"&&module&&!module.nodeType&&module,E0e=HO&&HO.exports===mF,VO=E0e?io.Buffer:void 0,GO=VO?VO.allocUnsafe:void 0;function gF(t,e){if(e)return t.slice();var r=t.length,n=GO?GO(r):new t.constructor(r);return t.copy(n),n}function T0e(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[a++]=s)}return i}function O0e(){return[]}var k0e=Object.prototype,L0e=k0e.propertyIsEnumerable,KO=Object.getOwnPropertySymbols,I0e=KO?function(t){return t==null?[]:(t=Object(t),T0e(KO(t),function(e){return L0e.call(t,e)}))}:O0e;function R0e(t,e,r){var n=e(t);return Hc(t)?n:g0e(n,r(t))}function X5(t){return R0e(t,qge,I0e)}var Z5=au(io,"DataView"),J5=au(io,"Promise"),Q5=au(io,"Set"),YO="[object Map]",M0e="[object Object]",XO="[object Promise]",ZO="[object Set]",JO="[object WeakMap]",QO="[object DataView]",D0e=nu(Z5),F0e=nu(qh),B0e=nu(J5),$0e=nu(Q5),q0e=nu(K5),ds=Kd;(Z5&&ds(new Z5(new ArrayBuffer(1)))!=QO||qh&&ds(new qh)!=YO||J5&&ds(J5.resolve())!=XO||Q5&&ds(new Q5)!=ZO||K5&&ds(new K5)!=JO)&&(ds=function(t){var e=Kd(t),r=e==M0e?t.constructor:void 0,n=r?nu(r):"";if(n)switch(n){case D0e:return QO;case F0e:return YO;case B0e:return XO;case $0e:return ZO;case q0e:return JO}return e});var z0e=Object.prototype,U0e=z0e.hasOwnProperty;function W0e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&U0e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var o0=io.Uint8Array;function _A(t){var e=new t.constructor(t.byteLength);return new o0(e).set(new o0(t)),e}function H0e(t,e){var r=_A(t.buffer);return new t.constructor(r,t.byteOffset,t.byteLength)}var V0e=/\w*$/;function G0e(t){var e=new t.constructor(t.source,V0e.exec(t));return e.lastIndex=t.lastIndex,e}var ek=Ul?Ul.prototype:void 0,tk=ek?ek.valueOf:void 0;function K0e(t){return tk?Object(tk.call(t)):{}}function vF(t,e){var r=e?_A(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Y0e="[object Boolean]",X0e="[object Date]",Z0e="[object Map]",J0e="[object Number]",Q0e="[object RegExp]",eve="[object Set]",tve="[object String]",rve="[object Symbol]",nve="[object ArrayBuffer]",ave="[object DataView]",ive="[object Float32Array]",sve="[object Float64Array]",ove="[object Int8Array]",lve="[object Int16Array]",cve="[object Int32Array]",uve="[object Uint8Array]",dve="[object Uint8ClampedArray]",fve="[object Uint16Array]",hve="[object Uint32Array]";function pve(t,e,r){var n=t.constructor;switch(e){case nve:return _A(t);case Y0e:case X0e:return new n(+t);case ave:return H0e(t);case ive:case sve:case ove:case lve:case cve:case uve:case dve:case fve:case hve:return vF(t,r);case Z0e:return new n;case J0e:case tve:return new n(t);case Q0e:return G0e(t);case eve:return new n;case rve:return K0e(t)}}function yF(t){return typeof t.constructor=="function"&&!SA(t)?Ime(hF(t)):{}}var mve="[object Map]";function gve(t){return Vo(t)&&ds(t)==mve}var rk=Cd&&Cd.isMap,vve=rk?AA(rk):gve,yve="[object Set]";function bve(t){return Vo(t)&&ds(t)==yve}var nk=Cd&&Cd.isSet,xve=nk?AA(nk):bve,wve=1,bF="[object Arguments]",Nve="[object Array]",Sve="[object Boolean]",Ave="[object Date]",jve="[object Error]",xF="[object Function]",_ve="[object GeneratorFunction]",Pve="[object Map]",Cve="[object Number]",wF="[object Object]",Eve="[object RegExp]",Tve="[object Set]",Ove="[object String]",kve="[object Symbol]",Lve="[object WeakMap]",Ive="[object ArrayBuffer]",Rve="[object DataView]",Mve="[object Float32Array]",Dve="[object Float64Array]",Fve="[object Int8Array]",Bve="[object Int16Array]",$ve="[object Int32Array]",qve="[object Uint8Array]",zve="[object Uint8ClampedArray]",Uve="[object Uint16Array]",Wve="[object Uint32Array]",Dr={};Dr[bF]=Dr[Nve]=Dr[Ive]=Dr[Rve]=Dr[Sve]=Dr[Ave]=Dr[Mve]=Dr[Dve]=Dr[Fve]=Dr[Bve]=Dr[$ve]=Dr[Pve]=Dr[Cve]=Dr[wF]=Dr[Eve]=Dr[Tve]=Dr[Ove]=Dr[kve]=Dr[qve]=Dr[zve]=Dr[Uve]=Dr[Wve]=!0;Dr[jve]=Dr[xF]=Dr[Lve]=!1;function $m(t,e,r,n,a,i){var s,o=e&wve;if(s!==void 0)return s;if(!Ql(t))return t;var l=Hc(t);if(l)s=W0e(t);else{var c=ds(t),d=c==xF||c==_ve;if(Bh(t))return gF(t,o);if(c==wF||c==bF||d&&!a)s=d?{}:yF(t);else{if(!Dr[c])return a?t:{};s=pve(t,c,o)}}i||(i=new Ys);var f=i.get(t);if(f)return f;i.set(t,s),xve(t)?t.forEach(function(v){s.add($m(v,e,r,v,t,i))}):vve(t)&&t.forEach(function(v,m){s.set(m,$m(v,e,r,m,t,i))});var p=X5,h=l?void 0:p(t);return Wme(h||t,function(v,m){h&&(m=v,v=t[m]),iF(s,m,$m(v,e,r,m,t,i))}),s}var Hve=1,Vve=4;function Ju(t){return $m(t,Hve|Vve)}var Gve="__lodash_hash_undefined__";function Kve(t){return this.__data__.set(t,Gve),this}function Yve(t){return this.__data__.has(t)}function l0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new iu;++e<r;)this.add(t[e])}l0.prototype.add=l0.prototype.push=Kve;l0.prototype.has=Yve;function Xve(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Zve(t,e){return t.has(e)}var Jve=1,Qve=2;function NF(t,e,r,n,a,i){var s=r&Jve,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(t),d=i.get(e);if(c&&d)return c==e&&d==t;var f=-1,p=!0,h=r&Qve?new l0:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var v=t[f],m=e[f];if(n)var g=s?n(m,v,f,e,t,i):n(v,m,f,t,e,i);if(g!==void 0){if(g)continue;p=!1;break}if(h){if(!Xve(e,function(b,w){if(!Zve(h,w)&&(v===b||a(v,b,r,n,i)))return h.push(w)})){p=!1;break}}else if(!(v===m||a(v,m,r,n,i))){p=!1;break}}return i.delete(t),i.delete(e),p}function e1e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}function t1e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var r1e=1,n1e=2,a1e="[object Boolean]",i1e="[object Date]",s1e="[object Error]",o1e="[object Map]",l1e="[object Number]",c1e="[object RegExp]",u1e="[object Set]",d1e="[object String]",f1e="[object Symbol]",h1e="[object ArrayBuffer]",p1e="[object DataView]",ak=Ul?Ul.prototype:void 0,R2=ak?ak.valueOf:void 0;function m1e(t,e,r,n,a,i,s){switch(r){case p1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case h1e:return!(t.byteLength!=e.byteLength||!i(new o0(t),new o0(e)));case a1e:case i1e:case l1e:return vp(+t,+e);case s1e:return t.name==e.name&&t.message==e.message;case c1e:case d1e:return t==e+"";case o1e:var o=e1e;case u1e:var l=n&r1e;if(o||(o=t1e),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=n1e,s.set(t,e);var d=NF(o(t),o(e),n,a,i,s);return s.delete(t),d;case f1e:if(R2)return R2.call(t)==R2.call(e)}return!1}var g1e=1,v1e=Object.prototype,y1e=v1e.hasOwnProperty;function b1e(t,e,r,n,a,i){var s=r&g1e,o=X5(t),l=o.length,c=X5(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in e:y1e.call(e,p)))return!1}var h=i.get(t),v=i.get(e);if(h&&v)return h==e&&v==t;var m=!0;i.set(t,e),i.set(e,t);for(var g=s;++f<l;){p=o[f];var b=t[p],w=e[p];if(n)var N=s?n(w,b,p,e,t,i):n(b,w,p,t,e,i);if(!(N===void 0?b===w||a(b,w,r,n,i):N)){m=!1;break}g||(g=p=="constructor")}if(m&&!g){var _=t.constructor,A=e.constructor;_!=A&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof A=="function"&&A instanceof A)&&(m=!1)}return i.delete(t),i.delete(e),m}var x1e=1,ik="[object Arguments]",sk="[object Array]",xm="[object Object]",w1e=Object.prototype,ok=w1e.hasOwnProperty;function N1e(t,e,r,n,a,i){var s=Hc(t),o=Hc(e),l=s?sk:ds(t),c=o?sk:ds(e);l=l==ik?xm:l,c=c==ik?xm:c;var d=l==xm,f=c==xm,p=l==c;if(p&&Bh(t)){if(!Bh(e))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new Ys),s||jA(t)?NF(t,e,r,n,a,i):m1e(t,e,l,r,n,a,i);if(!(r&x1e)){var h=d&&ok.call(t,"__wrapped__"),v=f&&ok.call(e,"__wrapped__");if(h||v){var m=h?t.value():t,g=v?e.value():e;return i||(i=new Ys),a(m,g,r,n,i)}}return p?(i||(i=new Ys),b1e(t,e,r,n,a,i)):!1}function SF(t,e,r,n,a){return t===e?!0:t==null||e==null||!Vo(t)&&!Vo(e)?t!==t&&e!==e:N1e(t,e,r,n,SF,a)}function S1e(t){return function(e,r,n){for(var a=-1,i=Object(e),s=n(e),o=s.length;o--;){var l=s[++a];if(r(i[l],l,i)===!1)break}return e}}var A1e=S1e();function eN(t,e,r){(r!==void 0&&!vp(t[e],r)||r===void 0&&!(e in t))&&NA(t,e,r)}function j1e(t){return Vo(t)&&wv(t)}function tN(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function _1e(t){return Yme(t,fF(t))}function P1e(t,e,r,n,a,i,s){var o=tN(t,r),l=tN(e,r),c=s.get(l);if(c){eN(t,r,c);return}var d=i?i(o,l,r+"",t,e,s):void 0,f=d===void 0;if(f){var p=Hc(l),h=!p&&Bh(l),v=!p&&!h&&jA(l);d=l,p||h||v?Hc(o)?d=o:j1e(o)?d=Mme(o):h?(f=!1,d=gF(l,!0)):v?(f=!1,d=vF(l,!0)):d=[]:N0e(l)||Y5(l)?(d=o,Y5(o)?d=_1e(o):(!Ql(o)||wA(o))&&(d=yF(l))):f=!1}f&&(s.set(l,d),a(d,l,n,i,s),s.delete(l)),eN(t,r,d)}function AF(t,e,r,n,a){t!==e&&A1e(e,function(i,s){if(a||(a=new Ys),Ql(i))P1e(t,e,s,r,AF,n,a);else{var o=n?n(tN(t,s),i,s+"",t,e,a):void 0;o===void 0&&(o=i),eN(t,s,o)}},fF)}function Pl(t,e){return SF(t,e)}var Dl=ege(function(t,e,r){AF(t,e,r)}),St=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(St||{});class to{constructor(e,r,n={}){this.attrName=e,this.keyName=r;const a=St.TYPE&St.ATTRIBUTE;this.scope=n.scope!=null?n.scope&St.LEVEL|a:St.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map(r=>r.name)}add(e,r){return this.canAdd(e,r)?(e.setAttribute(this.keyName,r),!0):!1}canAdd(e,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const r=e.getAttribute(this.keyName);return this.canAdd(e,r)&&r?r:""}}class Qu extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const jF=class rN{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,r=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(r){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,r)}return null}create(e,r,n){const a=this.query(r);if(a==null)throw new Qu(`Unable to create ${r} blot`);const i=a,s=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),o=new i(e,s,n);return rN.blots.set(o.domNode,o),o}find(e,r=!1){return rN.find(e,r)}query(e,r=St.ANY){let n;return typeof e=="string"?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:typeof e=="number"?e&St.LEVEL&St.BLOCK?n=this.types.block:e&St.LEVEL&St.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(n=this.classes[a],!!n)),n=n||this.tags[e.tagName]),n==null?null:"scope"in n&&r&St.LEVEL&n.scope&&r&St.TYPE&n.scope?n:null}register(...e){return e.map(r=>{const n="blotName"in r,a="attrName"in r;if(!n&&!a)throw new Qu("Invalid definition");if(n&&r.blotName==="abstract")throw new Qu("Cannot register abstract class");const i=n?r.blotName:a?r.attrName:void 0;return this.types[i]=r,a?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(s=>s.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(s=>{(this.tags[s]==null||r.className==null)&&(this.tags[s]=r)}))),r})}};jF.blots=new WeakMap;let Ed=jF;function lk(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${e}-`)===0)}class C1e extends to{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(e,r){return this.canAdd(e,r)?(this.remove(e),e.classList.add(`${this.keyName}-${r}`),!0):!1}remove(e){lk(e,this.keyName).forEach(r=>{e.classList.remove(r)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const r=(lk(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,r)?r:""}}const Cs=C1e;function M2(t){const e=t.split("-"),r=e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return e[0]+r}class E1e extends to{static keys(e){return(e.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(e,r){return this.canAdd(e,r)?(e.style[M2(this.keyName)]=r,!0):!1}remove(e){e.style[M2(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const r=e.style[M2(this.keyName)];return this.canAdd(e,r)?r:""}}const ec=E1e;class T1e{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,r){r?e.add(this.domNode,r)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Ed.find(this.domNode);if(e==null)return;const r=to.keys(this.domNode),n=Cs.keys(this.domNode),a=ec.keys(this.domNode);r.concat(n).concat(a).forEach(i=>{const s=e.scroll.query(i,St.ATTRIBUTE);s instanceof to&&(this.attributes[s.attrName]=s)})}copy(e){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);e.format(r,n)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,r)=>(e[r]=this.attributes[r].value(this.domNode),e),{})}}const Av=T1e,_F=class{constructor(e,r){this.scroll=e,this.domNode=r,Ed.blots.set(r,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Qu("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof e=="string"?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof e=="number"&&(n=e),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Ed.blots.delete(this.domNode)}deleteAt(e,r){this.isolate(e,r).remove()}formatAt(e,r,n,a){const i=this.isolate(e,r);if(this.scroll.query(n,St.BLOT)!=null&&a)i.wrap(n,a);else if(this.scroll.query(n,St.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);i.wrap(s),s.format(n,a)}}insertAt(e,r,n){const a=n==null?this.scroll.create("text",r):this.scroll.create(r,n),i=this.split(e);this.parent.insertBefore(a,i||void 0)}isolate(e,r){const n=this.split(e);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,r){return e===0?this:this.next}update(e,r){}wrap(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Qu(`Cannot wrap ${e}`);return n.appendChild(this),n}};_F.blotName="abstract";let PF=_F;const CF=class extends PF{static value(e){return!0}index(e,r){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(e,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};CF.scope=St.INLINE_BLOT;let O1e=CF;const Na=O1e;class k1e{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const r=e.slice(1);this.append(...r)}}at(e){const r=this.iterator();let n=r();for(;n&&e>0;)e-=1,n=r();return n}contains(e){const r=this.iterator();let n=r();for(;n;){if(n===e)return!0;n=r()}return!1}indexOf(e){const r=this.iterator();let n=r(),a=0;for(;n;){if(n===e)return a;a+=1,n=r()}return-1}insertBefore(e,r){e!=null&&(this.remove(e),e.next=r,r!=null?(e.prev=r.prev,r.prev!=null&&(r.prev.next=e),r.prev=e,r===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let r=0,n=this.head;for(;n!=null;){if(n===e)return r;r+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const r=e;return e!=null&&(e=e.next),r}}find(e,r=!1){const n=this.iterator();let a=n();for(;a;){const i=a.length();if(e<i||r&&e===i&&(a.next==null||a.next.length()!==0))return[a,e];e-=i,a=n()}return[null,0]}forEach(e){const r=this.iterator();let n=r();for(;n;)e(n),n=r()}forEachAt(e,r,n){if(r<=0)return;const[a,i]=this.find(e);let s=e-i;const o=this.iterator(a);let l=o();for(;l&&s<e+r;){const c=l.length();e>s?n(l,e-s,Math.min(r,s+c-e)):n(l,0,Math.min(c,e+r-s)),s+=c,l=o()}}map(e){return this.reduce((r,n)=>(r.push(e(n)),r),[])}reduce(e,r){const n=this.iterator();let a=n();for(;a;)r=e(r,a),a=n();return r}}function ck(t,e){const r=e.find(t);if(r)return r;try{return e.create(t)}catch{const n=e.create(St.INLINE);return Array.from(t.childNodes).forEach(a=>{n.domNode.appendChild(a)}),t.parentNode&&t.parentNode.replaceChild(n.domNode,t),n.attach(),n}}const EF=class Al extends PF{constructor(e,r){super(e,r),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Al.uiClass&&this.uiNode.classList.add(Al.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new k1e,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const r=ck(e,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof Qu)return;throw r}})}deleteAt(e,r){if(e===0&&r===this.length())return this.remove();this.children.forEachAt(e,r,(n,a,i)=>{n.deleteAt(a,i)})}descendant(e,r=0){const[n,a]=this.children.find(r);return e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e?[n,a]:n instanceof Al?n.descendant(e,a):[null,-1]}descendants(e,r=0,n=Number.MAX_VALUE){let a=[],i=n;return this.children.forEachAt(r,n,(s,o,l)=>{(e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e)&&a.push(s),s instanceof Al&&(a=a.concat(s.descendants(e,o,i))),i-=l}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(r=>{e||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===St.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof Al?r.unwrap():r.remove())})}formatAt(e,r,n,a){this.children.forEachAt(e,r,(i,s,o)=>{i.formatAt(s,o,n,a)})}insertAt(e,r,n){const[a,i]=this.children.find(e);if(a)a.insertAt(i,r,n);else{const s=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(s)}}insertBefore(e,r){e.parent!=null&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,r||null),e.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce((e,r)=>e+r.length(),0)}moveChildren(e,r){this.children.forEach(n=>{e.insertBefore(n,r)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(e,r=!1){const[n,a]=this.children.find(e,r),i=[[this,e]];return n instanceof Al?i.concat(n.path(a,r)):(n!=null&&i.push([n,a]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return n instanceof Al&&this.moveChildren(n),super.replaceWith(n)}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(a,i,s)=>{const o=a.split(i,r);o!=null&&n.appendChild(o)}),n}splitAfter(e){const r=this.clone();for(;e.next!=null;)r.appendChild(e.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,r){const n=[],a=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),a.push(...i.removedNodes))}),a.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(i);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,s)=>i===s?0:i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let s=null;i.nextSibling!=null&&(s=this.scroll.find(i.nextSibling));const o=ck(i,this.scroll);(o.next!==s||o.next==null)&&(o.parent!=null&&o.parent.removeChild(this),this.insertBefore(o,s||void 0))}),this.enforceAllowedChildren()}};EF.uiClass="";let L1e=EF;const ys=L1e;function I1e(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}const Pu=class Cu extends ys{static create(e){return super.create(e)}static formats(e,r){const n=r.query(Cu.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new Av(this.domNode)}format(e,r){if(e===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof Cu||(n=n.wrap(Cu.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(e,St.INLINE);if(n==null)return;n instanceof to?this.attributes.attribute(n,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r)}}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,a){this.formats()[n]!=null||this.scroll.query(n,St.ATTRIBUTE)?this.isolate(e,r).format(n,a):super.formatAt(e,r,n,a)}optimize(e){super.optimize(e);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof Cu&&n.prev===this&&I1e(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(e,r){const n=super.wrap(e,r);return n instanceof Cu&&this.attributes.move(n),n}};Pu.allowedChildren=[Pu,Na],Pu.blotName="inline",Pu.scope=St.INLINE_BLOT,Pu.tagName="SPAN";let R1e=Pu;const PA=R1e,Eu=class nN extends ys{static create(e){return super.create(e)}static formats(e,r){const n=r.query(nN.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new Av(this.domNode)}format(e,r){const n=this.scroll.query(e,St.BLOCK);n!=null&&(n instanceof to?this.attributes.attribute(n,r):e===this.statics.blotName&&!r?this.replaceWith(nN.blotName):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r))}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,a){this.scroll.query(n,St.BLOCK)!=null?this.format(n,a):super.formatAt(e,r,n,a)}insertAt(e,r,n){if(n==null||this.scroll.query(r,St.INLINE)!=null)super.insertAt(e,r,n);else{const a=this.split(e);if(a!=null){const i=this.scroll.create(r,n);a.parent.insertBefore(i,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Eu.blotName="block",Eu.scope=St.BLOCK_BLOT,Eu.tagName="P",Eu.allowedChildren=[PA,Eu,Na];let M1e=Eu;const zh=M1e,aN=class extends ys{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,r){super.deleteAt(e,r),this.enforceAllowedChildren()}formatAt(e,r,n,a){super.formatAt(e,r,n,a),this.enforceAllowedChildren()}insertAt(e,r,n){super.insertAt(e,r,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};aN.blotName="container",aN.scope=St.BLOCK_BLOT;let D1e=aN;const jv=D1e;class F1e extends Na{static formats(e,r){}format(e,r){super.formatAt(0,this.length(),e,r)}formatAt(e,r,n,a){e===0&&r===this.length()?this.format(n,a):super.formatAt(e,r,n,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const wi=F1e,B1e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},$1e=100,Tu=class extends ys{constructor(e,r){super(null,r),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,B1e),this.attach()}create(e,r){return this.registry.create(this,e,r)}find(e,r=!1){const n=this.registry.find(e,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e,r=St.ANY){return this.registry.query(e,r)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,r){this.update(),e===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(e,r)}formatAt(e,r,n,a){this.update(),super.formatAt(e,r,n,a)}insertAt(e,r,n){this.update(),super.insertAt(e,r,n)}optimize(e=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const i=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(n.has(l.domNode)||n.set(l.domNode,[]),c&&i(l.parent))},s=l=>{n.has(l.domNode)&&(l instanceof ys&&l.children.forEach(s),n.delete(l.domNode),l.optimize(r))};let o=e;for(let l=0;o.length>0;l+=1){if(l>=$1e)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach(c=>{const d=this.find(c.target,!0);d!=null&&(d.domNode===c.target&&(c.type==="childList"?(i(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(f=>{const p=this.find(f,!1);i(p,!1),p instanceof ys&&p.children.forEach(h=>{i(h,!1)})})):c.type==="attributes"&&i(d.prev)),i(d))}),this.children.forEach(s),o=Array.from(this.observer.takeRecords()),a=o.slice();a.length>0;)e.push(a.pop())}}update(e,r={}){e=e||this.observer.takeRecords();const n=new WeakMap;e.map(a=>{const i=this.find(a.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(a),null):(n.set(i.domNode,[a]),i)}).forEach(a=>{a!=null&&a!==this&&n.has(a.domNode)&&a.update(n.get(a.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(e,r)}};Tu.blotName="scroll",Tu.defaultChild=zh,Tu.allowedChildren=[zh,jv],Tu.scope=St.BLOCK_BLOT,Tu.tagName="DIV";let q1e=Tu;const CA=q1e,iN=class TF extends Na{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,r){super(e,r),this.text=this.statics.value(this.domNode)}deleteAt(e,r){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+r)}index(e,r){return this.domNode===e?r:-1}insertAt(e,r,n){n==null?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,r,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof TF&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,r=!1){return[this.domNode,e]}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,r){e.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};iN.blotName="text",iN.scope=St.INLINE_BLOT;let z1e=iN;const c0=z1e,U1e=Object.freeze(Object.defineProperty({__proto__:null,Attributor:to,AttributorStore:Av,BlockBlot:zh,ClassAttributor:Cs,ContainerBlot:jv,EmbedBlot:wi,InlineBlot:PA,LeafBlot:Na,ParentBlot:ys,Registry:Ed,Scope:St,ScrollBlot:CA,StyleAttributor:ec,TextBlot:c0},Symbol.toStringTag,{value:"Module"}));var wm={exports:{}},D2,uk;function W1e(){if(uk)return D2;uk=1;var t=-1,e=1,r=0;function n(S,O,k,M,$){if(S===O)return S?[[r,S]]:[];if(k!=null){var F=L(S,O,k);if(F)return F}var z=o(S,O),W=S.substring(0,z);S=S.substring(z),O=O.substring(z),z=c(S,O);var q=S.substring(S.length-z);S=S.substring(0,S.length-z),O=O.substring(0,O.length-z);var ee=a(S,O);return W&&ee.unshift([r,W]),q&&ee.push([r,q]),w(ee,$),M&&f(ee),ee}function a(S,O){var k;if(!S)return[[e,O]];if(!O)return[[t,S]];var M=S.length>O.length?S:O,$=S.length>O.length?O:S,F=M.indexOf($);if(F!==-1)return k=[[e,M.substring(0,F)],[r,$],[e,M.substring(F+$.length)]],S.length>O.length&&(k[0][0]=k[2][0]=t),k;if($.length===1)return[[t,S],[e,O]];var z=d(S,O);if(z){var W=z[0],q=z[1],ee=z[2],de=z[3],B=z[4],G=n(W,ee),Z=n(q,de);return G.concat([[r,B]],Z)}return i(S,O)}function i(S,O){for(var k=S.length,M=O.length,$=Math.ceil((k+M)/2),F=$,z=2*$,W=new Array(z),q=new Array(z),ee=0;ee<z;ee++)W[ee]=-1,q[ee]=-1;W[F+1]=0,q[F+1]=0;for(var de=k-M,B=de%2!==0,G=0,Z=0,te=0,ne=0,ie=0;ie<$;ie++){for(var fe=-ie+G;fe<=ie-Z;fe+=2){var se=F+fe,he;fe===-ie||fe!==ie&&W[se-1]<W[se+1]?he=W[se+1]:he=W[se-1]+1;for(var oe=he-fe;he<k&&oe<M&&S.charAt(he)===O.charAt(oe);)he++,oe++;if(W[se]=he,he>k)Z+=2;else if(oe>M)G+=2;else if(B){var ae=F+de-fe;if(ae>=0&&ae<z&&q[ae]!==-1){var xe=k-q[ae];if(he>=xe)return s(S,O,he,oe)}}}for(var we=-ie+te;we<=ie-ne;we+=2){var ae=F+we,xe;we===-ie||we!==ie&&q[ae-1]<q[ae+1]?xe=q[ae+1]:xe=q[ae-1]+1;for(var Y=xe-we;xe<k&&Y<M&&S.charAt(k-xe-1)===O.charAt(M-Y-1);)xe++,Y++;if(q[ae]=xe,xe>k)ne+=2;else if(Y>M)te+=2;else if(!B){var se=F+de-we;if(se>=0&&se<z&&W[se]!==-1){var he=W[se],oe=F+he-se;if(xe=k-xe,he>=xe)return s(S,O,he,oe)}}}}return[[t,S],[e,O]]}function s(S,O,k,M){var $=S.substring(0,k),F=O.substring(0,M),z=S.substring(k),W=O.substring(M),q=n($,F),ee=n(z,W);return q.concat(ee)}function o(S,O){if(!S||!O||S.charAt(0)!==O.charAt(0))return 0;for(var k=0,M=Math.min(S.length,O.length),$=M,F=0;k<$;)S.substring(F,$)==O.substring(F,$)?(k=$,F=k):M=$,$=Math.floor((M-k)/2+k);return N(S.charCodeAt($-1))&&$--,$}function l(S,O){var k=S.length,M=O.length;if(k==0||M==0)return 0;k>M?S=S.substring(k-M):k<M&&(O=O.substring(0,k));var $=Math.min(k,M);if(S==O)return $;for(var F=0,z=1;;){var W=S.substring($-z),q=O.indexOf(W);if(q==-1)return F;z+=q,(q==0||S.substring($-z)==O.substring(0,z))&&(F=z,z++)}}function c(S,O){if(!S||!O||S.slice(-1)!==O.slice(-1))return 0;for(var k=0,M=Math.min(S.length,O.length),$=M,F=0;k<$;)S.substring(S.length-$,S.length-F)==O.substring(O.length-$,O.length-F)?(k=$,F=k):M=$,$=Math.floor((M-k)/2+k);return _(S.charCodeAt(S.length-$))&&$--,$}function d(S,O){var k=S.length>O.length?S:O,M=S.length>O.length?O:S;if(k.length<4||M.length*2<k.length)return null;function $(Z,te,ne){for(var ie=Z.substring(ne,ne+Math.floor(Z.length/4)),fe=-1,se="",he,oe,ae,xe;(fe=te.indexOf(ie,fe+1))!==-1;){var we=o(Z.substring(ne),te.substring(fe)),Y=c(Z.substring(0,ne),te.substring(0,fe));se.length<Y+we&&(se=te.substring(fe-Y,fe)+te.substring(fe,fe+we),he=Z.substring(0,ne-Y),oe=Z.substring(ne+we),ae=te.substring(0,fe-Y),xe=te.substring(fe+we))}return se.length*2>=Z.length?[he,oe,ae,xe,se]:null}var F=$(k,M,Math.ceil(k.length/4)),z=$(k,M,Math.ceil(k.length/2)),W;if(!F&&!z)return null;z?F?W=F[4].length>z[4].length?F:z:W=z:W=F;var q,ee,de,B;S.length>O.length?(q=W[0],ee=W[1],de=W[2],B=W[3]):(de=W[0],B=W[1],q=W[2],ee=W[3]);var G=W[4];return[q,ee,de,B,G]}function f(S){for(var O=!1,k=[],M=0,$=null,F=0,z=0,W=0,q=0,ee=0;F<S.length;)S[F][0]==r?(k[M++]=F,z=q,W=ee,q=0,ee=0,$=S[F][1]):(S[F][0]==e?q+=S[F][1].length:ee+=S[F][1].length,$&&$.length<=Math.max(z,W)&&$.length<=Math.max(q,ee)&&(S.splice(k[M-1],0,[t,$]),S[k[M-1]+1][0]=e,M--,M--,F=M>0?k[M-1]:-1,z=0,W=0,q=0,ee=0,$=null,O=!0)),F++;for(O&&w(S),b(S),F=1;F<S.length;){if(S[F-1][0]==t&&S[F][0]==e){var de=S[F-1][1],B=S[F][1],G=l(de,B),Z=l(B,de);G>=Z?(G>=de.length/2||G>=B.length/2)&&(S.splice(F,0,[r,B.substring(0,G)]),S[F-1][1]=de.substring(0,de.length-G),S[F+1][1]=B.substring(G),F++):(Z>=de.length/2||Z>=B.length/2)&&(S.splice(F,0,[r,de.substring(0,Z)]),S[F-1][0]=e,S[F-1][1]=B.substring(0,B.length-Z),S[F+1][0]=t,S[F+1][1]=de.substring(Z),F++),F++}F++}}var p=/[^a-zA-Z0-9]/,h=/\s/,v=/[\r\n]/,m=/\n\r?\n$/,g=/^\r?\n\r?\n/;function b(S){function O(Z,te){if(!Z||!te)return 6;var ne=Z.charAt(Z.length-1),ie=te.charAt(0),fe=ne.match(p),se=ie.match(p),he=fe&&ne.match(h),oe=se&&ie.match(h),ae=he&&ne.match(v),xe=oe&&ie.match(v),we=ae&&Z.match(m),Y=xe&&te.match(g);return we||Y?5:ae||xe?4:fe&&!he&&oe?3:he||oe?2:fe||se?1:0}for(var k=1;k<S.length-1;){if(S[k-1][0]==r&&S[k+1][0]==r){var M=S[k-1][1],$=S[k][1],F=S[k+1][1],z=c(M,$);if(z){var W=$.substring($.length-z);M=M.substring(0,M.length-z),$=W+$.substring(0,$.length-z),F=W+F}for(var q=M,ee=$,de=F,B=O(M,$)+O($,F);$.charAt(0)===F.charAt(0);){M+=$.charAt(0),$=$.substring(1)+F.charAt(0),F=F.substring(1);var G=O(M,$)+O($,F);G>=B&&(B=G,q=M,ee=$,de=F)}S[k-1][1]!=q&&(q?S[k-1][1]=q:(S.splice(k-1,1),k--),S[k][1]=ee,de?S[k+1][1]=de:(S.splice(k+1,1),k--))}k++}}function w(S,O){S.push([r,""]);for(var k=0,M=0,$=0,F="",z="",W;k<S.length;){if(k<S.length-1&&!S[k][1]){S.splice(k,1);continue}switch(S[k][0]){case e:$++,z+=S[k][1],k++;break;case t:M++,F+=S[k][1],k++;break;case r:var q=k-$-M-1;if(O){if(q>=0&&C(S[q][1])){var ee=S[q][1].slice(-1);if(S[q][1]=S[q][1].slice(0,-1),F=ee+F,z=ee+z,!S[q][1]){S.splice(q,1),k--;var de=q-1;S[de]&&S[de][0]===e&&($++,z=S[de][1]+z,de--),S[de]&&S[de][0]===t&&(M++,F=S[de][1]+F,de--),q=de}}if(A(S[k][1])){var ee=S[k][1].charAt(0);S[k][1]=S[k][1].slice(1),F+=ee,z+=ee}}if(k<S.length-1&&!S[k][1]){S.splice(k,1);break}if(F.length>0||z.length>0){F.length>0&&z.length>0&&(W=o(z,F),W!==0&&(q>=0?S[q][1]+=z.substring(0,W):(S.splice(0,0,[r,z.substring(0,W)]),k++),z=z.substring(W),F=F.substring(W)),W=c(z,F),W!==0&&(S[k][1]=z.substring(z.length-W)+S[k][1],z=z.substring(0,z.length-W),F=F.substring(0,F.length-W)));var B=$+M;F.length===0&&z.length===0?(S.splice(k-B,B),k=k-B):F.length===0?(S.splice(k-B,B,[e,z]),k=k-B+1):z.length===0?(S.splice(k-B,B,[t,F]),k=k-B+1):(S.splice(k-B,B,[t,F],[e,z]),k=k-B+2)}k!==0&&S[k-1][0]===r?(S[k-1][1]+=S[k][1],S.splice(k,1)):k++,$=0,M=0,F="",z="";break}}S[S.length-1][1]===""&&S.pop();var G=!1;for(k=1;k<S.length-1;)S[k-1][0]===r&&S[k+1][0]===r&&(S[k][1].substring(S[k][1].length-S[k-1][1].length)===S[k-1][1]?(S[k][1]=S[k-1][1]+S[k][1].substring(0,S[k][1].length-S[k-1][1].length),S[k+1][1]=S[k-1][1]+S[k+1][1],S.splice(k-1,1),G=!0):S[k][1].substring(0,S[k+1][1].length)==S[k+1][1]&&(S[k-1][1]+=S[k+1][1],S[k][1]=S[k][1].substring(S[k+1][1].length)+S[k+1][1],S.splice(k+1,1),G=!0)),k++;G&&w(S,O)}function N(S){return S>=55296&&S<=56319}function _(S){return S>=56320&&S<=57343}function A(S){return _(S.charCodeAt(0))}function C(S){return N(S.charCodeAt(S.length-1))}function E(S){for(var O=[],k=0;k<S.length;k++)S[k][1].length>0&&O.push(S[k]);return O}function R(S,O,k,M){return C(S)||A(M)?null:E([[r,S],[t,O],[e,k],[r,M]])}function L(S,O,k){var M=typeof k=="number"?{index:k,length:0}:k.oldRange,$=typeof k=="number"?null:k.newRange,F=S.length,z=O.length;if(M.length===0&&($===null||$.length===0)){var W=M.index,q=S.slice(0,W),ee=S.slice(W),de=$?$.index:null;e:{var B=W+z-F;if(de!==null&&de!==B||B<0||B>z)break e;var G=O.slice(0,B),Z=O.slice(B);if(Z!==ee)break e;var te=Math.min(W,B),ne=q.slice(0,te),ie=G.slice(0,te);if(ne!==ie)break e;var fe=q.slice(te),se=G.slice(te);return R(ne,fe,se,ee)}e:{if(de!==null&&de!==W)break e;var he=W,G=O.slice(0,he),Z=O.slice(he);if(G!==q)break e;var oe=Math.min(F-he,z-he),ae=ee.slice(ee.length-oe),xe=Z.slice(Z.length-oe);if(ae!==xe)break e;var fe=ee.slice(0,ee.length-oe),se=Z.slice(0,Z.length-oe);return R(q,fe,se,ae)}}if(M.length>0&&$&&$.length===0)e:{var ne=S.slice(0,M.index),ae=S.slice(M.index+M.length),te=ne.length,oe=ae.length;if(z<te+oe)break e;var ie=O.slice(0,te),xe=O.slice(z-oe);if(ne!==ie||ae!==xe)break e;var fe=S.slice(te,F-oe),se=O.slice(te,z-oe);return R(ne,fe,se,ae)}return null}function U(S,O,k,M){return n(S,O,k,M,!0)}return U.INSERT=e,U.DELETE=t,U.EQUAL=r,D2=U,D2}var Rf={exports:{}};Rf.exports;var dk;function OF(){return dk||(dk=1,(function(t,e){var r=200,n="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",s="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",f="[object GeneratorFunction]",p="[object Map]",h="[object Number]",v="[object Object]",m="[object Promise]",g="[object RegExp]",b="[object Set]",w="[object String]",N="[object Symbol]",_="[object WeakMap]",A="[object ArrayBuffer]",C="[object DataView]",E="[object Float32Array]",R="[object Float64Array]",L="[object Int8Array]",U="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",M="[object Uint16Array]",$="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,z=/\w*$/,W=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,ee={};ee[i]=ee[s]=ee[A]=ee[C]=ee[o]=ee[l]=ee[E]=ee[R]=ee[L]=ee[U]=ee[S]=ee[p]=ee[h]=ee[v]=ee[g]=ee[b]=ee[w]=ee[N]=ee[O]=ee[k]=ee[M]=ee[$]=!0,ee[c]=ee[d]=ee[_]=!1;var de=typeof Fi=="object"&&Fi&&Fi.Object===Object&&Fi,B=typeof self=="object"&&self&&self.Object===Object&&self,G=de||B||Function("return this")(),Z=e&&!e.nodeType&&e,te=Z&&!0&&t&&!t.nodeType&&t,ne=te&&te.exports===Z;function ie(I,J){return I.set(J[0],J[1]),I}function fe(I,J){return I.add(J),I}function se(I,J){for(var pe=-1,Ee=I?I.length:0;++pe<Ee&&J(I[pe],pe,I)!==!1;);return I}function he(I,J){for(var pe=-1,Ee=J.length,It=I.length;++pe<Ee;)I[It+pe]=J[pe];return I}function oe(I,J,pe,Ee){for(var It=-1,lt=I?I.length:0;++It<lt;)pe=J(pe,I[It],It,I);return pe}function ae(I,J){for(var pe=-1,Ee=Array(I);++pe<I;)Ee[pe]=J(pe);return Ee}function xe(I,J){return I?.[J]}function we(I){var J=!1;if(I!=null&&typeof I.toString!="function")try{J=!!(I+"")}catch{}return J}function Y(I){var J=-1,pe=Array(I.size);return I.forEach(function(Ee,It){pe[++J]=[It,Ee]}),pe}function ge(I,J){return function(pe){return I(J(pe))}}function De(I){var J=-1,pe=Array(I.size);return I.forEach(function(Ee){pe[++J]=Ee}),pe}var Fe=Array.prototype,Pe=Function.prototype,Ge=Object.prototype,Te=G["__core-js_shared__"],ze=(function(){var I=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""})(),Ue=Pe.toString,Ye=Ge.hasOwnProperty,Ze=Ge.toString,wt=RegExp("^"+Ue.call(Ye).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=ne?G.Buffer:void 0,Ce=G.Symbol,Ae=G.Uint8Array,We=ge(Object.getPrototypeOf,Object),qe=Object.create,rt=Ge.propertyIsEnumerable,st=Fe.splice,mt=Object.getOwnPropertySymbols,Nt=Pt?Pt.isBuffer:void 0,Yt=ge(Object.keys,Object),et=fa(G,"DataView"),zt=fa(G,"Map"),tt=fa(G,"Promise"),ut=fa(G,"Set"),Xt=fa(G,"WeakMap"),_t=fa(Object,"create"),ot=Jr(et),Lt=Jr(zt),en=Jr(tt),Ar=Jr(ut),tn=Jr(Xt),Or=Ce?Ce.prototype:void 0,gt=Or?Or.valueOf:void 0;function Yr(I){var J=-1,pe=I?I.length:0;for(this.clear();++J<pe;){var Ee=I[J];this.set(Ee[0],Ee[1])}}function _n(){this.__data__=_t?_t(null):{}}function yn(I){return this.has(I)&&delete this.__data__[I]}function cn(I){var J=this.__data__;if(_t){var pe=J[I];return pe===n?void 0:pe}return Ye.call(J,I)?J[I]:void 0}function gr(I){var J=this.__data__;return _t?J[I]!==void 0:Ye.call(J,I)}function kr(I,J){var pe=this.__data__;return pe[I]=_t&&J===void 0?n:J,this}Yr.prototype.clear=_n,Yr.prototype.delete=yn,Yr.prototype.get=cn,Yr.prototype.has=gr,Yr.prototype.set=kr;function Rt(I){var J=-1,pe=I?I.length:0;for(this.clear();++J<pe;){var Ee=I[J];this.set(Ee[0],Ee[1])}}function Ia(){this.__data__=[]}function ca(I){var J=this.__data__,pe=Xn(J,I);if(pe<0)return!1;var Ee=J.length-1;return pe==Ee?J.pop():st.call(J,pe,1),!0}function bn(I){var J=this.__data__,pe=Xn(J,I);return pe<0?void 0:J[pe][1]}function Kn(I){return Xn(this.__data__,I)>-1}function Yn(I,J){var pe=this.__data__,Ee=Xn(pe,I);return Ee<0?pe.push([I,J]):pe[Ee][1]=J,this}Rt.prototype.clear=Ia,Rt.prototype.delete=ca,Rt.prototype.get=bn,Rt.prototype.has=Kn,Rt.prototype.set=Yn;function sr(I){var J=-1,pe=I?I.length:0;for(this.clear();++J<pe;){var Ee=I[J];this.set(Ee[0],Ee[1])}}function $n(){this.__data__={hash:new Yr,map:new(zt||Rt),string:new Yr}}function Ka(I){return ji(this,I).delete(I)}function ua(I){return ji(this,I).get(I)}function Ya(I){return ji(this,I).has(I)}function Ra(I,J){return ji(this,I).set(I,J),this}sr.prototype.clear=$n,sr.prototype.delete=Ka,sr.prototype.get=ua,sr.prototype.has=Ya,sr.prototype.set=Ra;function Xr(I){this.__data__=new Rt(I)}function Xa(){this.__data__=new Rt}function Qe(I){return this.__data__.delete(I)}function Mt(I){return this.__data__.get(I)}function hr(I){return this.__data__.has(I)}function $r(I,J){var pe=this.__data__;if(pe instanceof Rt){var Ee=pe.__data__;if(!zt||Ee.length<r-1)return Ee.push([I,J]),this;pe=this.__data__=new sr(Ee)}return pe.set(I,J),this}Xr.prototype.clear=Xa,Xr.prototype.delete=Qe,Xr.prototype.get=Mt,Xr.prototype.has=hr,Xr.prototype.set=$r;function pr(I,J){var pe=uo(I)||Ot(I)?ae(I.length,String):[],Ee=pe.length,It=!!Ee;for(var lt in I)Ye.call(I,lt)&&!(It&&(lt=="length"||co(lt,Ee)))&&pe.push(lt);return pe}function Pn(I,J,pe){var Ee=I[J];(!(Ye.call(I,J)&&rl(Ee,pe))||pe===void 0&&!(J in I))&&(I[J]=pe)}function Xn(I,J){for(var pe=I.length;pe--;)if(rl(I[pe][0],J))return pe;return-1}function xn(I,J){return I&&lo(J,Zi(J),I)}function Za(I,J,pe,Ee,It,lt,Qt){var Zt;if(Ee&&(Zt=lt?Ee(I,It,lt,Qt):Ee(I)),Zt!==void 0)return Zt;if(!Ba(I))return I;var Lr=uo(I);if(Lr){if(Zt=rc(I),!J)return Qo(I,Zt)}else{var er=Zn(I),rn=er==d||er==f;if(Fa(I))return xr(I,J);if(er==v||er==i||rn&&!lt){if(we(I))return lt?I:{};if(Zt=Da(rn?{}:I),!J)return tc(I,xn(Zt,I))}else{if(!ee[er])return lt?I:{};Zt=nc(I,er,Za,J)}}Qt||(Qt=new Xr);var Cn=Qt.get(I);if(Cn)return Cn;if(Qt.set(I,Zt),!Lr)var Vr=pe?Ma(I):Zi(I);return se(Vr||I,function(Ir,_r){Vr&&(_r=Ir,Ir=I[_r]),Pn(Zt,_r,Za(Ir,J,pe,Ee,_r,I,Qt))}),Zt}function Ts(I){return Ba(I)?qe(I):{}}function Ni(I,J,pe){var Ee=J(I);return uo(I)?Ee:he(Ee,pe(I))}function qn(I){return Ze.call(I)}function Si(I){if(!Ba(I)||Aa(I))return!1;var J=ja(I)||we(I)?wt:W;return J.test(Jr(I))}function Os(I){if(!tl(I))return Yt(I);var J=[];for(var pe in Object(I))Ye.call(I,pe)&&pe!="constructor"&&J.push(pe);return J}function xr(I,J){if(J)return I.slice();var pe=new I.constructor(I.length);return I.copy(pe),pe}function Ai(I){var J=new I.constructor(I.byteLength);return new Ae(J).set(new Ae(I)),J}function zn(I,J){var pe=J?Ai(I.buffer):I.buffer;return new I.constructor(pe,I.byteOffset,I.byteLength)}function Yi(I,J,pe){var Ee=J?pe(Y(I),!0):Y(I);return oe(Ee,ie,new I.constructor)}function oo(I){var J=new I.constructor(I.source,z.exec(I));return J.lastIndex=I.lastIndex,J}function da(I,J,pe){var Ee=J?pe(De(I),!0):De(I);return oe(Ee,fe,new I.constructor)}function Zr(I){return gt?Object(gt.call(I)):{}}function Ja(I,J){var pe=J?Ai(I.buffer):I.buffer;return new I.constructor(pe,I.byteOffset,I.length)}function Qo(I,J){var pe=-1,Ee=I.length;for(J||(J=Array(Ee));++pe<Ee;)J[pe]=I[pe];return J}function lo(I,J,pe,Ee){pe||(pe={});for(var It=-1,lt=J.length;++It<lt;){var Qt=J[It],Zt=void 0;Pn(pe,Qt,Zt===void 0?I[Qt]:Zt)}return pe}function tc(I,J){return lo(I,ha(I),J)}function Ma(I){return Ni(I,Zi,ha)}function ji(I,J){var pe=I.__data__;return el(J)?pe[typeof J=="string"?"string":"hash"]:pe.map}function fa(I,J){var pe=xe(I,J);return Si(pe)?pe:void 0}var ha=mt?ge(mt,Object):Ji,Zn=qn;(et&&Zn(new et(new ArrayBuffer(1)))!=C||zt&&Zn(new zt)!=p||tt&&Zn(tt.resolve())!=m||ut&&Zn(new ut)!=b||Xt&&Zn(new Xt)!=_)&&(Zn=function(I){var J=Ze.call(I),pe=J==v?I.constructor:void 0,Ee=pe?Jr(pe):void 0;if(Ee)switch(Ee){case ot:return C;case Lt:return p;case en:return m;case Ar:return b;case tn:return _}return J});function rc(I){var J=I.length,pe=I.constructor(J);return J&&typeof I[0]=="string"&&Ye.call(I,"index")&&(pe.index=I.index,pe.input=I.input),pe}function Da(I){return typeof I.constructor=="function"&&!tl(I)?Ts(We(I)):{}}function nc(I,J,pe,Ee){var It=I.constructor;switch(J){case A:return Ai(I);case o:case l:return new It(+I);case C:return zn(I,Ee);case E:case R:case L:case U:case S:case O:case k:case M:case $:return Ja(I,Ee);case p:return Yi(I,Ee,pe);case h:case w:return new It(I);case g:return oo(I);case b:return da(I,Ee,pe);case N:return Zr(I)}}function co(I,J){return J=J??a,!!J&&(typeof I=="number"||q.test(I))&&I>-1&&I%1==0&&I<J}function el(I){var J=typeof I;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?I!=="__proto__":I===null}function Aa(I){return!!ze&&ze in I}function tl(I){var J=I&&I.constructor,pe=typeof J=="function"&&J.prototype||Ge;return I===pe}function Jr(I){if(I!=null){try{return Ue.call(I)}catch{}try{return I+""}catch{}}return""}function ks(I){return Za(I,!0,!0)}function rl(I,J){return I===J||I!==I&&J!==J}function Ot(I){return ac(I)&&Ye.call(I,"callee")&&(!rt.call(I,"callee")||Ze.call(I)==i)}var uo=Array.isArray;function Ls(I){return I!=null&&nl(I.length)&&!ja(I)}function ac(I){return Xi(I)&&Ls(I)}var Fa=Nt||ic;function ja(I){var J=Ba(I)?Ze.call(I):"";return J==d||J==f}function nl(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=a}function Ba(I){var J=typeof I;return!!I&&(J=="object"||J=="function")}function Xi(I){return!!I&&typeof I=="object"}function Zi(I){return Ls(I)?pr(I):Os(I)}function Ji(){return[]}function ic(){return!1}t.exports=ks})(Rf,Rf.exports)),Rf.exports}var Mf={exports:{}};Mf.exports;var fk;function kF(){return fk||(fk=1,(function(t,e){var r=200,n="__lodash_hash_undefined__",a=1,i=2,s=9007199254740991,o="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Function]",v="[object GeneratorFunction]",m="[object Map]",g="[object Number]",b="[object Null]",w="[object Object]",N="[object Promise]",_="[object Proxy]",A="[object RegExp]",C="[object Set]",E="[object String]",R="[object Symbol]",L="[object Undefined]",U="[object WeakMap]",S="[object ArrayBuffer]",O="[object DataView]",k="[object Float32Array]",M="[object Float64Array]",$="[object Int8Array]",F="[object Int16Array]",z="[object Int32Array]",W="[object Uint8Array]",q="[object Uint8ClampedArray]",ee="[object Uint16Array]",de="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,G=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,te={};te[k]=te[M]=te[$]=te[F]=te[z]=te[W]=te[q]=te[ee]=te[de]=!0,te[o]=te[l]=te[S]=te[d]=te[O]=te[f]=te[p]=te[h]=te[m]=te[g]=te[w]=te[A]=te[C]=te[E]=te[U]=!1;var ne=typeof Fi=="object"&&Fi&&Fi.Object===Object&&Fi,ie=typeof self=="object"&&self&&self.Object===Object&&self,fe=ne||ie||Function("return this")(),se=e&&!e.nodeType&&e,he=se&&!0&&t&&!t.nodeType&&t,oe=he&&he.exports===se,ae=oe&&ne.process,xe=(function(){try{return ae&&ae.binding&&ae.binding("util")}catch{}})(),we=xe&&xe.isTypedArray;function Y(I,J){for(var pe=-1,Ee=I==null?0:I.length,It=0,lt=[];++pe<Ee;){var Qt=I[pe];J(Qt,pe,I)&&(lt[It++]=Qt)}return lt}function ge(I,J){for(var pe=-1,Ee=J.length,It=I.length;++pe<Ee;)I[It+pe]=J[pe];return I}function De(I,J){for(var pe=-1,Ee=I==null?0:I.length;++pe<Ee;)if(J(I[pe],pe,I))return!0;return!1}function Fe(I,J){for(var pe=-1,Ee=Array(I);++pe<I;)Ee[pe]=J(pe);return Ee}function Pe(I){return function(J){return I(J)}}function Ge(I,J){return I.has(J)}function Te(I,J){return I?.[J]}function ze(I){var J=-1,pe=Array(I.size);return I.forEach(function(Ee,It){pe[++J]=[It,Ee]}),pe}function Ue(I,J){return function(pe){return I(J(pe))}}function Ye(I){var J=-1,pe=Array(I.size);return I.forEach(function(Ee){pe[++J]=Ee}),pe}var Ze=Array.prototype,wt=Function.prototype,Pt=Object.prototype,Ce=fe["__core-js_shared__"],Ae=wt.toString,We=Pt.hasOwnProperty,qe=(function(){var I=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""})(),rt=Pt.toString,st=RegExp("^"+Ae.call(We).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=oe?fe.Buffer:void 0,Nt=fe.Symbol,Yt=fe.Uint8Array,et=Pt.propertyIsEnumerable,zt=Ze.splice,tt=Nt?Nt.toStringTag:void 0,ut=Object.getOwnPropertySymbols,Xt=mt?mt.isBuffer:void 0,_t=Ue(Object.keys,Object),ot=ha(fe,"DataView"),Lt=ha(fe,"Map"),en=ha(fe,"Promise"),Ar=ha(fe,"Set"),tn=ha(fe,"WeakMap"),Or=ha(Object,"create"),gt=Jr(ot),Yr=Jr(Lt),_n=Jr(en),yn=Jr(Ar),cn=Jr(tn),gr=Nt?Nt.prototype:void 0,kr=gr?gr.valueOf:void 0;function Rt(I){var J=-1,pe=I==null?0:I.length;for(this.clear();++J<pe;){var Ee=I[J];this.set(Ee[0],Ee[1])}}function Ia(){this.__data__=Or?Or(null):{},this.size=0}function ca(I){var J=this.has(I)&&delete this.__data__[I];return this.size-=J?1:0,J}function bn(I){var J=this.__data__;if(Or){var pe=J[I];return pe===n?void 0:pe}return We.call(J,I)?J[I]:void 0}function Kn(I){var J=this.__data__;return Or?J[I]!==void 0:We.call(J,I)}function Yn(I,J){var pe=this.__data__;return this.size+=this.has(I)?0:1,pe[I]=Or&&J===void 0?n:J,this}Rt.prototype.clear=Ia,Rt.prototype.delete=ca,Rt.prototype.get=bn,Rt.prototype.has=Kn,Rt.prototype.set=Yn;function sr(I){var J=-1,pe=I==null?0:I.length;for(this.clear();++J<pe;){var Ee=I[J];this.set(Ee[0],Ee[1])}}function $n(){this.__data__=[],this.size=0}function Ka(I){var J=this.__data__,pe=xr(J,I);if(pe<0)return!1;var Ee=J.length-1;return pe==Ee?J.pop():zt.call(J,pe,1),--this.size,!0}function ua(I){var J=this.__data__,pe=xr(J,I);return pe<0?void 0:J[pe][1]}function Ya(I){return xr(this.__data__,I)>-1}function Ra(I,J){var pe=this.__data__,Ee=xr(pe,I);return Ee<0?(++this.size,pe.push([I,J])):pe[Ee][1]=J,this}sr.prototype.clear=$n,sr.prototype.delete=Ka,sr.prototype.get=ua,sr.prototype.has=Ya,sr.prototype.set=Ra;function Xr(I){var J=-1,pe=I==null?0:I.length;for(this.clear();++J<pe;){var Ee=I[J];this.set(Ee[0],Ee[1])}}function Xa(){this.size=0,this.__data__={hash:new Rt,map:new(Lt||sr),string:new Rt}}function Qe(I){var J=fa(this,I).delete(I);return this.size-=J?1:0,J}function Mt(I){return fa(this,I).get(I)}function hr(I){return fa(this,I).has(I)}function $r(I,J){var pe=fa(this,I),Ee=pe.size;return pe.set(I,J),this.size+=pe.size==Ee?0:1,this}Xr.prototype.clear=Xa,Xr.prototype.delete=Qe,Xr.prototype.get=Mt,Xr.prototype.has=hr,Xr.prototype.set=$r;function pr(I){var J=-1,pe=I==null?0:I.length;for(this.__data__=new Xr;++J<pe;)this.add(I[J])}function Pn(I){return this.__data__.set(I,n),this}function Xn(I){return this.__data__.has(I)}pr.prototype.add=pr.prototype.push=Pn,pr.prototype.has=Xn;function xn(I){var J=this.__data__=new sr(I);this.size=J.size}function Za(){this.__data__=new sr,this.size=0}function Ts(I){var J=this.__data__,pe=J.delete(I);return this.size=J.size,pe}function Ni(I){return this.__data__.get(I)}function qn(I){return this.__data__.has(I)}function Si(I,J){var pe=this.__data__;if(pe instanceof sr){var Ee=pe.__data__;if(!Lt||Ee.length<r-1)return Ee.push([I,J]),this.size=++pe.size,this;pe=this.__data__=new Xr(Ee)}return pe.set(I,J),this.size=pe.size,this}xn.prototype.clear=Za,xn.prototype.delete=Ts,xn.prototype.get=Ni,xn.prototype.has=qn,xn.prototype.set=Si;function Os(I,J){var pe=Ot(I),Ee=!pe&&rl(I),It=!pe&&!Ee&&Ls(I),lt=!pe&&!Ee&&!It&&Xi(I),Qt=pe||Ee||It||lt,Zt=Qt?Fe(I.length,String):[],Lr=Zt.length;for(var er in I)We.call(I,er)&&!(Qt&&(er=="length"||It&&(er=="offset"||er=="parent")||lt&&(er=="buffer"||er=="byteLength"||er=="byteOffset")||nc(er,Lr)))&&Zt.push(er);return Zt}function xr(I,J){for(var pe=I.length;pe--;)if(ks(I[pe][0],J))return pe;return-1}function Ai(I,J,pe){var Ee=J(I);return Ot(I)?Ee:ge(Ee,pe(I))}function zn(I){return I==null?I===void 0?L:b:tt&&tt in Object(I)?Zn(I):tl(I)}function Yi(I){return Ba(I)&&zn(I)==o}function oo(I,J,pe,Ee,It){return I===J?!0:I==null||J==null||!Ba(I)&&!Ba(J)?I!==I&&J!==J:da(I,J,pe,Ee,oo,It)}function da(I,J,pe,Ee,It,lt){var Qt=Ot(I),Zt=Ot(J),Lr=Qt?l:Da(I),er=Zt?l:Da(J);Lr=Lr==o?w:Lr,er=er==o?w:er;var rn=Lr==w,Cn=er==w,Vr=Lr==er;if(Vr&&Ls(I)){if(!Ls(J))return!1;Qt=!0,rn=!1}if(Vr&&!rn)return lt||(lt=new xn),Qt||Xi(I)?lo(I,J,pe,Ee,It,lt):tc(I,J,Lr,pe,Ee,It,lt);if(!(pe&a)){var Ir=rn&&We.call(I,"__wrapped__"),_r=Cn&&We.call(J,"__wrapped__");if(Ir||_r){var Qa=Ir?I.value():I,Jn=_r?J.value():J;return lt||(lt=new xn),It(Qa,Jn,pe,Ee,lt)}}return Vr?(lt||(lt=new xn),Ma(I,J,pe,Ee,It,lt)):!1}function Zr(I){if(!nl(I)||el(I))return!1;var J=Fa(I)?st:G;return J.test(Jr(I))}function Ja(I){return Ba(I)&&ja(I.length)&&!!te[zn(I)]}function Qo(I){if(!Aa(I))return _t(I);var J=[];for(var pe in Object(I))We.call(I,pe)&&pe!="constructor"&&J.push(pe);return J}function lo(I,J,pe,Ee,It,lt){var Qt=pe&a,Zt=I.length,Lr=J.length;if(Zt!=Lr&&!(Qt&&Lr>Zt))return!1;var er=lt.get(I);if(er&&lt.get(J))return er==J;var rn=-1,Cn=!0,Vr=pe&i?new pr:void 0;for(lt.set(I,J),lt.set(J,I);++rn<Zt;){var Ir=I[rn],_r=J[rn];if(Ee)var Qa=Qt?Ee(_r,Ir,rn,J,I,lt):Ee(Ir,_r,rn,I,J,lt);if(Qa!==void 0){if(Qa)continue;Cn=!1;break}if(Vr){if(!De(J,function(Jn,_i){if(!Ge(Vr,_i)&&(Ir===Jn||It(Ir,Jn,pe,Ee,lt)))return Vr.push(_i)})){Cn=!1;break}}else if(!(Ir===_r||It(Ir,_r,pe,Ee,lt))){Cn=!1;break}}return lt.delete(I),lt.delete(J),Cn}function tc(I,J,pe,Ee,It,lt,Qt){switch(pe){case O:if(I.byteLength!=J.byteLength||I.byteOffset!=J.byteOffset)return!1;I=I.buffer,J=J.buffer;case S:return!(I.byteLength!=J.byteLength||!lt(new Yt(I),new Yt(J)));case d:case f:case g:return ks(+I,+J);case p:return I.name==J.name&&I.message==J.message;case A:case E:return I==J+"";case m:var Zt=ze;case C:var Lr=Ee&a;if(Zt||(Zt=Ye),I.size!=J.size&&!Lr)return!1;var er=Qt.get(I);if(er)return er==J;Ee|=i,Qt.set(I,J);var rn=lo(Zt(I),Zt(J),Ee,It,lt,Qt);return Qt.delete(I),rn;case R:if(kr)return kr.call(I)==kr.call(J)}return!1}function Ma(I,J,pe,Ee,It,lt){var Qt=pe&a,Zt=ji(I),Lr=Zt.length,er=ji(J),rn=er.length;if(Lr!=rn&&!Qt)return!1;for(var Cn=Lr;Cn--;){var Vr=Zt[Cn];if(!(Qt?Vr in J:We.call(J,Vr)))return!1}var Ir=lt.get(I);if(Ir&&lt.get(J))return Ir==J;var _r=!0;lt.set(I,J),lt.set(J,I);for(var Qa=Qt;++Cn<Lr;){Vr=Zt[Cn];var Jn=I[Vr],_i=J[Vr];if(Ee)var P=Qt?Ee(_i,Jn,Vr,J,I,lt):Ee(Jn,_i,Vr,I,J,lt);if(!(P===void 0?Jn===_i||It(Jn,_i,pe,Ee,lt):P)){_r=!1;break}Qa||(Qa=Vr=="constructor")}if(_r&&!Qa){var H=I.constructor,le=J.constructor;H!=le&&"constructor"in I&&"constructor"in J&&!(typeof H=="function"&&H instanceof H&&typeof le=="function"&&le instanceof le)&&(_r=!1)}return lt.delete(I),lt.delete(J),_r}function ji(I){return Ai(I,Zi,rc)}function fa(I,J){var pe=I.__data__;return co(J)?pe[typeof J=="string"?"string":"hash"]:pe.map}function ha(I,J){var pe=Te(I,J);return Zr(pe)?pe:void 0}function Zn(I){var J=We.call(I,tt),pe=I[tt];try{I[tt]=void 0;var Ee=!0}catch{}var It=rt.call(I);return Ee&&(J?I[tt]=pe:delete I[tt]),It}var rc=ut?function(I){return I==null?[]:(I=Object(I),Y(ut(I),function(J){return et.call(I,J)}))}:Ji,Da=zn;(ot&&Da(new ot(new ArrayBuffer(1)))!=O||Lt&&Da(new Lt)!=m||en&&Da(en.resolve())!=N||Ar&&Da(new Ar)!=C||tn&&Da(new tn)!=U)&&(Da=function(I){var J=zn(I),pe=J==w?I.constructor:void 0,Ee=pe?Jr(pe):"";if(Ee)switch(Ee){case gt:return O;case Yr:return m;case _n:return N;case yn:return C;case cn:return U}return J});function nc(I,J){return J=J??s,!!J&&(typeof I=="number"||Z.test(I))&&I>-1&&I%1==0&&I<J}function co(I){var J=typeof I;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?I!=="__proto__":I===null}function el(I){return!!qe&&qe in I}function Aa(I){var J=I&&I.constructor,pe=typeof J=="function"&&J.prototype||Pt;return I===pe}function tl(I){return rt.call(I)}function Jr(I){if(I!=null){try{return Ae.call(I)}catch{}try{return I+""}catch{}}return""}function ks(I,J){return I===J||I!==I&&J!==J}var rl=Yi((function(){return arguments})())?Yi:function(I){return Ba(I)&&We.call(I,"callee")&&!et.call(I,"callee")},Ot=Array.isArray;function uo(I){return I!=null&&ja(I.length)&&!Fa(I)}var Ls=Xt||ic;function ac(I,J){return oo(I,J)}function Fa(I){if(!nl(I))return!1;var J=zn(I);return J==h||J==v||J==c||J==_}function ja(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=s}function nl(I){var J=typeof I;return I!=null&&(J=="object"||J=="function")}function Ba(I){return I!=null&&typeof I=="object"}var Xi=we?Pe(we):Ja;function Zi(I){return uo(I)?Os(I):Qo(I)}function Ji(){return[]}function ic(){return!1}t.exports=ac})(Mf,Mf.exports)),Mf.exports}var Nm={},hk;function H1e(){if(hk)return Nm;hk=1,Object.defineProperty(Nm,"__esModule",{value:!0});const t=OF(),e=kF();var r;return(function(n){function a(l={},c={},d=!1){typeof l!="object"&&(l={}),typeof c!="object"&&(c={});let f=t(c);d||(f=Object.keys(f).reduce((p,h)=>(f[h]!=null&&(p[h]=f[h]),p),{}));for(const p in l)l[p]!==void 0&&c[p]===void 0&&(f[p]=l[p]);return Object.keys(f).length>0?f:void 0}n.compose=a;function i(l={},c={}){typeof l!="object"&&(l={}),typeof c!="object"&&(c={});const d=Object.keys(l).concat(Object.keys(c)).reduce((f,p)=>(e(l[p],c[p])||(f[p]=c[p]===void 0?null:c[p]),f),{});return Object.keys(d).length>0?d:void 0}n.diff=i;function s(l={},c={}){l=l||{};const d=Object.keys(c).reduce((f,p)=>(c[p]!==l[p]&&l[p]!==void 0&&(f[p]=c[p]),f),{});return Object.keys(l).reduce((f,p)=>(l[p]!==c[p]&&c[p]===void 0&&(f[p]=null),f),d)}n.invert=s;function o(l,c,d=!1){if(typeof l!="object")return c;if(typeof c!="object")return;if(!d)return c;const f=Object.keys(c).reduce((p,h)=>(l[h]===void 0&&(p[h]=c[h]),p),{});return Object.keys(f).length>0?f:void 0}n.transform=o})(r||(r={})),Nm.default=r,Nm}var Sm={},pk;function LF(){if(pk)return Sm;pk=1,Object.defineProperty(Sm,"__esModule",{value:!0});var t;return(function(e){function r(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}e.length=r})(t||(t={})),Sm.default=t,Sm}var Am={},mk;function V1e(){if(mk)return Am;mk=1,Object.defineProperty(Am,"__esModule",{value:!0});const t=LF();class e{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const a=this.ops[this.index];if(a){const i=this.offset,s=t.default.length(a);if(n>=s-i?(n=s-i,this.index+=1,this.offset=0):this.offset+=n,typeof a.delete=="number")return{delete:n};{const o={};return a.attributes&&(o.attributes=a.attributes),typeof a.retain=="number"?o.retain=n:typeof a.retain=="object"&&a.retain!==null?o.retain=a.retain:typeof a.insert=="string"?o.insert=a.insert.substr(i,n):o.insert=a.insert,o}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,a=this.index,i=this.next(),s=this.ops.slice(this.index);return this.offset=n,this.index=a,[i].concat(s)}}else return[]}}return Am.default=e,Am}var gk;function G1e(){return gk||(gk=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const r=W1e(),n=OF(),a=kF(),i=H1e();e.AttributeMap=i.default;const s=LF();e.Op=s.default;const o=V1e();e.OpIterator=o.default;const l="\0",c=(f,p)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const h=Object.keys(f)[0];if(!h||h!==Object.keys(p)[0])throw new Error(`embed types not matched: ${h} != ${Object.keys(p)[0]}`);return[h,f[h],p[h]]};class d{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,h){this.handlers[p]=h}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const h=this.handlers[p];if(!h)throw new Error(`no handlers for embed type "${p}"`);return h}insert(p,h){const v={};return typeof p=="string"&&p.length===0?this:(v.insert=p,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(v.attributes=h),this.push(v))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,h){if(typeof p=="number"&&p<=0)return this;const v={retain:p};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(v.attributes=h),this.push(v)}push(p){let h=this.ops.length,v=this.ops[h-1];if(p=n(p),typeof v=="object"){if(typeof p.delete=="number"&&typeof v.delete=="number")return this.ops[h-1]={delete:v.delete+p.delete},this;if(typeof v.delete=="number"&&p.insert!=null&&(h-=1,v=this.ops[h-1],typeof v!="object"))return this.ops.unshift(p),this;if(a(p.attributes,v.attributes)){if(typeof p.insert=="string"&&typeof v.insert=="string")return this.ops[h-1]={insert:v.insert+p.insert},typeof p.attributes=="object"&&(this.ops[h-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof v.retain=="number")return this.ops[h-1]={retain:v.retain+p.retain},typeof p.attributes=="object"&&(this.ops[h-1].attributes=p.attributes),this}}return h===this.ops.length?this.ops.push(p):this.ops.splice(h,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const h=[],v=[];return this.forEach(m=>{(p(m)?h:v).push(m)}),[h,v]}reduce(p,h){return this.ops.reduce(p,h)}changeLength(){return this.reduce((p,h)=>h.insert?p+s.default.length(h):h.delete?p-h.delete:p,0)}length(){return this.reduce((p,h)=>p+s.default.length(h),0)}slice(p=0,h=1/0){const v=[],m=new o.default(this.ops);let g=0;for(;g<h&&m.hasNext();){let b;g<p?b=m.next(p-g):(b=m.next(h-g),v.push(b)),g+=s.default.length(b)}return new d(v)}compose(p){const h=new o.default(this.ops),v=new o.default(p.ops),m=[],g=v.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){let w=g.retain;for(;h.peekType()==="insert"&&h.peekLength()<=w;)w-=h.peekLength(),m.push(h.next());g.retain-w>0&&v.next(g.retain-w)}const b=new d(m);for(;h.hasNext()||v.hasNext();)if(v.peekType()==="insert")b.push(v.next());else if(h.peekType()==="delete")b.push(h.next());else{const w=Math.min(h.peekLength(),v.peekLength()),N=h.next(w),_=v.next(w);if(_.retain){const A={};if(typeof N.retain=="number")A.retain=typeof _.retain=="number"?w:_.retain;else if(typeof _.retain=="number")N.retain==null?A.insert=N.insert:A.retain=N.retain;else{const E=N.retain==null?"insert":"retain",[R,L,U]=c(N[E],_.retain),S=d.getHandler(R);A[E]={[R]:S.compose(L,U,E==="retain")}}const C=i.default.compose(N.attributes,_.attributes,typeof N.retain=="number");if(C&&(A.attributes=C),b.push(A),!v.hasNext()&&a(b.ops[b.ops.length-1],A)){const E=new d(h.rest());return b.concat(E).chop()}}else typeof _.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&b.push(_)}return b.chop()}concat(p){const h=new d(this.ops.slice());return p.ops.length>0&&(h.push(p.ops[0]),h.ops=h.ops.concat(p.ops.slice(1))),h}diff(p,h){if(this.ops===p.ops)return new d;const v=[this,p].map(N=>N.map(_=>{if(_.insert!=null)return typeof _.insert=="string"?_.insert:l;const A=N===p?"on":"with";throw new Error("diff() called "+A+" non-document")}).join("")),m=new d,g=r(v[0],v[1],h,!0),b=new o.default(this.ops),w=new o.default(p.ops);return g.forEach(N=>{let _=N[1].length;for(;_>0;){let A=0;switch(N[0]){case r.INSERT:A=Math.min(w.peekLength(),_),m.push(w.next(A));break;case r.DELETE:A=Math.min(_,b.peekLength()),b.next(A),m.delete(A);break;case r.EQUAL:A=Math.min(b.peekLength(),w.peekLength(),_);const C=b.next(A),E=w.next(A);a(C.insert,E.insert)?m.retain(A,i.default.diff(C.attributes,E.attributes)):m.push(E).delete(A);break}_-=A}}),m.chop()}eachLine(p,h=`
`){const v=new o.default(this.ops);let m=new d,g=0;for(;v.hasNext();){if(v.peekType()!=="insert")return;const b=v.peek(),w=s.default.length(b)-v.peekLength(),N=typeof b.insert=="string"?b.insert.indexOf(h,w)-w:-1;if(N<0)m.push(v.next());else if(N>0)m.push(v.next(N));else{if(p(m,v.next(1).attributes||{},g)===!1)return;g+=1,m=new d}}m.length()>0&&p(m,{},g)}invert(p){const h=new d;return this.reduce((v,m)=>{if(m.insert)h.delete(s.default.length(m));else{if(typeof m.retain=="number"&&m.attributes==null)return h.retain(m.retain),v+m.retain;if(m.delete||typeof m.retain=="number"){const g=m.delete||m.retain;return p.slice(v,v+g).forEach(w=>{m.delete?h.push(w):m.retain&&m.attributes&&h.retain(s.default.length(w),i.default.invert(m.attributes,w.attributes))}),v+g}else if(typeof m.retain=="object"&&m.retain!==null){const g=p.slice(v,v+1),b=new o.default(g.ops).next(),[w,N,_]=c(m.retain,b.insert),A=d.getHandler(w);return h.retain({[w]:A.invert(N,_)},i.default.invert(m.attributes,b.attributes)),v+1}}return v},0),h.chop()}transform(p,h=!1){if(h=!!h,typeof p=="number")return this.transformPosition(p,h);const v=p,m=new o.default(this.ops),g=new o.default(v.ops),b=new d;for(;m.hasNext()||g.hasNext();)if(m.peekType()==="insert"&&(h||g.peekType()!=="insert"))b.retain(s.default.length(m.next()));else if(g.peekType()==="insert")b.push(g.next());else{const w=Math.min(m.peekLength(),g.peekLength()),N=m.next(w),_=g.next(w);if(N.delete)continue;if(_.delete)b.push(_);else{const A=N.retain,C=_.retain;let E=typeof C=="object"&&C!==null?C:w;if(typeof A=="object"&&A!==null&&typeof C=="object"&&C!==null){const R=Object.keys(A)[0];if(R===Object.keys(C)[0]){const L=d.getHandler(R);L&&(E={[R]:L.transform(A[R],C[R],h)})}}b.retain(E,i.default.transform(N.attributes,_.attributes,h))}}return b.chop()}transformPosition(p,h=!1){h=!!h;const v=new o.default(this.ops);let m=0;for(;v.hasNext()&&m<=p;){const g=v.peekLength(),b=v.peekType();if(v.next(),b==="delete"){p-=Math.min(g,p-m);continue}else b==="insert"&&(m<p||!h)&&(p+=g);m+=g}return p}}d.Op=s.default,d.OpIterator=o.default,d.AttributeMap=i.default,d.handlers={},e.default=d,t.exports=d,t.exports.default=d})(wm,wm.exports)),wm.exports}var $i=G1e();const xt=mr($i);class Es extends wi{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Es.blotName="break";Es.tagName="BR";let Ss=class extends c0{};const K1e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _v(t){return t.replace(/[&<>"']/g,e=>K1e[e])}class Ta extends PA{static allowedChildren=[Ta,Es,wi,Ss];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,r){const n=Ta.order.indexOf(e),a=Ta.order.indexOf(r);return n>=0||a>=0?n-a:e===r?0:e<r?-1:1}formatAt(e,r,n,a){if(Ta.compare(this.statics.blotName,n)<0&&this.scroll.query(n,St.BLOT)){const i=this.isolate(e,r);a&&i.wrap(n,a)}else super.formatAt(e,r,n,a)}optimize(e){if(super.optimize(e),this.parent instanceof Ta&&Ta.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}const vk=1;class la extends zh{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=IF(this)),this.cache.delta}deleteAt(e,r){super.deleteAt(e,r),this.cache={}}formatAt(e,r,n,a){r<=0||(this.scroll.query(n,St.BLOCK)?e+r===this.length()&&this.format(n,a):super.formatAt(e,Math.min(r,this.length()-e-1),n,a),this.cache={})}insertAt(e,r,n){if(n!=null){super.insertAt(e,r,n),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),i=a.shift();i.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});let s=this;a.reduce((o,l)=>(s=s.split(o,!0),s.insertAt(0,l),l.length),e+i.length)}insertBefore(e,r){const{head:n}=this.children;super.insertBefore(e,r),n instanceof Es&&n.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+vk),this.cache.length}moveChildren(e,r){super.moveChildren(e,r),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(e===0||e>=this.length()-vk)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const n=super.split(e,r);return this.cache={},n}}la.blotName="block";la.tagName="P";la.defaultChild=Es;la.allowedChildren=[Es,Ta,wi,Ss];class Di extends wi{attach(){super.attach(),this.attributes=new Av(this.domNode)}delta(){return new xt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,r){const n=this.scroll.query(e,St.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(e,r,n,a){this.format(n,a)}insertAt(e,r,n){if(n!=null){super.insertAt(e,r,n);return}const a=r.split(`
`),i=a.pop(),s=a.map(l=>{const c=this.scroll.create(la.blotName);return c.insertAt(0,l),c}),o=this.split(e);s.forEach(l=>{this.parent.insertBefore(l,o)}),i&&this.parent.insertBefore(this.scroll.create("text",i),o)}}Di.scope=St.BLOCK_BLOT;function IF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Na).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),Ri(n,{},e)),new xt).insert(`
`,Ri(t))}function Ri(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},r&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Ri(t.parent,e,r)}class fs extends wi{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,r,n){super(e,r),this.selection=n,this.textNode=document.createTextNode(fs.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,r){if(this.savedLength!==0){super.format(e,r);return}let n=this,a=0;for(;n!=null&&n.statics.scope!==St.BLOCK_BLOT;)a+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=fs.CONTENTS.length,n.optimize(),n.formatAt(a,fs.CONTENTS.length,e,r),this.savedLength=0)}index(e,r){return e===this.textNode?0:super.index(e,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof Ss?this.prev:null,n=r?r.length():0,a=this.next instanceof Ss?this.next:null,i=a?a.text:"",{textNode:s}=this,o=s.data.split(fs.CONTENTS).join("");s.data=fs.CONTENTS;let l;if(r)l=r,(o||a)&&(r.insertAt(r.length(),o+i),a&&a.remove());else if(a)l=a,a.insertAt(0,o);else{const c=document.createTextNode(o);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),e){const c=(p,h)=>r&&p===r.domNode?h:p===s?n+h-1:a&&p===a.domNode?n+o.length+h:null,d=c(e.start.node,e.start.offset),f=c(e.end.node,e.end.offset);if(d!==null&&f!==null)return{startNode:l.domNode,startOffset:d,endNode:l.domNode,endOffset:f}}return null}update(e,r){if(e.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(e){super.optimize(e);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=fs.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}}var F2={exports:{}},yk;function Y1e(){return yk||(yk=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||l,p),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,p,h,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],b=arguments.length,w,N;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,p),!0;case 5:return g.fn.call(g.context,d,f,p,h),!0;case 6:return g.fn.call(g.context,d,f,p,h,v),!0}for(N=1,w=new Array(b-1);N<b;N++)w[N-1]=arguments[N];g.fn.apply(g.context,w)}else{var _=g.length,A;for(N=0;N<_;N++)switch(g[N].once&&this.removeListener(c,g[N].fn,void 0,!0),b){case 1:g[N].fn.call(g[N].context);break;case 2:g[N].fn.call(g[N].context,d);break;case 3:g[N].fn.call(g[N].context,d,f);break;case 4:g[N].fn.call(g[N].context,d,f,p);break;default:if(!w)for(A=1,w=new Array(b-1);A<b;A++)w[A-1]=arguments[A];g[N].fn.apply(g[N].context,w)}}return!0},o.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!d)return s(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&s(this,h);else{for(var m=0,g=[],b=v.length;m<b;m++)(v[m].fn!==d||p&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(F2)),F2.exports}var X1e=Y1e();const Z1e=mr(X1e),sN=new WeakMap,oN=["error","warn","log","info"];let lN="warn";function RF(t){if(lN&&oN.indexOf(t)<=oN.indexOf(lN)){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];console[t](...r)}}function Jo(t){return oN.reduce((e,r)=>(e[r]=RF.bind(console,r,t),e),{})}Jo.level=t=>{lN=t};RF.level=Jo.level;const B2=Jo("quill:events"),J1e=["selectionchange","mousedown","mouseup","click"];J1e.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const i=sN.get(a);i&&i.emitter&&i.emitter.handleDOM(...r)})})});class pt extends Z1e{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",B2.error)}emit(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return B2.log.call(B2,...r),super.emit(...r)}handleDOM(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(i=>{let{node:s,handler:o}=i;(e.target===s||s.contains(e.target))&&o(e,...n)})}listenDOM(e,r,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:r,handler:n})}}const $2=Jo("quill:selection");class Gc{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=r}}class Q1e{constructor(e,r){this.emitter=r,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Gc(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,pt.sources.USER),1)}),this.emitter.on(pt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(pt.events.SCROLL_UPDATE,(a,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const s=i.some(o=>o.type==="characterData"||o.type==="childList"||o.type==="attributes"&&o.target===this.root);this.update(s?pt.sources.SILENT:a)}catch{}})}),this.emitter.on(pt.events.SCROLL_OPTIMIZE,(n,a)=>{if(a.range){const{startNode:i,startOffset:s,endNode:o,endOffset:l}=a.range;this.setNativeRange(i,s,o,l),this.update(pt.sources.SILENT)}}),this.update(pt.sources.SILENT)}handleComposition(){this.emitter.on(pt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(pt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(pt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(e,St.BLOCK))){if(n.start.node!==this.cursor.textNode){const a=this.scroll.find(n.start.node,!1);if(a==null)return;if(a instanceof Na){const i=a.split(n.start.offset);a.parent.insertBefore(this.cursor,i)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();e=Math.min(e,n-1),r=Math.min(e+r,n-1)-e;let a,[i,s]=this.scroll.leaf(e);if(i==null)return null;if(r>0&&s===i.length()){const[d]=this.scroll.leaf(e+1);if(d){const[f]=this.scroll.line(e),[p]=this.scroll.line(e+1);f===p&&(i=d,s=0)}}[a,s]=i.position(s,!0);const o=document.createRange();if(r>0)return o.setStart(a,s),[i,s]=this.scroll.leaf(e+r),i==null?null:([a,s]=i.position(s,!0),o.setEnd(a,s),o.getBoundingClientRect());let l="left",c;if(a instanceof Text){if(!a.data.length)return null;s<a.data.length?(o.setStart(a,s),o.setEnd(a,s+1)):(o.setStart(a,s-1),o.setEnd(a,s),l="right"),c=o.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;c=i.domNode.getBoundingClientRect(),s>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const r=e.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return $2.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&q2(this.root,document.activeElement)}normalizedToRange(e){const r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);const n=r.map(s=>{const[o,l]=s,c=this.scroll.find(o,!0),d=c.offset(this.scroll);return l===0?d:c instanceof Na?d+c.index(o,l):d+c.length()}),a=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(a,...n);return new Gc(i,a-i)}normalizeNative(e){if(!q2(this.root,e.startContainer)||!e.collapsed&&!q2(this.root,e.endContainer))return null;const r={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[r.start,r.end].forEach(n=>{let{node:a,offset:i}=n;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>i)a=a.childNodes[i],i=0;else if(a.childNodes.length===i)a=a.lastChild,a instanceof Text?i=a.data.length:a.childNodes.length>0?i=a.childNodes.length:i=a.childNodes.length+1;else break;n.node=a,n.offset=i}),r}rangeToNative(e){const r=this.scroll.length(),n=(a,i)=>{a=Math.min(r-1,a);const[s,o]=this.scroll.leaf(a);return s?s.position(o,i):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if($2.info("setNativeRange",e,r,n,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||n.parentNode==null))return;const s=document.getSelection();if(s!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(o==null||i||e!==o.startContainer||r!==o.startOffset||n!==o.endContainer||a!==o.endOffset){e instanceof Element&&e.tagName==="BR"&&(r=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&n.tagName==="BR"&&(a=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const l=document.createRange();l.setStart(e,r),l.setEnd(n,a),s.removeAllRanges(),s.addRange(l)}}else s.removeAllRanges(),this.root.blur()}setRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pt.sources.API;if(typeof r=="string"&&(n=r,r=!1),$2.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,r)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pt.sources.USER;const r=this.lastRange,[n,a]=this.getRange();if(this.lastRange=n,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!Pl(r,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const i=[pt.events.SELECTION_CHANGE,Ju(this.lastRange),Ju(r),e];this.emitter.emit(pt.events.EDITOR_CHANGE,...i),e!==pt.sources.SILENT&&this.emitter.emit(...i)}}}function q2(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const eye=/^[ -~]*$/;class tye{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=bk(e),a=new xt;return nye(n.ops.slice()).reduce((s,o)=>{const l=$i.Op.length(o);let c=o.attributes||{},d=!1,f=!1;if(o.insert!=null){if(a.retain(l),typeof o.insert=="string"){const v=o.insert;f=!v.endsWith(`
`)&&(r<=s||!!this.scroll.descendant(Di,s)[0]),this.scroll.insertAt(s,v);const[m,g]=this.scroll.line(s);let b=Dl({},Ri(m));if(m instanceof la){const[w]=m.descendant(Na,g);w&&(b=Dl(b,Ri(w)))}c=$i.AttributeMap.diff(b,c)||{}}else if(typeof o.insert=="object"){const v=Object.keys(o.insert)[0];if(v==null)return s;const m=this.scroll.query(v,St.INLINE)!=null;if(m)(r<=s||this.scroll.descendant(Di,s)[0])&&(f=!0);else if(s>0){const[g,b]=this.scroll.descendant(Na,s-1);g instanceof Ss?g.value()[b]!==`
`&&(d=!0):g instanceof wi&&g.statics.scope===St.INLINE_BLOT&&(d=!0)}if(this.scroll.insertAt(s,v,o.insert[v]),m){const[g]=this.scroll.descendant(Na,s);if(g){const b=Dl({},Ri(g));c=$i.AttributeMap.diff(b,c)||{}}}}r+=l}else if(a.push(o),o.retain!==null&&typeof o.retain=="object"){const v=Object.keys(o.retain)[0];if(v==null)return s;this.scroll.updateEmbedAt(s,v,o.retain[v])}Object.keys(c).forEach(v=>{this.scroll.formatAt(s,l,v,c[v])});const p=d?1:0,h=f?1:0;return r+=p+h,a.retain(p),a.delete(h),s+l+p+h},0),a.reduce((s,o)=>typeof o.delete=="number"?(this.scroll.deleteAt(s,o.delete),s):s+$i.Op.length(o),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,r){return this.scroll.deleteAt(e,r),this.update(new xt().retain(e).delete(r))}formatLine(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(e,Math.max(r,1)).forEach(s=>{s.format(i,n[i])})}),this.scroll.optimize();const a=new xt().retain(e).retain(r,Ju(n));return this.update(a)}formatText(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(e,r,i,n[i])});const a=new xt().retain(e).retain(r,Ju(n));return this.update(a)}getContents(e,r){return this.delta.slice(e,e+r)}getDelta(){return this.scroll.lines().reduce((e,r)=>e.concat(r.delta()),new xt)}getFormat(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],a=[];r===0?this.scroll.path(e).forEach(o=>{const[l]=o;l instanceof la?n.push(l):l instanceof Na&&a.push(l)}):(n=this.scroll.lines(e,r),a=this.scroll.descendants(Na,e,r));const[i,s]=[n,a].map(o=>{const l=o.shift();if(l==null)return{};let c=Ri(l);for(;Object.keys(c).length>0;){const d=o.shift();if(d==null)return c;c=rye(Ri(d),c)}return c});return{...i,...s}}getHTML(e,r){const[n,a]=this.scroll.line(e);if(n){const i=n.length();return n.length()>=a+r&&!(a===0&&r===i)?Uh(n,a,r,!0):Uh(this.scroll,e,r,!0)}return""}getText(e,r){return this.getContents(e,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(e,r){const n=bk(r),a=new xt().retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(a)}insertEmbed(e,r,n){return this.scroll.insertAt(e,r,n),this.update(new xt().retain(e).insert({[r]:n}))}insertText(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,r),Object.keys(n).forEach(a=>{this.scroll.formatAt(e,r.length,a,n[a])}),this.update(new xt().retain(e).insert(r,Ju(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==la.blotName)return!1;const r=e;return r.children.length>1?!1:r.children.head instanceof Es}removeFormat(e,r){const n=this.getText(e,r),[a,i]=this.scroll.line(e+r);let s=0,o=new xt;a!=null&&(s=a.length()-i,o=a.delta().slice(i,i+s-1).insert(`
`));const c=this.getContents(e,r+s).diff(new xt().insert(n).concat(o)),d=new xt().retain(e).concat(c);return this.applyDelta(d)}update(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(eye)&&this.scroll.find(r[0].target)){const i=this.scroll.find(r[0].target),s=Ri(i),o=i.offset(this.scroll),l=r[0].oldValue.replace(fs.CONTENTS,""),c=new xt().insert(l),d=new xt().insert(i.value()),f=n&&{oldRange:xk(n.oldRange,-o),newRange:xk(n.newRange,-o)};e=new xt().retain(o).concat(c.diff(d,f)).reduce((h,v)=>v.insert?h.insert(v.insert,s):h.push(v),new xt),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!Pl(a.compose(e),this.delta))&&(e=a.diff(this.delta,n));return e}}function Ou(t,e,r){if(t.length===0){const[h]=z2(r.pop());return e<=0?`</li></${h}>`:`</li></${h}>${Ou([],e-1,r)}`}const[{child:n,offset:a,length:i,indent:s,type:o},...l]=t,[c,d]=z2(o);if(s>e)return r.push(o),s===e+1?`<${c}><li${d}>${Uh(n,a,i)}${Ou(l,s,r)}`:`<${c}><li>${Ou(t,e+1,r)}`;const f=r[r.length-1];if(s===e&&o===f)return`</li><li${d}>${Uh(n,a,i)}${Ou(l,s,r)}`;const[p]=z2(r.pop());return`</li></${p}>${Ou(t,e-1,r)}`}function Uh(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,r);if(t instanceof Ss)return _v(t.value().slice(e,e+r)).replaceAll(" ","&nbsp;");if(t instanceof ys){if(t.statics.blotName==="list-container"){const c=[];return t.children.forEachAt(e,r,(d,f,p)=>{const h="formats"in d&&typeof d.formats=="function"?d.formats():{};c.push({child:d,offset:f,length:p,indent:h.indent||0,type:h.list})}),Ou(c,-1,[])}const a=[];if(t.children.forEachAt(e,r,(c,d,f)=>{a.push(Uh(c,d,f))}),n||t.statics.blotName==="list")return a.join("");const{outerHTML:i,innerHTML:s}=t.domNode,[o,l]=i.split(`>${s}<`);return o==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${l}`:`${o}>${a.join("")}<${l}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function rye(t,e){return Object.keys(e).reduce((r,n)=>{if(t[n]==null)return r;const a=e[n];return a===t[n]?r[n]=a:Array.isArray(a)?a.indexOf(t[n])<0?r[n]=a.concat([t[n]]):r[n]=a:r[n]=[a,t[n]],r},{})}function z2(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function bk(t){return t.reduce((e,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(n,r.attributes)}return e.push(r)},new xt)}function xk(t,e){let{index:r,length:n}=t;return new Gc(r+e,n)}function nye(t){const e=[];return t.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((a,i)=>{i&&e.push({insert:`
`,attributes:r.attributes}),a&&e.push({insert:a,attributes:r.attributes})}):e.push(r)}),e}class so{static DEFAULTS={};constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=r}}const jm="\uFEFF";class EA extends wi{constructor(e,r){super(e,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(jm),this.rightGuard=document.createTextNode(jm),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,r)}restore(e){let r=null,n;const a=e.data.split(jm).join("");if(e===this.leftGuard)if(this.prev instanceof Ss){const i=this.prev.length();this.prev.insertAt(i,a),r={startNode:this.prev.domNode,startOffset:i+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof Ss?(this.next.insertAt(0,a),r={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:a.length}));return e.data=jm,r}update(e,r){e.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const a=this.restore(n.target);a&&(r.range=a)}})}}class aye{isComposing=!1;constructor(e,r){this.scroll=e,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const r=e.target instanceof Node?this.scroll.find(e.target,!0):null;r&&!(r instanceof EA)&&(this.emitter.emit(pt.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(pt.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(pt.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(pt.events.COMPOSITION_END,e),this.isComposing=!1}}class Yd{static DEFAULTS={modules:{}};static themes={default:Yd};modules={};constructor(e,r){this.quill=e,this.options=r}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const r=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new r(this.quill,this.options.modules[e]||{}),this.modules[e]}}const iye=t=>t.parentElement||t.getRootNode().host||null,sye=t=>{const e=t.getBoundingClientRect(),r="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,n="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*r,bottom:e.top+t.clientHeight*n,left:e.left}},_m=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},wk=(t,e,r,n,a,i)=>t<r&&e>n?0:t<r?-(r-t+a):e>n?e-t>n-r?t+a-r:e-n+i:0,oye=(t,e)=>{const r=t.ownerDocument;let n=e,a=t;for(;a;){const i=a===r.body,s=i?{top:0,right:window.visualViewport?.width??r.documentElement.clientWidth,bottom:window.visualViewport?.height??r.documentElement.clientHeight,left:0}:sye(a),o=getComputedStyle(a),l=wk(n.left,n.right,s.left,s.right,_m(o.scrollPaddingLeft),_m(o.scrollPaddingRight)),c=wk(n.top,n.bottom,s.top,s.bottom,_m(o.scrollPaddingTop),_m(o.scrollPaddingBottom));if(l||c)if(i)r.defaultView?.scrollBy(l,c);else{const{scrollLeft:d,scrollTop:f}=a;c&&(a.scrollTop+=c),l&&(a.scrollLeft+=l);const p=a.scrollLeft-d,h=a.scrollTop-f;n={left:n.left-p,top:n.top-h,right:n.right-p,bottom:n.bottom-h}}a=i||o.position==="fixed"?null:iye(a)}},lye=100,cye=["block","break","cursor","inline","scroll","text"],uye=(t,e,r)=>{const n=new Ed;return cye.forEach(a=>{const i=e.query(a);i&&n.register(i)}),t.forEach(a=>{let i=e.query(a);i||r.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,s+=1,s>lye){r.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),n},ed=Jo("quill"),Pm=new Ed;ys.uiClass="ql-ui";class Me{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Pm,theme:"default"};static events=pt.events;static sources=pt.sources;static version="2.0.3";static imports={delta:xt,parchment:U1e,"core/module":so,"core/theme":Yd};static debug(e){e===!0&&(e="log"),Jo.level(e)}static find(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return sN.get(e)||Pm.find(e,r)}static import(e){return this.imports[e]==null&&ed.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in e?e.attrName:e.blotName;typeof n=="string"?this.register(`formats/${n}`,e,r):Object.keys(e).forEach(a=>{this.register(a,e[a],r)})}else{const e=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!n&&ed.warn(`Overwriting ${e} with`,r),this.imports[e]=r,(e.startsWith("blots/")||e.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&Pm.register(r),typeof r.register=="function"&&r.register(Pm)}}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=dye(e,r),this.container=this.options.container,this.container==null){ed.error("Invalid Quill container",e);return}this.options.debug&&Me.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",sN.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new pt;const a=CA.blotName,i=this.options.registry.query(a);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new tye(this.scroll),this.selection=new Q1e(this.scroll,this.emitter),this.composition=new aye(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(pt.events.EDITOR_CHANGE,s=>{s===pt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(pt.events.SCROLL_UPDATE,(s,o)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),d=l&&c?{oldRange:l,newRange:c}:void 0;ss.call(this,()=>this.editor.update(null,o,d),s)}),this.emitter.on(pt.events.SCROLL_EMBED_UPDATE,(s,o)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),d=l&&c?{oldRange:l,newRange:c}:void 0;ss.call(this,()=>{const f=new xt().retain(s.offset(this)).retain({[s.statics.blotName]:o});return this.editor.update(f,[],d)},Me.sources.USER)}),n){const s=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const n=e;e=document.createElement("div"),e.classList.add(n)}return this.container.insertBefore(e,r),e}blur(){this.selection.setRange(null)}deleteText(e,r,n){return[e,r,,n]=Ao(e,r,n),ss.call(this,()=>this.editor.deleteText(e,r),n,e,-1*r)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const r=e();return this.allowReadOnlyEdits=!1,r}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pt.sources.API;return ss.call(this,()=>{const a=this.getSelection(!0);let i=new xt;if(a==null)return i;if(this.scroll.query(e,St.BLOCK))i=this.editor.formatLine(a.index,a.length,{[e]:r});else{if(a.length===0)return this.selection.format(e,r),i;i=this.editor.formatText(a.index,a.length,{[e]:r})}return this.setSelection(a,pt.sources.SILENT),i},n)}formatLine(e,r,n,a,i){let s;return[e,r,s,i]=Ao(e,r,n,a,i),ss.call(this,()=>this.editor.formatLine(e,r,s),i,e,0)}formatText(e,r,n,a,i){let s;return[e,r,s,i]=Ao(e,r,n,a,i),ss.call(this,()=>this.editor.formatText(e,r,s),i,e,0)}getBounds(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof e=="number"?n=this.selection.getBounds(e,r):n=this.selection.getBounds(e.index,e.length),!n)return null;const a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,r]=Ao(e,r),this.editor.getContents(e,r)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,r):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,r)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(r=r??this.getLength()-e),[e,r]=Ao(e,r),this.editor.getHTML(e,r)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(r=r??this.getLength()-e),[e,r]=Ao(e,r),this.editor.getText(e,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Me.sources.API;return ss.call(this,()=>this.editor.insertEmbed(e,r,n),a,e)}insertText(e,r,n,a,i){let s;return[e,,s,i]=Ao(e,0,n,a,i),ss.call(this,()=>this.editor.insertText(e,r,s),i,e,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,r,n){return[e,r,,n]=Ao(e,r,n),ss.call(this,()=>this.editor.removeFormat(e,r),n,e)}scrollRectIntoView(e){oye(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,r=e&&this.selection.getBounds(e.index,e.length);r&&this.scrollRectIntoView(r)}setContents(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.sources.API;return ss.call(this,()=>{e=new xt(e);const n=this.getLength(),a=this.editor.deleteText(0,n),i=this.editor.insertContents(0,e),s=this.editor.deleteText(this.getLength()-1,1);return a.compose(i).compose(s)},r)}setSelection(e,r,n){e==null?this.selection.setRange(null,r||Me.sources.API):([e,r,,n]=Ao(e,r,n),this.selection.setRange(new Gc(Math.max(0,e),r),n),n!==pt.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.sources.API;const n=new xt().insert(e);return this.setContents(n,r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pt.sources.USER;const r=this.scroll.update(e);return this.selection.update(e),r}updateContents(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.sources.API;return ss.call(this,()=>(e=new xt(e),this.editor.applyDelta(e)),r,!0)}}function Nk(t){return typeof t=="string"?document.querySelector(t):t}function U2(t){return Object.entries(t??{}).reduce((e,r)=>{let[n,a]=r;return{...e,[n]:a===!0?{}:a}},{})}function Sk(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function dye(t,e){const r=Nk(t);if(!r)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===Me.DEFAULTS.theme?Yd:Me.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...s}=Me.DEFAULTS,{modules:o,...l}=a.DEFAULTS;let c=U2(e.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const d=Dl({},U2(i),U2(o),c),f={...s,...Sk(l),...Sk(e)};let p=e.registry;return p?e.formats&&ed.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?uye(e.formats,f.registry,ed):f.registry,{...f,registry:p,container:r,theme:a,modules:Object.entries(d).reduce((h,v)=>{let[m,g]=v;if(!g)return h;const b=Me.import(`modules/${m}`);return b==null?(ed.error(`Cannot load ${m} module. Are you sure you registered it?`),h):{...h,[m]:Dl({},b.DEFAULTS||{},g)}},{}),bounds:Nk(f.bounds)}}function ss(t,e,r,n){if(!this.isEnabled()&&e===pt.sources.USER&&!this.allowReadOnlyEdits)return new xt;let a=r==null?null:this.getSelection();const i=this.editor.delta,s=t();if(a!=null&&(r===!0&&(r=a.index),n==null?a=Ak(a,s,e):n!==0&&(a=Ak(a,r,n,e)),this.setSelection(a,pt.sources.SILENT)),s.length()>0){const o=[pt.events.TEXT_CHANGE,s,i,e];this.emitter.emit(pt.events.EDITOR_CHANGE,...o),e!==pt.sources.SILENT&&this.emitter.emit(...o)}return s}function Ao(t,e,r,n,a){let i={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(a=n,n=r,r=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(a=n,n=r,r=e,e=0),typeof r=="object"?(i=r,a=n):typeof r=="string"&&(n!=null?i[r]=n:a=r),a=a||pt.sources.API,[t,e,i,a]}function Ak(t,e,r,n){const a=typeof r=="number"?r:0;if(t==null)return null;let i,s;return e&&typeof e.transformPosition=="function"?[i,s]=[t.index,t.index+t.length].map(o=>e.transformPosition(o,n!==pt.sources.USER)):[i,s]=[t.index,t.index+t.length].map(o=>o<e||o===e&&n===pt.sources.USER?o:a>=0?o+a:Math.max(e,o+a)),new Gc(i,s-i)}class su extends jv{}function jk(t){return t instanceof la||t instanceof Di}function _k(t){return typeof t.updateContent=="function"}class fye extends CA{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=la;static allowedChildren=[la,Di,su];constructor(e,r,n){let{emitter:a}=n;super(e,r),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(pt.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(pt.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,r){this.emitter.emit(pt.events.SCROLL_EMBED_UPDATE,e,r)}deleteAt(e,r){const[n,a]=this.line(e),[i]=this.line(e+r);if(super.deleteAt(e,r),i!=null&&n!==i&&a>0){if(n instanceof Di||i instanceof Di){this.optimize();return}const s=i.children.head instanceof Es?null:i.children.head;n.moveChildren(i,s),n.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,r,n,a){super.formatAt(e,r,n,a),this.optimize()}insertAt(e,r,n){if(e>=this.length())if(n==null||this.scroll.query(r,St.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),n==null&&r.endsWith(`
`)?a.insertAt(0,r.slice(0,-1),n):a.insertAt(0,r,n)}else{const a=this.scroll.create(r,n);this.appendChild(a)}else super.insertAt(e,r,n);this.optimize()}insertBefore(e,r){if(e.statics.scope===St.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,r)}else super.insertBefore(e,r)}insertContents(e,r){const n=this.deltaToRenderBlocks(r.concat(new xt().insert(`
`))),a=n.pop();if(a==null)return;this.batchStart();const i=n.shift();if(i){const l=i.type==="block"&&(i.delta.length()===0||!this.descendant(Di,e)[0]&&e<this.length()),c=i.type==="block"?i.delta:new xt().insert({[i.key]:i.value});W2(this,e,c);const d=i.type==="block"?1:0,f=e+c.length()+d;l&&this.insertAt(f-1,`
`);const p=Ri(this.line(e)[0]),h=$i.AttributeMap.diff(p,i.attributes)||{};Object.keys(h).forEach(v=>{this.formatAt(f-1,1,v,h[v])}),e=f}let[s,o]=this.children.find(e);if(n.length&&(s&&(s=s.split(o),o=0),n.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,s||void 0);W2(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,s||void 0),Object.keys(l.attributes).forEach(d=>{c.format(d,l.attributes[d])})}})),a.type==="block"&&a.delta.length()){const l=s?s.offset(s.scroll)+o:this.length();W2(this,l,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const r=this.path(e).pop();if(!r)return[null,-1];const[n,a]=r;return n instanceof Na?[n,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(jk,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(a,i,s)=>{let o=[],l=s;return a.children.forEachAt(i,s,(c,d,f)=>{jk(c)?o.push(c):c instanceof jv&&(o=o.concat(n(c,d,l))),l-=f}),o};return n(this,e,r)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,r),e.length>0&&this.emitter.emit(pt.events.SCROLL_OPTIMIZE,e,r))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let r=pt.sources.USER;typeof e=="string"&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(n=>{let{target:a}=n;const i=this.find(a,!0);return i&&!_k(i)}),e.length>0&&this.emitter.emit(pt.events.SCROLL_BEFORE_UPDATE,r,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(pt.events.SCROLL_UPDATE,r,e)}updateEmbedAt(e,r,n){const[a]=this.descendant(i=>i instanceof Di,e);a&&a.statics.blotName===r&&_k(a)&&a.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const r=[];let n=new xt;return e.forEach(a=>{const i=a?.insert;if(i)if(typeof i=="string"){const s=i.split(`
`);s.slice(0,-1).forEach(l=>{n.insert(l,a.attributes),r.push({type:"block",delta:n,attributes:a.attributes??{}}),n=new xt});const o=s[s.length-1];o&&n.insert(o,a.attributes)}else{const s=Object.keys(i)[0];if(!s)return;this.query(s,St.INLINE)?n.push(a):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new xt,r.push({type:"blockEmbed",key:s,value:i[s],attributes:a.attributes??{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(e,r){let n;const a={};Object.entries(e).forEach(o=>{let[l,c]=o;this.query(l,St.BLOCK&St.BLOT)!=null?n=l:a[l]=c});const i=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(i,r||void 0);const s=i.length();return Object.entries(a).forEach(o=>{let[l,c]=o;i.formatAt(0,s,l,c)}),i}}function W2(t,e,r){r.reduce((n,a)=>{const i=$i.Op.length(a);let s=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const o=a.insert;t.insertAt(n,o);const[l]=t.descendant(Na,n),c=Ri(l);s=$i.AttributeMap.diff(c,s)||{}}else if(typeof a.insert=="object"){const o=Object.keys(a.insert)[0];if(o==null)return n;if(t.insertAt(n,o,a.insert[o]),t.scroll.query(o,St.INLINE)!=null){const[c]=t.descendant(Na,n),d=Ri(c);s=$i.AttributeMap.diff(d,s)||{}}}}return Object.keys(s).forEach(o=>{t.formatAt(n,i,o,s[o])}),n+i},e)}const TA={scope:St.BLOCK,whitelist:["right","center","justify"]},hye=new to("align","align",TA),MF=new Cs("align","ql-align",TA),DF=new ec("align","text-align",TA);class FF extends ec{value(e){let r=super.value(e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):r}}const pye=new Cs("color","ql-color",{scope:St.INLINE}),OA=new FF("color","color",{scope:St.INLINE}),mye=new Cs("background","ql-bg",{scope:St.INLINE}),kA=new FF("background","background-color",{scope:St.INLINE});class ou extends su{static create(e){const r=super.create(e);return r.setAttribute("spellcheck","false"),r}code(e,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(e,e+r)}html(e,r){return`<pre>
${_v(this.code(e,r))}
</pre>`}}class ka extends la{static TAB="  ";static register(){Me.register(ou)}}class LA extends Ta{}LA.blotName="code";LA.tagName="CODE";ka.blotName="code-block";ka.className="ql-code-block";ka.tagName="DIV";ou.blotName="code-block-container";ou.className="ql-code-block-container";ou.tagName="DIV";ou.allowedChildren=[ka];ka.allowedChildren=[Ss,Es,fs];ka.requiredContainer=ou;const IA={scope:St.BLOCK,whitelist:["rtl"]},BF=new to("direction","dir",IA),$F=new Cs("direction","ql-direction",IA),qF=new ec("direction","direction",IA),zF={scope:St.INLINE,whitelist:["serif","monospace"]},UF=new Cs("font","ql-font",zF);class gye extends ec{value(e){return super.value(e).replace(/["']/g,"")}}const WF=new gye("font","font-family",zF),HF=new Cs("size","ql-size",{scope:St.INLINE,whitelist:["small","large","huge"]}),VF=new ec("size","font-size",{scope:St.INLINE,whitelist:["10px","18px","32px"]}),vye=Jo("quill:keyboard"),yye=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Pv extends so{static match(e,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==e[n]&&r[n]!==null)?!1:r.key===e.key||r.key===e.which}constructor(e,r){super(e,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=xye(e);if(a==null){vye.warn("Attempted to add invalid keyboard binding",a);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(a.key)?a.key:[a.key]).forEach(s=>{const o={...a,key:s,...r,...n};this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(b=>Pv.match(e,b));if(a.length===0)return;const i=Me.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[o,l]=this.quill.getLine(s.index),[c,d]=this.quill.getLeaf(s.index),[f,p]=s.length===0?[c,d]:this.quill.getLeaf(s.index+s.length),h=c instanceof c0?c.value().slice(0,d):"",v=f instanceof c0?f.value().slice(p):"",m={collapsed:s.length===0,empty:s.length===0&&o.length()<=1,format:this.quill.getFormat(s),line:o,offset:l,prefix:h,suffix:v,event:e};a.some(b=>{if(b.collapsed!=null&&b.collapsed!==m.collapsed||b.empty!=null&&b.empty!==m.empty||b.offset!=null&&b.offset!==m.offset)return!1;if(Array.isArray(b.format)){if(b.format.every(w=>m.format[w]==null))return!1}else if(typeof b.format=="object"&&!Object.keys(b.format).every(w=>b.format[w]===!0?m.format[w]!=null:b.format[w]===!1?m.format[w]==null:Pl(b.format[w],m.format[w])))return!1;return b.prefix!=null&&!b.prefix.test(m.prefix)||b.suffix!=null&&!b.suffix.test(m.suffix)?!1:b.handler.call(this,s,m,b)!==!0})&&e.preventDefault()})}handleBackspace(e,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[i]=this.quill.getLine(e.index);let s=new xt().retain(e.index-n).delete(n);if(r.offset===0){const[o]=this.quill.getLine(e.index-1);if(o&&!(o.statics.blotName==="block"&&o.length()<=1)){const c=i.formats(),d=this.quill.getFormat(e.index-1,1);if(a=$i.AttributeMap.diff(c,d)||{},Object.keys(a).length>0){const f=new xt().retain(e.index+i.length()-2).retain(1,a);s=s.compose(f)}}}this.quill.updateContents(s,Me.sources.USER),this.quill.focus()}handleDelete(e,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let a={};const[i]=this.quill.getLine(e.index);let s=new xt().retain(e.index).delete(n);if(r.offset>=i.length()-1){const[o]=this.quill.getLine(e.index+1);if(o){const l=i.formats(),c=this.quill.getFormat(e.index,1);a=$i.AttributeMap.diff(l,c)||{},Object.keys(a).length>0&&(s=s.retain(o.length()-1).retain(1,a))}}this.quill.updateContents(s,Me.sources.USER),this.quill.focus()}handleDeleteRange(e){RA({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,r){const n=Object.keys(r.format).reduce((i,s)=>(this.quill.scroll.query(s,St.BLOCK)&&!Array.isArray(r.format[s])&&(i[s]=r.format[s]),i),{}),a=new xt().retain(e.index).delete(e.length).insert(`
`,n);this.quill.updateContents(a,Me.sources.USER),this.quill.setSelection(e.index+1,Me.sources.SILENT),this.quill.focus()}}const bye={bindings:{bold:H2("bold"),italic:H2("italic"),underline:H2("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Me.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Me.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",Me.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Me.sources.USER)}},"indent code-block":Pk(!0),"outdent code-block":Pk(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,Me.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const r=new xt().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(r,Me.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,Me.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Me.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const r={list:!1};e.format.indent&&(r.indent=!1),this.quill.formatLine(t.index,t.length,r,Me.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,r]=this.quill.getLine(t.index),n={...e.formats(),list:"checked"},a=new xt().retain(t.index).insert(`
`,n).retain(e.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,Me.sources.USER),this.quill.setSelection(t.index+1,Me.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[r,n]=this.quill.getLine(t.index),a=new xt().retain(t.index).insert(`
`,e.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(a,Me.sources.USER),this.quill.setSelection(t.index+1,Me.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[r,n,a,i]=e.getTable(t),s=wye(r,n,a,i);if(s==null)return;let o=r.offset();if(s<0){const l=new xt().retain(o).insert(`
`);this.quill.updateContents(l,Me.sources.USER),this.quill.setSelection(t.index+1,t.length,Me.sources.SILENT)}else if(s>0){o+=r.length();const l=new xt().retain(o).insert(`
`);this.quill.updateContents(l,Me.sources.USER),this.quill.setSelection(o,Me.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:r,line:n}=e,a=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(a-1,Me.sources.USER):this.quill.setSelection(a+n.length(),Me.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=e.prefix,[n,a]=this.quill.getLine(t.index);if(a>r)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(t.index," ",Me.sources.USER),this.quill.history.cutoff();const s=new xt().retain(t.index-a).delete(r+1).retain(n.length()-2-a).retain(1,{list:i});return this.quill.updateContents(s,Me.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,Me.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,r]=this.quill.getLine(t.index);let n=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,n-=1,n<=0){const i=new xt().retain(t.index+e.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,Me.sources.USER),this.quill.setSelection(t.index-1,Me.sources.SILENT),!1}return!0}},"embed left":Cm("ArrowLeft",!1),"embed left shift":Cm("ArrowLeft",!0),"embed right":Cm("ArrowRight",!1),"embed right shift":Cm("ArrowRight",!0),"table down":Ck(!1),"table up":Ck(!0)}};Pv.DEFAULTS=bye;function Pk(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,r){let{event:n}=r;const a=this.quill.scroll.query("code-block"),{TAB:i}=a;if(e.length===0&&!n.shiftKey){this.quill.insertText(e.index,i,Me.sources.USER),this.quill.setSelection(e.index+i.length,Me.sources.SILENT);return}const s=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:o,length:l}=e;s.forEach((c,d)=>{t?(c.insertAt(0,i),d===0?o+=i.length:l+=i.length):c.domNode.textContent.startsWith(i)&&(c.deleteAt(0,i.length),d===0?o-=i.length:l-=i.length)}),this.quill.update(Me.sources.USER),this.quill.setSelection(o,l,Me.sources.SILENT)}}}function Cm(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:a}=n;t==="ArrowRight"&&(a+=n.length+1);const[i]=this.quill.getLeaf(a);return i instanceof wi?(t==="ArrowLeft"?e?this.quill.setSelection(n.index-1,n.length+1,Me.sources.USER):this.quill.setSelection(n.index-1,Me.sources.USER):e?this.quill.setSelection(n.index,n.length+1,Me.sources.USER):this.quill.setSelection(n.index+n.length+1,Me.sources.USER),!1):!0}}}function H2(t){return{key:t[0],shortKey:!0,handler(e,r){this.quill.format(t,!r.format[t],Me.sources.USER)}}}function Ck(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,r){const n=t?"prev":"next",a=r.line,i=a.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let s=i.children.head,o=a;for(;o.prev!=null;)o=o.prev,s=s.next;const l=s.offset(this.quill.scroll)+Math.min(r.offset,s.length()-1);this.quill.setSelection(l,0,Me.sources.USER)}}else{const s=a.table()[n];s!=null&&(t?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,Me.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,Me.sources.USER))}return!1}}}function xye(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Ju(t);else return null;return t.shortKey&&(t[yye]=t.shortKey,delete t.shortKey),t}function RA(t){let{quill:e,range:r}=t;const n=e.getLines(r);let a={};if(n.length>1){const i=n[0].formats(),s=n[n.length-1].formats();a=$i.AttributeMap.diff(s,i)||{}}e.deleteText(r,Me.sources.USER),Object.keys(a).length>0&&e.formatLine(r.index,1,a,Me.sources.USER),e.setSelection(r.index,Me.sources.SILENT)}function wye(t,e,r,n){return e.prev==null&&e.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const Nye=/font-weight:\s*normal/,Sye=["P","OL","UL"],Ek=t=>t&&Sye.includes(t.tagName),Aye=t=>{Array.from(t.querySelectorAll("br")).filter(e=>Ek(e.previousElementSibling)&&Ek(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},jye=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(Nye)).forEach(e=>{const r=t.createDocumentFragment();r.append(...e.childNodes),e.parentNode?.replaceChild(r,e)})};function _ye(t){t.querySelector('[id^="docs-internal-guid-"]')&&(jye(t),Aye(t))}const Pye=/\bmso-list:[^;]*ignore/i,Cye=/\bmso-list:[^;]*\bl(\d+)/i,Eye=/\bmso-list:[^;]*\blevel(\d+)/i,Tye=(t,e)=>{const r=t.getAttribute("style"),n=r?.match(Cye);if(!n)return null;const a=Number(n[1]),i=r?.match(Eye),s=i?Number(i[1]):1,o=new RegExp(`@list l${a}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=e.match(o),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:a,indent:s,type:c,element:t}},Oye=t=>{const e=Array.from(t.querySelectorAll("[style*=mso-list]")),r=[],n=[];e.forEach(s=>{(s.getAttribute("style")||"").match(Pye)?r.push(s):n.push(s)}),r.forEach(s=>s.parentNode?.removeChild(s));const a=t.documentElement.innerHTML,i=n.map(s=>Tye(s,a)).filter(s=>s);for(;i.length;){const s=[];let o=i.shift();for(;o;)s.push(o),o=i.length&&i[0]?.element===o.element.nextElementSibling&&i[0].id===o.id?i.shift():null;const l=document.createElement("ul");s.forEach(f=>{const p=document.createElement("li");p.setAttribute("data-list",f.type),f.indent>1&&p.setAttribute("class",`ql-indent-${f.indent-1}`),p.innerHTML=f.element.innerHTML,l.appendChild(p)});const c=s[0]?.element,{parentNode:d}=c??{};c&&d?.replaceChild(l,c),s.slice(1).forEach(f=>{let{element:p}=f;d?.removeChild(p)})}};function kye(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Oye(t)}const Lye=[kye,_ye],Iye=t=>{t.documentElement&&Lye.forEach(e=>{e(t)})},Rye=Jo("quill:clipboard"),Mye=[[Node.TEXT_NODE,Yye],[Node.TEXT_NODE,Ok],["br",zye],[Node.ELEMENT_NODE,Ok],[Node.ELEMENT_NODE,qye],[Node.ELEMENT_NODE,$ye],[Node.ELEMENT_NODE,Gye],["li",Hye],["ol, ul",Vye],["pre",Uye],["tr",Kye],["b",V2("bold")],["i",V2("italic")],["strike",V2("strike")],["style",Wye]],Dye=[hye,BF].reduce((t,e)=>(t[e.keyName]=e,t),{}),Tk=[DF,kA,OA,qF,WF,VF].reduce((t,e)=>(t[e.keyName]=e,t),{});class Fye extends so{static DEFAULTS={matchers:[]};constructor(e,r){super(e,r),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Mye.concat(this.options.matchers??[]).forEach(n=>{let[a,i]=n;this.addMatcher(a,i)})}addMatcher(e,r){this.matchers.push([e,r])}convert(e){let{html:r,text:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[ka.blotName])return new xt().insert(n||"",{[ka.blotName]:a[ka.blotName]});if(!r)return new xt().insert(n||"",a);const i=this.convertHTML(r);return yp(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||a.table)?i.compose(new xt().retain(i.length()-1).delete(1)):i}normalizeHTML(e){Iye(e)}convertHTML(e){const r=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(r);const n=r.body,a=new WeakMap,[i,s]=this.prepareMatching(n,a);return MA(this.quill.scroll,n,i,s,a)}dangerouslyPasteHTML(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Me.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,r),this.quill.setSelection(0,Me.sources.SILENT)}else{const a=this.convert({html:r,text:""});this.quill.updateContents(new xt().retain(e).concat(a),n),this.quill.setSelection(e+a.length(),Me.sources.SILENT)}}onCaptureCopy(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:a,text:i}=this.onCopy(n,r);e.clipboardData?.setData("text/plain",i),e.clipboardData?.setData("text/html",a),r&&RA({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=e.clipboardData?.getData("text/html");let a=e.clipboardData?.getData("text/plain");if(!n&&!a){const s=e.clipboardData?.getData("text/uri-list");s&&(a=this.normalizeURIList(s))}const i=Array.from(e.clipboardData?.files||[]);if(!n&&i.length>0){this.quill.uploader.upload(r,i);return}if(n&&i.length>0){const s=new DOMParser().parseFromString(n,"text/html");if(s.body.childElementCount===1&&s.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(r,i);return}}this.onPaste(r,{html:n,text:a})}onCopy(e){const r=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:r}}onPaste(e,r){let{text:n,html:a}=r;const i=this.quill.getFormat(e.index),s=this.convert({text:n,html:a},i);Rye.log("onPaste",s,{text:n,html:a});const o=new xt().retain(e.index).delete(e.length).concat(s);this.quill.updateContents(o,Me.sources.USER),this.quill.setSelection(o.length()-e.length,Me.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,r){const n=[],a=[];return this.matchers.forEach(i=>{const[s,o]=i;switch(s){case Node.TEXT_NODE:a.push(o);break;case Node.ELEMENT_NODE:n.push(o);break;default:Array.from(e.querySelectorAll(s)).forEach(l=>{r.has(l)?r.get(l)?.push(o):r.set(l,[o])});break}}),[n,a]}}function lu(t,e,r,n){return n.query(e)?t.reduce((a,i)=>{if(!i.insert)return a;if(i.attributes&&i.attributes[e])return a.push(i);const s=r?{[e]:r}:{};return a.insert(i.insert,{...s,...i.attributes})},new xt):t}function yp(t,e){let r="";for(let n=t.ops.length-1;n>=0&&r.length<e.length;--n){const a=t.ops[n];if(typeof a.insert!="string")break;r=a.insert+r}return r.slice(-1*e.length)===e}function kl(t,e){if(!(t instanceof Element))return!1;const r=e.query(t);return r&&r.prototype instanceof wi?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function Bye(t,e){return t.previousElementSibling&&t.nextElementSibling&&!kl(t.previousElementSibling,e)&&!kl(t.nextElementSibling,e)}const Em=new WeakMap;function GF(t){return t==null?!1:(Em.has(t)||(t.tagName==="PRE"?Em.set(t,!0):Em.set(t,GF(t.parentNode))),Em.get(t))}function MA(t,e,r,n,a){return e.nodeType===e.TEXT_NODE?n.reduce((i,s)=>s(e,i,t),new xt):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,s)=>{let o=MA(t,s,r,n,a);return s.nodeType===e.ELEMENT_NODE&&(o=r.reduce((l,c)=>c(s,l,t),o),o=(a.get(s)||[]).reduce((l,c)=>c(s,l,t),o)),i.concat(o)},new xt):new xt}function V2(t){return(e,r,n)=>lu(r,t,!0,n)}function $ye(t,e,r){const n=to.keys(t),a=Cs.keys(t),i=ec.keys(t),s={};return n.concat(a).concat(i).forEach(o=>{let l=r.query(o,St.ATTRIBUTE);l!=null&&(s[l.attrName]=l.value(t),s[l.attrName])||(l=Dye[o],l!=null&&(l.attrName===o||l.keyName===o)&&(s[l.attrName]=l.value(t)||void 0),l=Tk[o],l!=null&&(l.attrName===o||l.keyName===o)&&(l=Tk[o],s[l.attrName]=l.value(t)||void 0))}),Object.entries(s).reduce((o,l)=>{let[c,d]=l;return lu(o,c,d,r)},e)}function qye(t,e,r){const n=r.query(t);if(n==null)return e;if(n.prototype instanceof wi){const a={},i=n.value(t);if(i!=null)return a[n.blotName]=i,new xt().insert(a,n.formats(t,r))}else if(n.prototype instanceof zh&&!yp(e,`
`)&&e.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return lu(e,n.blotName,n.formats(t,r),r);return e}function zye(t,e){return yp(e,`
`)||e.insert(`
`),e}function Uye(t,e,r){const n=r.query("code-block"),a=n&&"formats"in n&&typeof n.formats=="function"?n.formats(t,r):!0;return lu(e,"code-block",a,r)}function Wye(){return new xt}function Hye(t,e,r){const n=r.query(t);if(n==null||n.blotName!=="list"||!yp(e,`
`))return e;let a=-1,i=t.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(a+=1),i=i.parentNode;return a<=0?e:e.reduce((s,o)=>o.insert?o.attributes&&typeof o.attributes.indent=="number"?s.push(o):s.insert(o.insert,{indent:a,...o.attributes||{}}):s,new xt)}function Vye(t,e,r){const n=t;let a=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(a=i==="true"?"checked":"unchecked"),lu(e,"list",a,r)}function Ok(t,e,r){if(!yp(e,`
`)){if(kl(t,r)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let n=t.nextSibling;for(;n!=null;){if(kl(n,r))return e.insert(`
`);const a=r.query(n);if(a&&a.prototype instanceof Di)return e.insert(`
`);n=n.firstChild}}}return e}function Gye(t,e,r){const n={},a=t.style||{};return a.fontStyle==="italic"&&(n.italic=!0),a.textDecoration==="underline"&&(n.underline=!0),a.textDecoration==="line-through"&&(n.strike=!0),(a.fontWeight?.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(n.bold=!0),e=Object.entries(n).reduce((i,s)=>{let[o,l]=s;return lu(i,o,l,r)},e),parseFloat(a.textIndent||0)>0?new xt().insert("	").concat(e):e}function Kye(t,e,r){const n=t.parentElement?.tagName==="TABLE"?t.parentElement:t.parentElement?.parentElement;if(n!=null){const i=Array.from(n.querySelectorAll("tr")).indexOf(t)+1;return lu(e,"table",i,r)}return e}function Yye(t,e,r){let n=t.data;if(t.parentElement?.tagName==="O:P")return e.insert(n.trim());if(!GF(t)){if(n.trim().length===0&&n.includes(`
`)&&!Bye(t,r))return e;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&kl(t.parentElement,r)||t.previousSibling instanceof Element&&kl(t.previousSibling,r))&&(n=n.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&kl(t.parentElement,r)||t.nextSibling instanceof Element&&kl(t.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(""," ")}return e.insert(n)}class Xye extends so{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,r){super(e,r),this.quill.on(Me.events.EDITOR_CHANGE,(n,a,i,s)=>{n===Me.events.SELECTION_CHANGE?a&&s!==Me.sources.SILENT&&(this.currentRange=a):n===Me.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||s===Me.sources.USER?this.record(a,i):this.transform(a)),this.currentRange=cN(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",n=>{n.inputType==="historyUndo"?(this.undo(),n.preventDefault()):n.inputType==="historyRedo"&&(this.redo(),n.preventDefault())})}change(e,r){if(this.stack[e].length===0)return;const n=this.stack[e].pop();if(!n)return;const a=this.quill.getContents(),i=n.delta.invert(a);this.stack[r].push({delta:i,range:cN(n.range,i)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,Me.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,r){if(e.ops.length===0)return;this.stack.redo=[];let n=e.invert(r),a=this.currentRange;const i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){const s=this.stack.undo.pop();s&&(n=n.compose(s.delta),a=s.range)}else this.lastRecorded=i;n.length()!==0&&(this.stack.undo.push({delta:n,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){kk(this.stack.undo,e),kk(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,Me.sources.USER);else{const r=Jye(this.quill.scroll,e.delta);this.quill.setSelection(r,Me.sources.USER)}}}function kk(t,e){let r=e;for(let n=t.length-1;n>=0;n-=1){const a=t[n];t[n]={delta:r.transform(a.delta,!0),range:a.range&&cN(a.range,r)},r=a.delta.transform(r),t[n].delta.length()===0&&t.splice(n,1)}}function Zye(t,e){const r=e.ops[e.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>t.query(n,St.BLOCK)!=null):!1}function Jye(t,e){const r=e.reduce((a,i)=>a+(i.delete||0),0);let n=e.length()-r;return Zye(t,e)&&(n-=1),n}function cN(t,e){if(!t)return t;const r=e.transformPosition(t.index),n=e.transformPosition(t.index+t.length);return{index:r,length:n-r}}class KF extends so{constructor(e,r){super(e,r),e.root.addEventListener("drop",n=>{n.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const s=document.caretPositionFromPoint(n.clientX,n.clientY);a=document.createRange(),a.setStart(s.offsetNode,s.offset),a.setEnd(s.offsetNode,s.offset)}const i=a&&e.selection.normalizeNative(a);if(i){const s=e.selection.normalizedToRange(i);n.dataTransfer?.files&&this.upload(s,n.dataTransfer.files)}})}upload(e,r){const n=[];Array.from(r).forEach(a=>{a&&this.options.mimetypes?.includes(a.type)&&n.push(a)}),n.length>0&&this.options.handler.call(this,e,n)}}KF.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const r=e.map(n=>new Promise(a=>{const i=new FileReader;i.onload=()=>{a(i.result)},i.readAsDataURL(n)}));Promise.all(r).then(n=>{const a=n.reduce((i,s)=>i.insert({image:s}),new xt().retain(t.index).delete(t.length));this.quill.updateContents(a,pt.sources.USER),this.quill.setSelection(t.index+n.length,pt.sources.SILENT)})}};const Qye=["insertText","insertReplacementText"];class ebe extends so{constructor(e,r){super(e,r),e.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||e.on(Me.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){RA({range:e,quill:this.quill})}replaceText(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(r){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new xt().retain(e.index).insert(r,n),Me.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+r.length,0,Me.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!Qye.includes(e.inputType))return;const r=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=tbe(e);if(n==null)return;const a=this.quill.selection.normalizeNative(r),i=a?this.quill.selection.normalizedToRange(a):null;i&&this.replaceText(i,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function tbe(t){return typeof t.data=="string"?t.data:t.dataTransfer?.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const rbe=/Mac/i.test(navigator.platform),nbe=100,abe=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||rbe&&t.key==="a"&&t.ctrlKey===!0);class ibe extends so{isListening=!1;selectionChangeDeadline=0;constructor(e,r){super(e,r),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,r){let{line:n,event:a}=r;if(!(n instanceof ys)||!n.uiNode)return!0;const i=getComputedStyle(n.domNode).direction==="rtl";return i&&a.key!=="ArrowRight"||!i&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),Me.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&abe(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+nbe,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const r=e.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const n=this.quill.scroll.find(r.startContainer);if(!(n instanceof ys)||!n.uiNode)return;const a=document.createRange();a.setStartAfter(n.uiNode),a.setEndAfter(n.uiNode),e.removeAllRanges(),e.addRange(a)}}Me.register({"blots/block":la,"blots/block/embed":Di,"blots/break":Es,"blots/container":su,"blots/cursor":fs,"blots/embed":EA,"blots/inline":Ta,"blots/scroll":fye,"blots/text":Ss,"modules/clipboard":Fye,"modules/history":Xye,"modules/keyboard":Pv,"modules/uploader":KF,"modules/input":ebe,"modules/uiNode":ibe});class sbe extends Cs{add(e,r){let n=0;if(r==="+1"||r==="-1"){const a=this.value(e)||0;n=r==="+1"?a+1:a-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,r){return super.canAdd(e,r)||super.canAdd(e,parseInt(r,10))}value(e){return parseInt(super.value(e),10)||void 0}}const obe=new sbe("indent","ql-indent",{scope:St.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class lbe extends la{static blotName="blockquote";static tagName="blockquote"}class cbe extends la{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class bp extends su{}bp.blotName="list-container";bp.tagName="OL";class xp extends la{static create(e){const r=super.create();return r.setAttribute("data-list",e),r}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Me.register(bp)}constructor(e,r){super(e,r);const n=r.ownerDocument.createElement("span"),a=i=>{if(!e.isEnabled())return;const s=this.statics.formats(r,e);s==="checked"?(this.format("list","unchecked"),i.preventDefault()):s==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),this.attachUI(n)}format(e,r){e===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(e,r)}}xp.blotName="list";xp.tagName="LI";bp.allowedChildren=[xp];xp.requiredContainer=bp;class DA extends Ta{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class ube extends DA{static blotName="italic";static tagName=["EM","I"]}class u0 extends Ta{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const r=super.create(e);return r.setAttribute("href",this.sanitize(e)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(e){return e.getAttribute("href")}static sanitize(e){return YF(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,r){e!==this.statics.blotName||!r?super.format(e,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}function YF(t,e){const r=document.createElement("a");r.href=t;const n=r.href.slice(0,r.href.indexOf(":"));return e.indexOf(n)>-1}class dbe extends Ta{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class fbe extends DA{static blotName="strike";static tagName=["S","STRIKE"]}class hbe extends Ta{static blotName="underline";static tagName="U"}class pbe extends EA{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(e);return typeof e=="string"&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const Lk=["alt","height","width"];class mbe extends wi{static blotName="image";static tagName="IMG";static create(e){const r=super.create(e);return typeof e=="string"&&r.setAttribute("src",this.sanitize(e)),r}static formats(e){return Lk.reduce((r,n)=>(e.hasAttribute(n)&&(r[n]=e.getAttribute(n)),r),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return YF(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,r){Lk.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):super.format(e,r)}}const Ik=["height","width"];class gbe extends Di{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const r=super.create(e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(e)),r}static formats(e){return Ik.reduce((r,n)=>(e.hasAttribute(n)&&(r[n]=e.getAttribute(n)),r),{})}static sanitize(e){return u0.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,r){Ik.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):super.format(e,r)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const Df=new Cs("code-token","hljs",{scope:St.INLINE});class Go extends Ta{static formats(e,r){for(;e!=null&&e!==r.domNode;){if(e.classList&&e.classList.contains(ka.className))return super.formats(e,r);e=e.parentNode}}constructor(e,r,n){super(e,r,n),Df.add(this.domNode,n)}format(e,r){e!==Go.blotName?super.format(e,r):r?Df.add(this.domNode,r):(Df.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Df.value(this.domNode)||this.unwrap()}}Go.blotName="code-token";Go.className="ql-token";class Mi extends ka{static create(e){const r=super.create(e);return typeof e=="string"&&r.setAttribute("data-language",e),r}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,r){e===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(e,r)}replaceWith(e,r){return this.formatAt(0,this.length(),Go.blotName,!1),super.replaceWith(e,r)}}class Kf extends ou{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,r){e===Mi.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(e,r)}))}formatAt(e,r,n,a){n===Mi.blotName&&(this.forceNext=!0),super.formatAt(e,r,n,a)}highlight(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).map(s=>s.textContent).join(`
`)}
`,i=Mi.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const s=this.children.reduce((l,c)=>l.concat(IF(c,!1)),new xt),o=e(a,i);s.diff(o).reduce((l,c)=>{let{retain:d,attributes:f}=c;return d?(f&&Object.keys(f).forEach(p=>{[Mi.blotName,Go.blotName].includes(p)&&this.formatAt(l,d,p,f[p])}),l+d):l},0)}this.cachedText=a,this.forceNext=!1}}html(e,r){const[n]=this.children.find(e);return`<pre data-language="${n?Mi.formats(n.domNode):"plain"}">
${_v(this.code(e,r))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=Mi.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}Kf.allowedChildren=[Mi];Mi.requiredContainer=Kf;Mi.allowedChildren=[Go,fs,Ss,Es];const vbe=(t,e,r)=>{if(typeof t.versionString=="string"){const n=t.versionString.split(".")[0];if(parseInt(n,10)>=11)return t.highlight(r,{language:e}).value}return t.highlight(e,r).value};class XF extends so{static register(){Me.register(Go,!0),Me.register(Mi,!0),Me.register(Kf,!0)}constructor(e,r){if(super(e,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,a)=>{let{key:i}=a;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Me.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Kf))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:a,label:i}=n;const s=r.ownerDocument.createElement("option");s.textContent=i,s.setAttribute("value",a),r.appendChild(s)}),r.addEventListener("change",()=>{e.format(Mi.blotName,r.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(r),e.children.head&&(r.value=Mi.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Me.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Me.sources.USER);const n=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Kf):[e]).forEach(i=>{i.highlight(this.highlightBlot,r)}),this.quill.update(Me.sources.SILENT),n!=null&&this.quill.setSelection(n,Me.sources.SILENT)}highlightBlot(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return _v(e).split(`
`).reduce((a,i,s)=>(s!==0&&a.insert(`
`,{[ka.blotName]:r}),a.insert(i)),new xt);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(ka.className),n.innerHTML=vbe(this.options.hljs,r,e),MA(this.quill.scroll,n,[(a,i)=>{const s=Df.value(a);return s?i.compose(new xt().retain(i.length(),{[Go.blotName]:s})):i}],[(a,i)=>a.data.split(`
`).reduce((s,o,l)=>(l!==0&&s.insert(`
`,{[ka.blotName]:r}),s.insert(o)),i)],new WeakMap)}}XF.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class ps extends la{static blotName="table";static tagName="TD";static create(e){const r=super.create();return e?r.setAttribute("data-row",e):r.setAttribute("data-row",FA()),r}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,r){e===ps.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(e,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Kc extends su{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===r.table&&e.table===n.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),a=r.next.formats();if(n.table!==a.table){const i=this.splitAfter(r);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Fl extends su{static blotName="table-body";static tagName="TBODY"}class d0 extends su{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(Kc),r=e.reduce((n,a)=>Math.max(a.children.length,n),0);e.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let a;n.children.head!=null&&(a=ps.formats(n.children.head.domNode));const i=this.scroll.create(ps.blotName,a);n.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(r=>r.children.at(e))}deleteColumn(e){const[r]=this.descendant(Fl);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(e);a?.remove()})}insertColumn(e){const[r]=this.descendant(Fl);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(e),i=ps.formats(n.children.head.domNode),s=this.scroll.create(ps.blotName,i);n.insertBefore(s,a)})}insertRow(e){const[r]=this.descendant(Fl);if(r==null||r.children.head==null)return;const n=FA(),a=this.scroll.create(Kc.blotName);r.children.head.children.forEach(()=>{const s=this.scroll.create(ps.blotName,n);a.appendChild(s)});const i=r.children.at(e);r.insertBefore(a,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(r=>r)}}d0.allowedChildren=[Fl];Fl.requiredContainer=d0;Fl.allowedChildren=[Kc];Kc.requiredContainer=Fl;Kc.allowedChildren=[ps];ps.requiredContainer=Kc;function FA(){return`row-${Math.random().toString(36).slice(2,6)}`}class ybe extends so{static register(){Me.register(ps),Me.register(Kc),Me.register(Fl),Me.register(d0)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(d0).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,r]=this.getTable();r!=null&&(e.deleteColumn(r.cellOffset()),this.quill.update(Me.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Me.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const r=e.offset();e.remove(),this.quill.update(Me.sources.USER),this.quill.setSelection(r,Me.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(e.index);if(r==null||r.statics.blotName!==ps.blotName)return[null,null,null,-1];const a=r.parent;return[a.parent.parent,a,r,n]}insertColumn(e){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const s=i.cellOffset();n.insertColumn(s+e),this.quill.update(Me.sources.USER);let o=a.rowOffset();e===0&&(o+=1),this.quill.setSelection(r.index+o,r.length,Me.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const r=this.quill.getSelection();if(!r)return;const[n,a,i]=this.getTable(r);if(i==null)return;const s=a.rowOffset();n.insertRow(s+e),this.quill.update(Me.sources.USER),e>0?this.quill.setSelection(r,Me.sources.SILENT):this.quill.setSelection(r.index+a.children.length,r.length,Me.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,r){const n=this.quill.getSelection();if(n==null)return;const a=new Array(e).fill(0).reduce(i=>{const s=new Array(r).fill(`
`).join("");return i.insert(s,{table:FA()})},new xt().retain(n.index));this.quill.updateContents(a,Me.sources.USER),this.quill.setSelection(n.index,Me.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Me.events.SCROLL_OPTIMIZE,e=>{e.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(Me.events.TEXT_CHANGE,(n,a,i)=>{i===Me.sources.USER&&this.balanceTables()}),!0):!1)})}}const Rk=Jo("quill:toolbar");class BA extends so{constructor(e,r){if(super(e,r),Array.isArray(this.options.container)){const n=document.createElement("div");n.setAttribute("role","toolbar"),bbe(n,this.options.container),e.container?.parentNode?.insertBefore(n,e.container),this.container=n}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Rk.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(n=>{const a=this.options.handlers?.[n];a&&this.addHandler(n,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(n=>{this.attach(n)}),this.quill.on(Me.events.EDITOR_CHANGE,()=>{const[n]=this.quill.selection.getRange();this.update(n)})}addHandler(e,r){this.handlers[e]=r}attach(e){let r=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){Rk.warn("ignoring attaching to nonexistent format",r,e);return}const n=e.tagName==="SELECT"?"change":"click";e.addEventListener(n,a=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const o=e.options[e.selectedIndex];o.hasAttribute("selected")?i=!1:i=o.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,i);else if(this.quill.scroll.query(r).prototype instanceof wi){if(i=prompt(`Enter ${r}`),!i)return;this.quill.updateContents(new xt().retain(s.index).delete(s.length).insert({[r]:i}),Me.sources.USER)}else this.quill.format(r,i,Me.sources.USER);this.update(s)}),this.controls.push([r,e])}update(e){const r=e==null?{}:this.quill.getFormat(e);this.controls.forEach(n=>{const[a,i]=n;if(i.tagName==="SELECT"){let s=null;if(e==null)s=null;else if(r[a]==null)s=i.querySelector("option[selected]");else if(!Array.isArray(r[a])){let o=r[a];typeof o=="string"&&(o=o.replace(/"/g,'\\"')),s=i.querySelector(`option[value="${o}"]`)}s==null?(i.value="",i.selectedIndex=-1):s.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const s=r[a],o=s===i.getAttribute("value")||s!=null&&s.toString()===i.getAttribute("value")||s==null&&!i.getAttribute("value");i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}else{const s=r[a]!=null;i.classList.toggle("ql-active",s),i.setAttribute("aria-pressed",s.toString())}})}}BA.DEFAULTS={};function Mk(t,e,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${e}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${e}: ${r}`)):n.setAttribute("aria-label",e),t.appendChild(n)}function bbe(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(a=>{if(typeof a=="string")Mk(n,a);else{const i=Object.keys(a)[0],s=a[i];Array.isArray(s)?xbe(n,i,s):Mk(n,i,s)}}),t.appendChild(n)})}function xbe(t,e,r){const n=document.createElement("select");n.classList.add(`ql-${e}`),r.forEach(a=>{const i=document.createElement("option");a!==!1?i.setAttribute("value",String(a)):i.setAttribute("selected","selected"),n.appendChild(i)}),t.appendChild(n)}BA.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(r=>{this.quill.scroll.query(r,St.INLINE)!=null&&this.quill.format(r,!1,Me.sources.USER)})}else this.quill.removeFormat(t.index,t.length,Me.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",Me.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,Me.sources.USER),this.quill.format("direction",t,Me.sources.USER)},indent(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e),n=parseInt(r.indent||0,10);if(t==="+1"||t==="-1"){let a=t==="+1"?1:-1;r.direction==="rtl"&&(a*=-1),this.quill.format("indent",n+a,Me.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,Me.sources.USER)},list(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e);t==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,Me.sources.USER):this.quill.format("list","unchecked",Me.sources.USER):this.quill.format("list",t,Me.sources.USER)}}};const wbe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Nbe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Sbe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Abe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',jbe='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',_be='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Pbe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Cbe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Dk='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Ebe='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Tbe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Obe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',kbe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Lbe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Ibe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Rbe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Mbe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Dbe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Fbe='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Bbe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',$be='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',qbe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',zbe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Ube='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Wbe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Hbe='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Vbe='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Gbe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Kbe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Ybe='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Xbe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Zbe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Jbe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Wh={align:{"":wbe,center:Nbe,right:Sbe,justify:Abe},background:jbe,blockquote:_be,bold:Pbe,clean:Cbe,code:Dk,"code-block":Dk,color:Ebe,direction:{"":Tbe,rtl:Obe},formula:kbe,header:{1:Lbe,2:Ibe,3:Rbe,4:Mbe,5:Dbe,6:Fbe},italic:Bbe,image:$be,indent:{"+1":qbe,"-1":zbe},link:Ube,list:{bullet:Wbe,check:Hbe,ordered:Vbe},script:{sub:Gbe,super:Kbe},strike:Ybe,table:Xbe,underline:Zbe,video:Jbe},Qbe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Fk=0;function Bk(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Cv{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Bk(this.label,"aria-expanded"),Bk(this.options,"aria-hidden")}buildItem(e){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&r.setAttribute("data-value",n),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(r,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),r}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Qbe,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Fk}`,Fk+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);e.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");e!==n&&(n?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class ZF extends Cv{constructor(e,r){super(e),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(e){const r=super.buildItem(e);return r.style.backgroundColor=e.getAttribute("value")||"",r}selectItem(e,r){super.selectItem(e,r);const n=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=a:n.style.fill=a)}}class JF extends Cv{constructor(e,r){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,r){super.selectItem(e,r);const n=e||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const exe=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class QF{constructor(e,r){this.quill=e,this.boundsContainer=r||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,exe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const r=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let s=0;if(i.right>a.right&&(s=a.right-i.right,this.root.style.left=`${r+s}px`),i.left<a.left&&(s=a.left-i.left,this.root.style.left=`${r+s}px`),i.bottom>a.bottom){const o=i.bottom-i.top,l=e.bottom-e.top+o;this.root.style.top=`${n-l}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const txe=[!1,"center","right","justify"],rxe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],nxe=[!1,"serif","monospace"],axe=["1","2","3",!1],ixe=["small",!1,"large","huge"];class wp extends Yd{constructor(e,r){super(e,r);const n=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(a.target)||i.close()})};e.emitter.listenDOM("click",document.body,n)}addModule(e){const r=super.addModule(e);return e==="toolbar"&&this.extendToolbar(r),r}buildButtons(e,r){Array.from(e).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),r[i]!=null))if(i==="direction")n.innerHTML=r[i][""]+r[i].rtl;else if(typeof r[i]=="string")n.innerHTML=r[i];else{const s=n.value||"";s!=null&&r[i][s]&&(n.innerHTML=r[i][s])}})})}buildPickers(e,r){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Ef(a,txe),typeof r.align=="object"))return new JF(a,r.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const i=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Ef(a,rxe,i==="background"?"#ffffff":"#000000"),new ZF(a,r[i])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Ef(a,nxe):a.classList.contains("ql-header")?Ef(a,axe):a.classList.contains("ql-size")&&Ef(a,ixe)),new Cv(a)});const n=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(pt.events.EDITOR_CHANGE,n)}}wp.DEFAULTS=Dl({},Yd.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class eB extends QF{constructor(e,r){super(e,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,pt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,pt.sources.USER)),this.quill.root.scrollTop=r;break}case"video":e=sxe(e);case"formula":{if(!e)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,pt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",pt.sources.USER),this.quill.setSelection(n+2,pt.sources.USER)}break}}this.textbox.value="",this.hide()}}function sxe(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Ef(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(n=>{const a=document.createElement("option");n===r?a.setAttribute("selected","selected"):a.setAttribute("value",String(n)),t.appendChild(a)})}const oxe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class lxe extends eB{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,r){super(e,r),this.quill.on(pt.events.EDITOR_CHANGE,(n,a,i,s)=>{if(n===pt.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&s===pt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const o=this.quill.getLines(a.index,a.length);if(o.length===1){const l=this.quill.getBounds(a);l!=null&&this.position(l)}else{const l=o[o.length-1],c=this.quill.getIndex(l),d=Math.min(l.length()-1,a.index+a.length-c),f=this.quill.getBounds(new Gc(c,d));f!=null&&this.position(f)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(pt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const r=this.quill.getBounds(e);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(e){const r=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}class tB extends wp{constructor(e,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=oxe),super(e,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new lxe(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Wh),this.buildPickers(e.container.querySelectorAll("select"),Wh))}}tB.DEFAULTS=Dl({},wp.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Me.sources.USER)}}}}});const cxe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class uxe extends eB{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,pt.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(pt.events.SELECTION_CHANGE,(e,r,n)=>{if(e!=null){if(e.length===0&&n===pt.sources.USER){const[a,i]=this.quill.scroll.descendant(u0,e.index);if(a!=null){this.linkRange=new Gc(e.index-i,a.length());const s=u0.formats(a.domNode);this.preview.textContent=s,this.preview.setAttribute("href",s),this.show();const o=this.quill.getBounds(this.linkRange);o!=null&&this.position(o);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class rB extends wp{constructor(e,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=cxe),super(e,r),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Wh),this.buildPickers(e.container.querySelectorAll("select"),Wh),this.tooltip=new uxe(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{e.handlers.link.call(e,!n.format.link)}))}}rB.DEFAULTS=Dl({},wp.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let r=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,Me.sources.USER)}}}}});Me.register({"attributors/attribute/direction":BF,"attributors/class/align":MF,"attributors/class/background":mye,"attributors/class/color":pye,"attributors/class/direction":$F,"attributors/class/font":UF,"attributors/class/size":HF,"attributors/style/align":DF,"attributors/style/background":kA,"attributors/style/color":OA,"attributors/style/direction":qF,"attributors/style/font":WF,"attributors/style/size":VF},!0);Me.register({"formats/align":MF,"formats/direction":$F,"formats/indent":obe,"formats/background":kA,"formats/color":OA,"formats/font":UF,"formats/size":HF,"formats/blockquote":lbe,"formats/code-block":ka,"formats/header":cbe,"formats/list":xp,"formats/bold":DA,"formats/code":LA,"formats/italic":ube,"formats/link":u0,"formats/script":dbe,"formats/strike":fbe,"formats/underline":hbe,"formats/formula":pbe,"formats/image":mbe,"formats/video":gbe,"modules/syntax":XF,"modules/table":ybe,"modules/toolbar":BA,"themes/bubble":tB,"themes/snow":rB,"ui/icons":Wh,"ui/picker":Cv,"ui/icon-picker":JF,"ui/color-picker":ZF,"ui/tooltip":QF},!0);class Ev extends ve.Component{constructor(e){super(e),this.editingAreaRef=j.createRef(),this.containerRef=j.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,a,i,s)=>{n==="text-change"?this.onEditorChangeText?.(this.editor.getSemanticHTML(),a,s,this.unprivilegedEditor):n==="selection-change"&&this.onEditorChangeSelection?.(a,s,this.unprivilegedEditor)};const r=this.isControlled()?e.value:e.defaultValue;this.value=r??""}validateProps(e){if(ve.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ve.Children.count(e.children)&&ve.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,r){if(this.validateProps(e),!this.editor||this.state.generation!==r.generation)return!0;if("value"in e){const n=this.getEditorContents(),a=e.value??"";this.isEqualValue(a,n)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(n=>!Pl(e[n],this.props[n]))}shouldComponentRegenerate(e){return this.dirtyProps.some(r=>!Pl(e[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,r){if(this.editor&&this.shouldComponentRegenerate(e)){const n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.editor&&e.placeholder!==this.props.placeholder&&(this.editor.root.dataset.placeholder=this.props.placeholder||""),this.state.generation!==r.generation){const{delta:n,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const i=this.editor;i.setContents(n),$k(()=>this.setEditorSelection(i,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const n=this.containerRef.current?.querySelector(".ql-toolbar");n&&n.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,r){const n=new Me(e,r);return r.tabIndex!=null&&this.setEditorTabIndex(n,r.tabIndex),this.hookEditor(n),n}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,r){return this.isDelta(e)&&this.isDelta(r)?Pl(e.ops,r.ops):Pl(e,r)}setEditorContents(e,r){this.value=r;const n=this.getEditorSelection();typeof r=="string"?e.setContents(e.clipboard.convert({html:r})):e.setContents(r),$k(()=>this.setEditorSelection(e,n))}setEditorSelection(e,r){if(this.selection=r,r){const n=e.getLength();r.index=Math.max(0,Math.min(r.index,n-1)),r.length=Math.max(0,Math.min(r.length,n-1-r.index)),e.setSelection(r)}}setEditorTabIndex(e,r){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=r)}setEditorReadOnly(e,r){r?e.disable():e.enable()}makeUnprivilegedEditor(e){const r=e;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:r}=this.props,{generation:n}=this.state,a={key:n,ref:this.editingAreaRef};return ve.Children.count(e)?ve.cloneElement(ve.Children.only(e),a):r?ve.createElement("pre",{...a}):ve.createElement("div",{...a})}render(){return ve.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,r,n,a){if(!this.editor)return;const i=this.isDelta(this.value)?a.getContents():a.getSemanticHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=i,this.props.onChange?.(e,r,n,a))}onEditorChangeSelection(e,r,n){if(!this.editor)return;const a=this.getEditorSelection(),i=!a&&e,s=a&&!e;Pl(e,a)||(this.selection=e,this.props.onChangeSelection?.(e,r,n),i?this.props.onFocus?.(e,r,n):s&&this.props.onBlur?.(a,r,n))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Ev.displayName="React Quill";Ev.Quill=Me;Ev.defaultProps={theme:"snow",modules:{},readOnly:!1};function $k(t){Promise.resolve().then(t)}function dxe({value:t,onChange:e,placeholder:r="Start writing..."}){const n=j.useCallback(()=>{const s=document.createElement("input");s.setAttribute("type","file"),s.setAttribute("accept","image/*"),s.click(),s.onchange=async()=>{const o=s.files?.[0];if(o){const l=new FileReader;l.onload=()=>{const c=document.querySelector(".ql-editor");if(c){const d=document.createElement("img");d.src=l.result,d.style.maxWidth="100%",d.style.height="auto",d.style.borderRadius="0.5rem",d.style.margin="1rem 0";const f=window.getSelection();f&&f.rangeCount>0?f.getRangeAt(0).insertNode(d):c.appendChild(d);const p=c.innerHTML;e(p)}},l.readAsDataURL(o)}}},[e]),a=j.useMemo(()=>({toolbar:{container:[["bold","italic","underline","strike"],[{background:[]},{color:[]}],[{align:[]}],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]],handlers:{image:n}},clipboard:{matchVisual:!1}}),[n]),i=["header","bold","italic","underline","strike","background","color","align","list","bullet","indent","link","image"];return u.jsxs("div",{className:"rich-text-editor",children:[u.jsx(Ev,{theme:"snow",value:t,onChange:e,modules:a,formats:i,placeholder:r}),u.jsx("style",{children:`
        .rich-text-editor .ql-container {
          min-height: 300px;
          font-size: 16px;
          border-bottom-left-radius: 0.5rem;
          border-bottom-right-radius: 0.5rem;
        }
        .rich-text-editor .ql-toolbar {
          border-top-left-radius: 0.5rem;
          border-top-right-radius: 0.5rem;
          background: #f9fafb;
        }
        .rich-text-editor .ql-editor {
          min-height: 280px;
        }
        .rich-text-editor .ql-editor img {
          max-width: 100%;
          height: auto;
          border-radius: 0.5rem;
          margin: 1rem 0;
        }
        .rich-text-editor .ql-editor p {
          margin-bottom: 0.75rem;
        }
        .rich-text-editor .ql-editor h1,
        .rich-text-editor .ql-editor h2,
        .rich-text-editor .ql-editor h3 {
          margin-top: 1.5rem;
          margin-bottom: 0.75rem;
        }
      `})]})}function fxe(){const[t,e]=j.useState([]),[r,n]=j.useState([]),[a,i]=j.useState([]),[s,o]=j.useState(!1),[l,c]=j.useState(!1),[d,f]=j.useState(null),[p,h]=j.useState(!1),[v,m]=j.useState(null),[g,b]=j.useState(""),[w,N]=j.useState(""),[_,A]=j.useState(null),[C,E]=j.useState(""),[R,L]=j.useState([]),[U,S]=j.useState([]),[O,k]=j.useState(!1),[M,$]=j.useState(!0),[F,z]=j.useState(""),[W,q]=j.useState("");j.useEffect(()=>{ee()},[]);const ee=async()=>{h(!0);try{const[oe,ae,xe]=await Promise.all([G5({isPublished:void 0,limit:100}),K9(),Y9()]);e(oe.data||[]),n(ae),i(xe)}catch(oe){console.error("Error loading data:",oe)}finally{h(!1)}},de=()=>{b(""),N(""),A(null),E(""),m(null),L([]),S([]),k(!1),$(!0),z(""),q(""),c(!1),f(null)},B=oe=>{oe?(b(oe.title),N(oe.content),E(oe.imageUrl),m(oe.imageUrl),L([...oe.categories]),S([...oe.tags]),k(oe.exclusive),$(oe.isPublished),c(!0),f(oe.id)):de(),o(!0)},G=()=>{o(!1),de()},Z=oe=>{const ae=oe.target.files?.[0];if(ae){A(ae);const xe=new FileReader;xe.onloadend=()=>{m(xe.result)},xe.readAsDataURL(ae)}},te=()=>{F.trim()&&!R.includes(F.trim().toLowerCase())&&(L([...R,F.trim().toLowerCase()]),z(""))},ne=oe=>{L(R.filter(ae=>ae!==oe))},ie=()=>{W.trim()&&!U.includes(W.trim().toLowerCase())&&(S([...U,W.trim().toLowerCase()]),q(""))},fe=oe=>{S(U.filter(ae=>ae!==oe))},se=async()=>{if(!g.trim()||!w.trim()){alert("Please fill in title and content");return}if(!_&&!C){alert("Please upload an image or provide an image URL");return}h(!0);try{const oe={title:g.trim(),content:w.trim(),image:_||void 0,imageUrl:C||void 0,categories:R,tags:U,exclusive:O,isPublished:M};let ae;l&&d?ae=await Zpe(d,oe):ae=await Xpe(oe),ae&&(await ee(),G(),alert(l?"Blog updated successfully!":"Blog created successfully!"))}catch(oe){const ae=oe.message||"";if(ae.includes("duplicate key")||ae.includes("category")||ae.includes("tag"))try{await ee();const we=(await G5({isPublished:void 0,limit:100})).data?.[0];if(we&&we.title===g.trim()){G(),alert("Blog created successfully! (Note: Some category/tag updates may have failed, but the blog was saved.)");return}}catch{}alert(oe.message||"Error saving blog")}finally{h(!1)}},he=async oe=>{if(confirm("Are you sure you want to delete this blog?")){h(!0);try{await Jpe(oe),await ee()}catch(ae){alert(ae.message||"Error deleting blog")}finally{h(!1)}}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Blog Management"}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create and manage blog posts"})]}),u.jsxs(Ct,{onClick:()=>B(),className:"gap-2",children:[u.jsx(p0,{className:"w-4 h-4"}),"Create Blog"]})]}),p&&t.length===0?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(Sa,{className:"w-8 h-8 animate-spin text-gray-400"})}):u.jsx(Ve,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Zs,{children:[u.jsx(Js,{children:u.jsxs(ln,{children:[u.jsx(at,{children:"Image"}),u.jsx(at,{children:"Title"}),u.jsx(at,{children:"Categories"}),u.jsx(at,{children:"Tags"}),u.jsx(at,{children:"Exclusive"}),u.jsx(at,{children:"Published"}),u.jsx(at,{children:"Views"}),u.jsx(at,{children:"Actions"})]})}),u.jsx(Qs,{children:t.length===0?u.jsx(ln,{children:u.jsx(Ke,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No blogs found. Create your first blog!"})}):t.map(oe=>u.jsxs(ln,{children:[u.jsx(Ke,{children:u.jsx("img",{src:oe.imageUrl,alt:oe.title,className:"w-16 h-16 object-cover rounded"})}),u.jsx(Ke,{className:"font-medium max-w-xs truncate",children:oe.title}),u.jsx(Ke,{children:u.jsxs("div",{className:"flex flex-wrap gap-1",children:[oe.categories.slice(0,2).map(ae=>u.jsx(tr,{variant:"secondary",className:"text-xs",children:ae},ae)),oe.categories.length>2&&u.jsxs(tr,{variant:"secondary",className:"text-xs",children:["+",oe.categories.length-2]})]})}),u.jsx(Ke,{children:u.jsxs("div",{className:"flex flex-wrap gap-1",children:[oe.tags.slice(0,2).map(ae=>u.jsx(tr,{variant:"outline",className:"text-xs",children:ae},ae)),oe.tags.length>2&&u.jsxs(tr,{variant:"outline",className:"text-xs",children:["+",oe.tags.length-2]})]})}),u.jsx(Ke,{children:oe.exclusive?u.jsx(tr,{variant:"default",className:"bg-purple-600",children:"Exclusive"}):u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx(Ke,{children:oe.isPublished?u.jsx(tr,{variant:"default",className:"bg-green-600",children:"Published"}):u.jsx(tr,{variant:"secondary",children:"Draft"})}),u.jsx(Ke,{children:oe.views}),u.jsx(Ke,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ct,{variant:"outline",size:"sm",onClick:()=>B(oe),children:u.jsx(Qk,{className:"w-4 h-4"})}),u.jsx(Ct,{variant:"outline",size:"sm",onClick:()=>he(oe.id),className:"text-red-600 hover:text-red-700",children:u.jsx(Um,{className:"w-4 h-4"})})]})})]},oe.id))})]})})}),u.jsx(ep,{open:s,onOpenChange:G,children:u.jsxs(tp,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(rp,{children:[u.jsx(np,{children:l?"Edit Blog":"Create New Blog"}),u.jsx(ap,{children:l?"Update blog details":"Fill in the details to create a new blog post"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"title",children:"Title *"}),u.jsx(Tt,{id:"title",value:g,onChange:oe=>b(oe.target.value),placeholder:"Enter blog title",className:"mt-1 text-lg font-medium"})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"image",children:"Cover Image *"}),u.jsxs("div",{className:"mt-1 space-y-2",children:[u.jsx(Tt,{id:"image",type:"file",accept:"image/*",onChange:Z,className:"cursor-pointer"}),!_&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(nt,{htmlFor:"imageUrl",children:"Or provide image URL"}),u.jsx(Tt,{id:"imageUrl",value:C,onChange:oe=>{E(oe.target.value),m(oe.target.value)},placeholder:"https://example.com/image.jpg"})]}),v&&u.jsx("div",{className:"mt-2",children:u.jsx("img",{src:v,alt:"Preview",className:"w-full max-w-md h-48 object-cover rounded border"})})]})]}),u.jsxs("div",{children:[u.jsx(nt,{htmlFor:"content",children:"Content *"}),u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Use the toolbar to format text, add images inline, create links, and more."}),u.jsx(dxe,{value:w,onChange:N,placeholder:"Start writing your blog content..."})]}),u.jsxs("div",{children:[u.jsx(nt,{children:"Categories"}),u.jsxs("div",{className:"mt-1 space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Tt,{value:F,onChange:oe=>z(oe.target.value),placeholder:"Add category",onKeyPress:oe=>oe.key==="Enter"&&te()}),u.jsx(Ct,{type:"button",onClick:te,variant:"outline",children:"Add"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(oe=>u.jsxs(tr,{variant:"secondary",className:"gap-1",children:[oe,u.jsx("button",{onClick:()=>ne(oe),className:"ml-1 hover:text-red-600",children:u.jsx(_o,{className:"w-3 h-3"})})]},oe))})]})]}),u.jsxs("div",{children:[u.jsx(nt,{children:"Tags"}),u.jsxs("div",{className:"mt-1 space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Tt,{value:W,onChange:oe=>q(oe.target.value),placeholder:"Add tag",onKeyPress:oe=>oe.key==="Enter"&&ie()}),u.jsx(Ct,{type:"button",onClick:ie,variant:"outline",children:"Add"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(oe=>u.jsxs(tr,{variant:"outline",className:"gap-1",children:[oe,u.jsx("button",{onClick:()=>fe(oe),className:"ml-1 hover:text-red-600",children:u.jsx(_o,{className:"w-3 h-3"})})]},oe))})]})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(MO,{id:"exclusive",checked:O,onCheckedChange:k}),u.jsx(nt,{htmlFor:"exclusive",children:"Exclusive Blog"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(MO,{id:"published",checked:M,onCheckedChange:$}),u.jsx(nt,{htmlFor:"published",children:"Published"})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[u.jsx(Ct,{variant:"outline",onClick:G,children:"Cancel"}),u.jsx(Ct,{onClick:se,disabled:p,children:p?u.jsxs(u.Fragment,{children:[u.jsx(Sa,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(eL,{className:"w-4 h-4 mr-2"}),l?"Update":"Create"]})})]})]})]})})]})}const hxe=g0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function pxe({className:t,variant:e,...r}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:Et(hxe({variant:e}),t),...r})}function mxe({className:t,...e}){return u.jsx("div",{"data-slot":"alert-description",className:Et("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function gxe({open:t,onLoginSuccess:e}){const[r,n]=j.useState(""),[a,i]=j.useState(""),[s,o]=j.useState(!1),{login:l}=s8(),c=async d=>{d.preventDefault(),i(""),o(!0),await new Promise(p=>setTimeout(p,500)),l(r)?(n(""),e()):(i("Incorrect password. Please try again."),n("")),o(!1)};return u.jsx(ep,{open:t,onOpenChange:()=>{},children:u.jsxs(tp,{className:"sm:max-w-md",onPointerDownOutside:d=>d.preventDefault(),children:[u.jsxs(rp,{children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 mx-auto mb-4",children:u.jsx(Ll,{className:"w-8 h-8 text-white"})}),u.jsx(np,{className:"text-2xl text-center",children:"Admin Login"}),u.jsx(ap,{className:"text-center",children:"Enter the admin password to access the admin panel"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-4 mt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(nt,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xk,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),u.jsx(Tt,{id:"password",type:"password",value:r,onChange:d=>{n(d.target.value),i("")},placeholder:"Enter admin password",className:"pl-10",autoFocus:!0,disabled:s})]})]}),a&&u.jsxs(pxe,{variant:"destructive",children:[u.jsx(Yf,{className:"h-4 w-4"}),u.jsx(mxe,{children:a})]}),u.jsx(Ct,{type:"submit",className:"w-full",disabled:s||!r.trim(),children:s?"Verifying...":"Login"})]}),!1]})})}function vxe({onNavigate:t}){const{isAuthenticated:e,isLoading:r,logout:n,checkAuth:a}=s8(),[i,s]=ve.useState(!1);ve.useEffect(()=>{!r&&!e?s(!0):e&&s(!1)},[e,r]);const o=()=>{a(),s(!1)};return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):e?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-slate-50 to-blue-50",children:[u.jsx("div",{className:"bg-white border-b border-slate-300 shadow-md",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[t&&u.jsxs(Ct,{variant:"outline",size:"sm",onClick:()=>t("home"),children:[u.jsx(qm,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 shadow-lg flex items-center justify-center",children:u.jsx(Ll,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Manage content and settings"})]})]})]}),u.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[u.jsxs(tr,{variant:"secondary",className:"px-3 py-1",children:[u.jsx(Ll,{className:"h-3 w-3 mr-1"}),"Admin Access"]}),u.jsxs(Ct,{variant:"outline",size:"sm",onClick:()=>{n(),t&&t("home")},children:[u.jsx(K2,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs(L9,{defaultValue:"buckets",className:"w-full",children:[u.jsxs(vA,{className:"mb-6",children:[u.jsx(Xu,{value:"buckets",children:"Suggested Buckets"}),u.jsx(Xu,{value:"blogs",children:"Blogs"})]}),u.jsx(Zu,{value:"buckets",children:u.jsx(rme,{isAdmin:!0})}),u.jsx(Zu,{value:"blogs",children:u.jsx(fxe,{})})]})})]}):u.jsxs(u.Fragment,{children:[u.jsx(gxe,{open:i,onLoginSuccess:o}),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 via-slate-50 to-blue-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Ll,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Please wait for login..."})]})})]})}function yxe(){return u.jsx("footer",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white mt-auto",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center gap-3",children:u.jsx("img",{src:"/logo.png",alt:"The Lal Street",className:"h-24 w-auto object-contain"})}),u.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Your comprehensive mutual fund portfolio calculator with real-time NAV data and industry-standard calculations."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-white",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("a",{href:"#home",className:"text-slate-300 hover:text-blue-400 transition-colors text-sm",children:"Home"})}),u.jsx("li",{children:u.jsx("a",{href:"#investment-plan",className:"text-slate-300 hover:text-blue-400 transition-colors text-sm",children:"Investment Plan"})}),u.jsx("li",{children:u.jsx("a",{href:"#retirement-plan",className:"text-slate-300 hover:text-blue-400 transition-colors text-sm",children:"Retirement Plan"})}),u.jsx("li",{children:u.jsx("a",{href:"#financial-planning",className:"text-slate-300 hover:text-blue-400 transition-colors text-sm",children:"Financial Planning"})}),u.jsx("li",{children:u.jsx("a",{href:"#ai-stock-analysis",className:"text-slate-300 hover:text-blue-400 transition-colors text-sm",children:"AI Stock Analysis"})}),u.jsx("li",{children:u.jsx("a",{href:"#blogs",className:"text-slate-300 hover:text-blue-400 transition-colors text-sm",children:"Blogs & Community"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-white",children:"Contact"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(Zk,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),u.jsx("a",{href:"mailto:admin@thelalstreet.com",className:"text-slate-300 hover:text-blue-400 transition-colors text-sm",children:"admin@thelalstreet.com"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(r$,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),u.jsx("a",{href:"tel:+919171516100",className:"text-slate-300 hover:text-blue-400 transition-colors text-sm",children:"+91 9171516100"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(t$,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),u.jsx("span",{className:"text-slate-300 text-sm",children:"India"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-white",children:"Follow Us"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("a",{href:"https://www.instagram.com/thelal.street?igsh=MXA0bHhlaGlqdzRyeA%3D%3D&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-lg bg-slate-800 hover:bg-pink-600 flex items-center justify-center transition-colors","aria-label":"Instagram",children:u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),u.jsx("a",{href:"https://www.linkedin.com/company/the-lal-street/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-lg bg-slate-800 hover:bg-blue-600 flex items-center justify-center transition-colors","aria-label":"LinkedIn",children:u.jsx(e$,{className:"w-5 h-5"})}),u.jsx("a",{href:"https://wa.me/message/UE6A7P44TSENF1",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-lg bg-slate-800 hover:bg-green-600 flex items-center justify-center transition-colors","aria-label":"WhatsApp",children:u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})]})]})]}),u.jsx("div",{className:"border-t border-slate-700 pt-8",children:u.jsxs("div",{className:"text-sm text-slate-400 text-center",children:[u.jsxs("p",{children:[" ",new Date().getFullYear()," The Lal Street. All rights reserved."]}),u.jsx("p",{className:"mt-1",children:"Built with real NAV data for accurate portfolio analysis."})]})})]})})}const bxe=({onIdle:t,idleTime:e,enabled:r=!0})=>{const n=j.useRef(null),a=j.useRef(null);return j.useEffect(()=>{if(!r){n.current&&(clearTimeout(n.current),n.current=null);return}const s=()=>{const l=localStorage.getItem("siteVisitStartTime");if(l)return parseInt(l,10);const c=Date.now();return localStorage.setItem("siteVisitStartTime",c.toString()),c};a.current=s();const o=()=>{if(!a.current)return;const l=Date.now()-a.current,d=sessionStorage.getItem("loginPopupDismissed");l>=e&&!d&&t()};return o(),n.current=setInterval(o,1e4),()=>{n.current&&clearInterval(n.current)}},[t,e,r]),{resetTimer:()=>{localStorage.removeItem("siteVisitStartTime"),a.current=null}}},Tm=t=>{if(t===0)return[];const e=Math.floor(100/t),r=100-e*t,n=new Array(t).fill(e);for(let a=0;a<r;a++)n[a]+=1;return n};function xxe(){const{isAuthenticated:t,isLoading:e}=y0(),[r,n]=j.useState([]),[a,i]=j.useState([]),[s,o]=j.useState("home"),[l,c]=j.useState([]),[d,f]=j.useState(null),[p,h]=j.useState(!1);bxe({onIdle:()=>{!t&&!p&&!e&&h(!0)},idleTime:120*1e3,enabled:!t&&!e});const v=()=>{sessionStorage.setItem("loginPopupDismissed","true"),h(!1)};j.useEffect(()=>{t&&(sessionStorage.removeItem("loginPopupDismissed"),localStorage.removeItem("siteVisitStartTime"),h(!1))},[t]),j.useEffect(()=>{const L=window.location.hash.slice(1);if(L)if(L.startsWith("blog-detail")){const S=new URLSearchParams(L.split("?")[1]).get("id");S&&(f(S),o("blog-detail"))}else["home","investment-plan","retirement-plan","financial-planning","ai-stock-analysis","blogs","admin"].includes(L)&&(o(L),f(null))},[]),j.useEffect(()=>{const L=()=>{const U=window.location.hash.slice(1);U&&["home","investment-plan","retirement-plan","financial-planning","ai-stock-analysis","blogs","admin"].includes(U)&&o(U)};return window.addEventListener("hashchange",L),()=>window.removeEventListener("hashchange",L)},[]);const m=L=>{if(r.find(k=>k.id===L.id))return;if(r.length>=5){alert("Maximum 5 funds allowed in the bucket. Please remove a fund before adding a new one.");return}const U=r.length+1,S=Tm(U),O=r.map((k,M)=>({...k,weightage:S[M]}));n([...O,{...L,weightage:S[U-1]}])},g=L=>{const U=r.filter(S=>S.id!==L);if(U.length>0){const S=Tm(U.length),O=U.map((k,M)=>({...k,weightage:S[M]}));n(O)}else n([])},b=(L,U)=>{n(r.map(S=>S.id===L?{...S,weightage:U}:S))},w=L=>{if(a.find(k=>k.id===L.id))return;if(a.length>=5){alert("Maximum 5 funds allowed in the bucket. Please remove a fund before adding a new one.");return}const U=a.length+1,S=Tm(U),O=a.map((k,M)=>({...k,weightage:S[M]}));i([...O,{...L,weightage:S[U-1]}])},N=L=>{const U=a.filter(S=>S.id!==L);if(U.length>0){const S=Tm(U.length),O=U.map((k,M)=>({...k,weightage:S[M]}));i(O)}else i([])},_=(L,U)=>{i(a.map(S=>S.id===L?{...S,weightage:U}:S))};j.useCallback((L,U)=>{const S={id:`bucket-${Date.now()}`,name:L,funds:[...U],createdAt:new Date().toISOString()};c(O=>[...O,S])},[]),j.useCallback(L=>{c(U=>U.filter(S=>S.id!==L))},[]),j.useCallback((L,U)=>{c(S=>S.map(O=>O.id===L?{...O,funds:[...U]}:O))},[]);const A=(L,U)=>{L==="blog-detail"&&U?(f(U),o("blog-detail"),window.location.hash=`#blog-detail?id=${U}`):(o(L),f(null),window.location.hash=`#${L}`),window.scrollTo({top:0,behavior:"smooth"})},C=j.useCallback((L,U)=>{const S=L.funds.map(O=>({...O,weightage:O.weightage||0}));U==="investment"?n(S):i(S),o(U==="investment"?"investment-plan":"retirement-plan"),window.scrollTo({top:0,behavior:"smooth"})},[]),E=()=>{switch(s){case"home":return u.jsx(yj,{onNavigate:A,onImportBucket:C});case"investment-plan":return u.jsx(che,{selectedFunds:r,onAddFund:m,onRemoveFund:g,onWeightageChange:b});case"retirement-plan":return u.jsx(Epe,{selectedFunds:a,onAddFund:w,onRemoveFund:N,onWeightageChange:_});case"financial-planning":return u.jsx(Vpe,{});case"ai-stock-analysis":return u.jsx(Gpe,{onNavigate:A});case"blogs":return u.jsx(RO,{onNavigate:A});case"blog-detail":return d?u.jsx(eme,{blogId:d,onNavigate:A}):u.jsx(RO,{onNavigate:A});case"admin":return u.jsx(vxe,{onNavigate:A});default:return u.jsx(yj,{})}},R=r.length+a.length;return u.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-100 via-slate-50 to-blue-50",children:[u.jsx(HH,{activePage:s,onNavigate:A,selectedFundsCount:R}),u.jsx("main",{className:"flex-1",children:E()}),u.jsx(yxe,{}),s==="home"&&u.jsx("button",{onClick:()=>o("admin"),className:"fixed bottom-3 right-3 z-50 text-slate-300/5 hover:text-slate-400/20 transition-opacity duration-300 cursor-pointer select-none",title:"","aria-label":"Admin Access",style:{fontSize:"8px",fontFamily:"monospace",padding:"4px",lineHeight:"1",opacity:.03,userSelect:"none"},onMouseEnter:L=>{L.currentTarget.style.opacity="0.2"},onMouseLeave:L=>{L.currentTarget.style.opacity="0.03"},children:""}),u.jsx(XN,{open:p,onClose:()=>h(!1),onDismiss:v})]})}const wxe=()=>{console.group(" Authentication Debug Info");const t=localStorage.getItem("accessToken"),e=localStorage.getItem("refreshToken"),r=localStorage.getItem("user");console.log(" LocalStorage:"),console.log("  - accessToken:",t?`exists (${t.length} chars)`:" missing"),console.log("  - refreshToken:",e?`exists (${e.length} chars)`:" missing"),console.log("  - user:",r?JSON.parse(r):" missing"),console.log(`
 Cookies:`),console.log("  - Note: httpOnly cookies cannot be read by JavaScript"),console.log("  - Check DevTools  Application  Cookies to see httpOnly cookies"),console.log(`
 API Test:`);const n="https://the-lal-street-website.onrender.com";console.log("  - API URL:",n),console.log("  - Testing /api/auth/me..."),fetch(`${n}/api/auth/me`,{credentials:"include",headers:t?{Authorization:`Bearer ${t}`}:{}}).then(async a=>{console.log("  - Status:",a.status,a.statusText),console.log("  - Headers:",Object.fromEntries(a.headers.entries()));const i=await a.json();console.log("  - Response:",i),a.ok&&i.success?(console.log("   Authentication successful!"),console.log("  - User:",i.data.user)):(console.log("   Authentication failed"),console.log("  - Error:",i.message))}).catch(a=>{console.error("   Request failed:",a)}),console.groupEnd()},Nxe=async()=>{const t="https://the-lal-street-website.onrender.com",e=localStorage.getItem("accessToken");console.log(" Testing /api/auth/me endpoint..."),console.log("Request config:",{url:`${t}/api/auth/me`,hasAuthHeader:!!e,credentials:"include"});try{const r=await fetch(`${t}/api/auth/me`,{credentials:"include",headers:e?{Authorization:`Bearer ${e}`}:{}});console.log("Response:",{status:r.status,statusText:r.statusText,ok:r.ok,headers:Object.fromEntries(r.headers.entries())});const n=await r.json();return console.log("Response data:",n),{response:r,data:n}}catch(r){throw console.error("Error:",r),r}},Sxe=()=>{console.group(" Cookie Check"),console.log("Note: httpOnly cookies cannot be read by JavaScript"),console.log("To check cookies:"),console.log("1. Open DevTools (F12)"),console.log("2. Go to Application tab (Chrome) or Storage tab (Firefox)"),console.log("3. Click on Cookies  your domain"),console.log("4. Look for:"),console.log("   - accessToken (should be httpOnly)"),console.log("   - refreshToken (should be httpOnly)"),console.log(`
Current document.cookie:`,document.cookie||"(no readable cookies)"),console.groupEnd()},Axe=()=>{console.log(" Clearing auth data..."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),console.log(" Cleared localStorage"),console.log("Note: httpOnly cookies must be cleared via logout API or browser settings")};typeof window<"u"&&(window.debugAuth=wxe,window.testAuthMe=Nxe,window.checkCookies=Sxe,window.clearAuthDebug=Axe,console.log(" Auth debug utilities available:"),console.log("  - debugAuth() - Full auth debug info"),console.log("  - testAuthMe() - Test /api/auth/me endpoint"),console.log("  - checkCookies() - Check cookie info"),console.log("  - clearAuthDebug() - Clear localStorage auth data"));HB.createRoot(document.getElementById("root")).render(u.jsx(ve.StrictMode,{children:u.jsx(Y$,{children:u.jsx(xxe,{})})}));export{Ha as A,Sr as _,Ff as a,Hd as b,Cxe as c,Dt as l,Exe as s,ow as u};
